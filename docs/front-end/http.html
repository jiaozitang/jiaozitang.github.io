<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-react-helmet="true">HTTP | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jiaozitang.github.io/docs/front-end/http"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="HTTP | My Site"><meta data-react-helmet="true" name="description" content="对 http 和 https 的了解 √✨"><meta data-react-helmet="true" property="og:description" content="对 http 和 https 的了解 √✨"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jiaozitang.github.io/docs/front-end/http"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/docs/front-end/http" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/docs/front-end/http" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1098517f.css">
<link rel="preload" href="/assets/js/runtime~main.51a085b3.js" as="script">
<link rel="preload" href="/assets/js/main.2e18ea97.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/front-end/code">前端</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jiaozitang/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/docs/front-end">front-end</a><button aria-label="Toggle the collapsible sidebar category &#x27;front-end&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/code">code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/css">css</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/html">html</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/front-end/http">HTTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/js">js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/npm">npm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front-end/react">react</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>HTTP</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="对-http-和-https-的了解-">对 http 和 https 的了解 √✨<a class="hash-link" href="#对-http-和-https-的了解-" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="http-和-https-的基本概念">http 和 https 的基本概念<a class="hash-link" href="#http-和-https-的基本概念" title="Direct link to heading">​</a></h3><ul><li><p>http：</p><ul><li>是一种超文本传输协议，用于规范化在客户端和服务端之前传输文字、图片、音频、视频等超文本数据的行为</li></ul></li><li><p>https：</p><ul><li>是 http 的安全版，在 http 的基础上在传输层加入 SSL 加密，</li><li>用于建立一个信息安全通道，确保网站的真实性</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="http-和-https-的区别">http 和 https 的区别<a class="hash-link" href="#http-和-https-的区别" title="Direct link to heading">​</a></h3><ul><li><p>http：</p><ul><li>数据未加密</li><li>一般端口是 80</li></ul></li><li><p>https:</p><ul><li>SSL 协议对数据加密</li><li>一般端口是 443</li><li>需要 ca 证书，费用高</li><li>握手阶段比较费时，缓存不如 http 高效</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="从浏览器地址栏输入-url-到请求返回发生了什么-">从浏览器地址栏输入 url 到请求返回发生了什么 √✨<a class="hash-link" href="#从浏览器地址栏输入-url-到请求返回发生了什么-" title="Direct link to heading">​</a></h2><ol><li>输入 URL 后解析出协议、主机、端口、路径等信息</li><li>DNS 域名解析</li><li>TCP 连接</li><li>http 请求</li><li>服务器处理请求并返回 HTTP 报文</li><li>浏览器渲染页面</li><li>断开 TCP 连接</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="对-tcp-三次握手和四次挥手的理解-">对 TCP 三次握手和四次挥手的理解 √✨<a class="hash-link" href="#对-tcp-三次握手和四次挥手的理解-" title="Direct link to heading">​</a></h2><p>三次握手：</p><ul><li>A:请求建立连接</li><li>B:收到建立连接的请求</li><li>A:连接已建立</li></ul><p>为什么需要三次握手，两次不行吗？其实这是由 TCP 的自身特点可靠传输决定的。客户端和服务端要进行可靠传输，那么就需要确认双方的接收和发送能力。第一次握手可以确认客服端的发送能力，第二次握手，确认了服务端的发送能力和接收能力，所以第三次握手才可以确认客户端的接收能力。不然容易出现丢包的现象。</p><p>四次挥手</p><ul><li>A:客户端请求关闭连接</li><li>B:服务端收到关闭信号，还有数据需要传输</li><li>B:服务端数据传输完成，服务端同意关闭连接</li><li>A:客户端确定关闭连接</li></ul><p>为什么需要四次挥手</p><p>因此请求断开连接的报文和确认断开连接的报文不能一起发送。所以断开连接的时候才需要四次挥手来完成。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="http-状态码-">http 状态码 √✨<a class="hash-link" href="#http-状态码-" title="Direct link to heading">​</a></h2><p>1.1 状态码分类</p><p>1xx - 服务器收到请求。
2xx - 请求成功，如 200。
3xx - 重定向，如 302。
4xx - 客户端错误，如 404。
5xx - 服务端错误，如 500。</p><p>1.2 常见状态码</p><p>200 - 成功。
301 - 永久重定向（配合 location，浏览器自动处理）。
302 - 临时重定向（配合 location，浏览器自动处理）。
304 - 资源未被修改。
403 - 没权限。
404 - 资源未找到。
500 - 服务器错误。
504 - 网关超时。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="如何理解-http-缓存-">如何理解 http 缓存 √✨<a class="hash-link" href="#如何理解-http-缓存-" title="Direct link to heading">​</a></h2><p><a href="https://juejin.cn/post/7101942484543995934" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7101942484543995934</a></p><p><strong>什么是 http 缓存</strong>
缓存就是存储静态资源，减少重复资源请求</p><p><strong>http 缓存的好处</strong>
当浏览器打开一个页面时，浏览器会根据你输入的 URL 到对应的服务器上请求资源。等待请求资源这段时间页面就会白屏。
如果想要提高用户体验，就需要用到缓存，有一个良好的缓存策略可以减少重复资源的请求，降低服务器的开销，提高用户页面的加载速度。</p><p><strong>http 缓存的类型</strong>
http 缓存分为强制缓存和协商缓存两种。</p><p>在浏览器加载资源的时候，首先会根据请求头判断是否命中强缓存策略，如果命中强缓存，去本地获取缓存资源，如果没有命中强缓存，则向服务器发送请求，验证协商缓存是否命中，如果命中协商缓存则返回 304 状态码，否则返回新的资源数据。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="如何理解强制缓存和协商缓存-">如何理解强制缓存和协商缓存 √✨<a class="hash-link" href="#如何理解强制缓存和协商缓存-" title="Direct link to heading">​</a></h2><p>强制缓存代表的是去本地获取缓存资源还是去服务器获取资源</p><p>协商缓存代表的是返回状态码 304，还是返回新的资源数据</p><p>首先判断强制缓存是否命中，然后再判断协商缓存是否命中。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="强制缓存">强制缓存<a class="hash-link" href="#强制缓存" title="Direct link to heading">​</a></h3><p>强制缓存通过 expires 和 cache-control 设置过期时间，Cache-Control 优先级高于 Expires</p><p>Expires 表示资源的过期绝对时间，假设客户端和服务器时间不同，会导致缓存命中误差</p><p>Cache-Control 通过不同的属性值代表不同的缓存定义：</p><ul><li>public：表示响应资源既可以被客户端缓存也可以被代理服务器缓存。</li><li>private：表示响应资源只能被浏览器缓存，默认是 private</li><li>max-age：缓存最大过期时间，值是相对时间。</li><li>no-cache：储存在本地缓存区中。</li><li>no-store：不缓存任何数据</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="协商缓存">协商缓存<a class="hash-link" href="#协商缓存" title="Direct link to heading">​</a></h3><p>协商缓存通过 Last-Modified、Etag 定义，Etag 的优先级更高。</p><p>Last-Modified 有两个缺点</p><ul><li>只能精确到秒级</li><li>资源的最后修改时间变了但是内容没变时有缓存误差</li></ul><p>Etag 有一个缺点</p><ul><li>服务器需要对文件资源进行 etag 计算，需要付出额外的计算开销，如果资源的尺寸比较大，生成 Etag 的过程可能会影响服务器的性能</li></ul><p>Last-Modified：资源的最后修改时间。
Etag：资源的唯一标识（一个字符串，类似于人类的指纹）。</p><p>首先服务器对比客户端传来的 If-None-Match 和当前服务器上的 etag 是否一致，如果一致，命中协商缓存</p><p>如果不一致，对比客户端传来的 If-Modified-Since 和当前服务器上的 Last-Modified，如果服务器上的 Last-Modified 更小，命中协商缓存</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="三种刷新操作对-http-缓存的影响-">三种刷新操作对 http 缓存的影响 √✨<a class="hash-link" href="#三种刷新操作对-http-缓存的影响-" title="Direct link to heading">​</a></h2><p>地址栏输入或地址栏前进后退：强制缓存有效，协商缓存有效。
手动刷新：强制缓存失效，协商缓存有效。
强制刷新：强制缓存失效，协商缓存失效。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="get-和-post-的区别-">GET 和 POST 的区别 √✨<a class="hash-link" href="#get-和-post-的区别-" title="Direct link to heading">​</a></h2><p>从 5 个角度出发，GET 和 POST 有较大区别。</p><ol><li>从参数的角度，GET 参数一般放在 URL 中，有长度限制而且不安全，POST 放在请求体中，没有长度限制也更适合传输敏感信息。</li><li>从编码的角度，GET 只能进行 URL 编码，而 POST 没有限制。</li><li>从缓存的角度，GET 请求参数会被保存在浏览历史记录里，POST 不会。</li><li>从 TCP 的角度，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发 header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST 请求只发一个 TCP 包)</li><li>从幂等性的角度，GET 是幂等的，而 POST 不是。(幂等表示执行相同的操作，结果也是相同的)</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="理解-websocket-">理解 websocket √<a class="hash-link" href="#理解-websocket-" title="Direct link to heading">​</a></h2><p>websocket 是浏览器与服务器进行双向通信的协议，基于 TCP 传输协议，并复用 HTTP 的握手通道。</p><p>优点：刚刚</p><ul><li>支持双向通信，实时性更强。</li><li>更好的二进制支持。</li><li>协议控制的数据包头部较小。</li><li>支持扩展。用户可以扩展协议，或者实现自定义的子协议。</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="理解-http2-">理解 HTTP2 √✨<a class="hash-link" href="#理解-http2-" title="Direct link to heading">​</a></h2><p>http2.0 是 http1.1 之后的重大更新。相较于 http1.1，http2 针对 4 个方面进行了改进</p><ul><li>二进制分帧层：HTTP2.0 会将所有的传输信息分割为更小的信息或者帧，并进行二进制编码</li><li>允许多路复用：让所有的通信都在一个 TCP 连接上完成，实现请求并发</li><li>头部压缩：采用 HPACK 压缩首部，减小体积</li><li>服务器端推送：服务器可以预测客户端需要的资源，主动推送到客户端</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/front-end/http.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/front-end/html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">html</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/front-end/js"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">js</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#对-http-和-https-的了解-" class="table-of-contents__link toc-highlight">对 http 和 https 的了解 √✨</a><ul><li><a href="#http-和-https-的基本概念" class="table-of-contents__link toc-highlight">http 和 https 的基本概念</a></li><li><a href="#http-和-https-的区别" class="table-of-contents__link toc-highlight">http 和 https 的区别</a></li></ul></li><li><a href="#从浏览器地址栏输入-url-到请求返回发生了什么-" class="table-of-contents__link toc-highlight">从浏览器地址栏输入 url 到请求返回发生了什么 √✨</a></li><li><a href="#对-tcp-三次握手和四次挥手的理解-" class="table-of-contents__link toc-highlight">对 TCP 三次握手和四次挥手的理解 √✨</a></li><li><a href="#http-状态码-" class="table-of-contents__link toc-highlight">http 状态码 √✨</a></li><li><a href="#如何理解-http-缓存-" class="table-of-contents__link toc-highlight">如何理解 http 缓存 √✨</a></li><li><a href="#如何理解强制缓存和协商缓存-" class="table-of-contents__link toc-highlight">如何理解强制缓存和协商缓存 √✨</a><ul><li><a href="#强制缓存" class="table-of-contents__link toc-highlight">强制缓存</a></li><li><a href="#协商缓存" class="table-of-contents__link toc-highlight">协商缓存</a></li></ul></li><li><a href="#三种刷新操作对-http-缓存的影响-" class="table-of-contents__link toc-highlight">三种刷新操作对 http 缓存的影响 √✨</a></li><li><a href="#get-和-post-的区别-" class="table-of-contents__link toc-highlight">GET 和 POST 的区别 √✨</a></li><li><a href="#理解-websocket-" class="table-of-contents__link toc-highlight">理解 websocket √</a></li><li><a href="#理解-http2-" class="table-of-contents__link toc-highlight">理解 HTTP2 √✨</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.51a085b3.js"></script>
<script src="/assets/js/main.2e18ea97.js"></script>
</body>
</html>
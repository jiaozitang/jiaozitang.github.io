<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-react-helmet="true">ä»0åˆ°1å¼€å‘ä¸€ä¸ªReactç»„ä»¶åº“ | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jiaozitang.github.io/blog/2022/09/17/react-component"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="ä»0åˆ°1å¼€å‘ä¸€ä¸ªReactç»„ä»¶åº“ | My Site"><meta data-react-helmet="true" name="description" content="èƒŒæ™¯"><meta data-react-helmet="true" property="og:description" content="èƒŒæ™¯"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-09-17T00:00:00.000Z"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jiaozitang.github.io/blog/2022/09/17/react-component"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog/2022/09/17/react-component" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog/2022/09/17/react-component" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1098517f.css">
<link rel="preload" href="/assets/js/runtime~main.d959116f.js" as="script">
<link rel="preload" href="/assets/js/main.8c157036.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/front-end/code">å‰ç«¯</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jiaozitang/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">All posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/04/pnpm">è¯´å®è¯ï¼Œä¸å¾—ä¸ç”¨ pnpm çš„åŸå› ï¼Œè¿˜å¾—æ˜¯ç”µè„‘å†…å­˜ä¸å¤Ÿç”¨</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/19/rollup">ã€å®æˆ˜ç¯‡ã€‘æœ€è¯¦ç»†çš„Rollupæ‰“åŒ…é¡¹ç›®æ•™ç¨‹</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/18/component">5 ç§ç€‘å¸ƒæµåœºæ™¯çš„å®ç°åŸç†è§£æ</a></li><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/2022/09/17/react-component">ä»0åˆ°1å¼€å‘ä¸€ä¸ªReactç»„ä»¶åº“</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/08/ts">ç±»å‹ä½“æ“çš„9ç§ç±»å‹è¿ç®—ã€4ç§ç±»å‹å¥—è·¯æ€»ç»“</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/04/git">20ä¸ªå¸¸ç”¨çš„ Git æŒ‡ä»¤ç”¨æ³•</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/08/28/lerna">lerna</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/08/14/hooks">hooks</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/07/31/devtools2">ä¸€äº›æœ‰ç”¨çš„ JavaScript è°ƒè¯•æŠ€å·§</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/07/30/devtools1">devtools1</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/06/24/storybook">æµ…å­¦ä¸€ä¸‹ storybook</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/06/13/module-federation">æµ…å­¦ä¸€ä¸‹ webpack5 module federation</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/05/23/ts">Typescript å¸¸ç”¨ç‰¹æ€§å°ç»“</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/03/12/function-code">JavaScript å‡½æ•°å¼ç¼–ç¨‹-å…¥é—¨ç¯‡</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/12/React-Hooks">React-ä½ æœ‰å®Œå…¨äº†è§£ Hooks å—</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/11/up-up-up">ä¸“æ å­¦ä¹ å¿ƒå¾—ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/01/31/ã€è¯‘ã€‘ä½ çŸ¥é“ Code Review åº”è¯¥æ£€æŸ¥å“ªäº›é—®é¢˜å—">ã€è¯‘ã€‘ä½ çŸ¥é“ Code Review åº”è¯¥æ£€æŸ¥å“ªäº›é—®é¢˜å—</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/å®è·µæŒ‡å—-å¿«é€Ÿæ­å»ºæ–‡æ¡£ç³»ç»Ÿ">å®è·µæŒ‡å—-å¿«é€Ÿæ­å»ºæ–‡æ¡£ç³»ç»Ÿ</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/12/20/how-to-join-Taro">å¦‚ä½•å‚ä¸å¤§å‹å¼€æºé¡¹ç›®-Taro å…±å»º</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/22/simple-react">æ‰‹å†™ç³»åˆ—-å®ç°ä¸€ä¸ªé“‚é‡‘æ®µä½çš„ React</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">ä»0åˆ°1å¼€å‘ä¸€ä¸ªReactç»„ä»¶åº“</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-09-17T00:00:00.000Z" itemprop="datePublished">September 17, 2022</time> Â· <!-- -->14 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>å‰ç«¯æŠ€æœ¯çš„ä¸æ–­å‘å±•è¿‡ç¨‹ä¸­ï¼Œç»„ä»¶åŒ–ã€æ¨¡å—åŒ–å·²æˆä¸ºä¸»æµã€‚</p><p>å½“å¼€å‘çš„é¡¹ç›®ä¸­æœ‰ä¸€äº›å…¬å…±ç»„ä»¶å¯ä»¥æ²‰æ·€çš„æ—¶å€™ï¼Œå°†è¿™äº›ç»„ä»¶æŠ½ç¦»å‡ºæ¥ï¼Œå¼€å‘ä¸€ä¸ªç»„ä»¶åº“æ— ç–‘æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆå»å¼€å‘ä¸€ä¸ªç»„ä»¶åº“å‘¢ï¼Ÿæœ¬æ–‡å°†å’Œä½ ä¸€èµ·ä»é›¶å¼€å‘ä¸€ä¸ª React ç»„ä»¶åº“ã€‚</p><ul><li>æœ¬æ–‡é¡¹ç›®æºç ï¼š<a href="https://github.com/jiaozitang/react-masonry-component2" target="_blank" rel="noopener noreferrer">https://github.com/jiaozitang/react-masonry-component2</a></li><li>æœ¬æ–‡ç»„ä»¶åº“ npm åŒ…åœ°å€ï¼š<a href="https://www.npmjs.com/package/react-masonry-component2" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/react-masonry-component2</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€æ­å»ºé¡¹ç›®">ä¸€ã€æ­å»ºé¡¹ç›®<a class="hash-link" href="#ä¸€æ­å»ºé¡¹ç›®" title="Direct link to heading">â€‹</a></h2><p>ç»„ä»¶åº“çš„ç¬¬ä¸€æ­¥æ˜¯æ­å»ºé¡¹ç›®ï¼Œé€‰æ‹©åˆé€‚çš„æŠ€æœ¯ï¼Œå¹¶åˆ¶å®šä»£ç è§„èŒƒã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-æŠ€æœ¯é€‰å‹">1. æŠ€æœ¯é€‰å‹<a class="hash-link" href="#1-æŠ€æœ¯é€‰å‹" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="11-å‰ç«¯æ¡†æ¶">1.1 å‰ç«¯æ¡†æ¶<a class="hash-link" href="#11-å‰ç«¯æ¡†æ¶" title="Direct link to heading">â€‹</a></h4><p>å‰ç«¯æ¡†æ¶çš„é€‰æ‹©ä¸ç”¨å¤šè¯´ï¼Œå¤§å®¶éƒ½æ˜¯é€‰æ‹©æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨åˆ°çš„æ¡†æ¶ï¼Œæœ¬æ–‡ä½¿ç”¨çš„æ˜¯ Reactã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="12-ç»„ä»¶åº“å·¥å…·">1.2 ç»„ä»¶åº“å·¥å…·<a class="hash-link" href="#12-ç»„ä»¶åº“å·¥å…·" title="Direct link to heading">â€‹</a></h4><p>ç»„ä»¶åº“å·¥å…·ï¼Œå¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„ 2 ä¸ªç»„ä»¶åº“å·¥å…·åˆ†åˆ«çš„ dumi å’Œ Storybookã€‚</p><p>dumiï¼Œæ˜¯ä¸€æ¬¾ä¸ºç»„ä»¶å¼€å‘åœºæ™¯è€Œç”Ÿçš„æ–‡æ¡£å·¥å…·ï¼Œä¸ Â <a href="https://github.com/umijs/father" target="_blank" rel="noopener noreferrer">father</a>Â  ä¸€èµ·ä¸ºå¼€å‘è€…æä¾›ä¸€ç«™å¼çš„ç»„ä»¶å¼€å‘ä½“éªŒï¼Œ<strong>father è´Ÿè´£æ„å»ºï¼Œè€Œ dumi è´Ÿè´£ç»„ä»¶å¼€å‘åŠç»„ä»¶æ–‡æ¡£ç”Ÿæˆ</strong>ã€‚</p><p>Storybook æ˜¯ä¸€ä¸ªç”¨äºå•ç‹¬æ„å»º UI ç»„ä»¶å’Œé¡µé¢çš„å‰ç«¯å·¥å…·ã€‚æˆåƒä¸Šä¸‡çš„å›¢é˜Ÿå°†å®ƒç”¨äº UI å¼€å‘ã€æµ‹è¯•å’Œæ–‡æ¡£ã€‚å®ƒæ˜¯å¼€æºå’Œå…è´¹çš„ã€‚</p><p>dumi å’Œ Storybook éƒ½æ˜¯ä¸“ç”¨äºç»„ä»¶å¼€å‘åœºæ™¯çš„å·¥å…·ï¼Œç”±äº Storybook æ›´åŠ æ”¯æŒæµ‹è¯•éš¾ä»¥åˆ°è¾¾çš„çŠ¶æ€å’Œè¾¹ç¼˜æ¡ˆä¾‹ï¼Œå› æ­¤æœ€ç»ˆé€‰æ‹© Storybook æ¥å¼€å‘ç»„ä»¶åº“ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-å¿«é€Ÿå¼€å§‹">2. å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#2-å¿«é€Ÿå¼€å§‹" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="21-creat-react-app">2.1 creat-react-app<a class="hash-link" href="#21-creat-react-app" title="Direct link to heading">â€‹</a></h4><p>ä½¿ç”¨ creat-react-app åˆ›å»ºä¸€ä¸ªæ”¯æŒ TypeScript çš„ React é¡¹ç›®ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-react-app my-react-component --template typescript</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="22-storybook">2.2 Storybook<a class="hash-link" href="#22-storybook" title="Direct link to heading">â€‹</a></h4><p>Storybook æ•™ç¨‹ï¼š<a href="https://storybook.js.org/" target="_blank" rel="noopener noreferrer">https://storybook.js.org/</a>ã€‚</p><p>ä¸º React é¡¹ç›®æ·»åŠ  Storybook èƒ½åŠ›ã€‚</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">cd ./my-react-component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx storybook init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æ­¤æ—¶é€šè¿‡ <code>yarn storybook</code>ï¼Œå°†åœ¨æœ¬åœ°å¯åŠ¨ Storybook å¹¶è¾“å‡ºåœ°å€ã€‚æ ¹æ®æ‚¨çš„ç³»ç»Ÿé…ç½®ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨æ–°çš„æµè§ˆå™¨é€‰é¡¹å¡ä¸­æ‰“å¼€åœ°å€ï¼Œç„¶åæ‚¨ä¼šçœ‹åˆ°ä¸€ä¸ªæ¬¢è¿å±å¹•ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42e7a0a0000a4b79a7fa61da49e18aa1~tplv-k3u1fbpfcp-zoom-1.image"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-ä»£ç è§„èŒƒ">3. ä»£ç è§„èŒƒ<a class="hash-link" href="#3-ä»£ç è§„èŒƒ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="31-prettier">3.1 Prettier<a class="hash-link" href="#31-prettier" title="Direct link to heading">â€‹</a></h4><p>Prettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è®©å›¢é˜Ÿçš„<strong>ä»£ç é£æ ¼</strong>ä¿æŒä¸€è‡´ã€‚å¯æ”¯æŒçš„æºç ç±»å‹åŒ…æ‹¬ï¼šJavaScriptã€JSXã€Angularã€Vueã€Flowã€TypeScriptã€CSSã€HTMLã€JSONã€YAML ç­‰ç­‰ã€‚</p><p>å®‰è£…ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> prettier -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ é…ç½®æ–‡ä»¶ <code>.prettierrc</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;arrowParens&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;always&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;bracketSameLine&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;bracketSpacing&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;embeddedLanguageFormatting&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;auto&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;htmlWhitespaceSensitivity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;css&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;insertPragma&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;jsxSingleQuote&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;printWidth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;proseWrap&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;preserve&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;quoteProps&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;as-needed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;requirePragma&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;semi&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;singleQuote&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;tabWidth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;trailingComma&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es5&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;useTabs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;vueIndentScriptAndStyle&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ <code>packages.json</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;prettier&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prettier src --write&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿è¡Œ <code>yarn prettier</code> å°†ä¼šæ ¼å¼åŒ– <code>src</code> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„ä»£ç æ ·å¼ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="32-eslint">3.2 ESlint<a class="hash-link" href="#32-eslint" title="Direct link to heading">â€‹</a></h4><p>ESLint ç”¨äºæ£€æµ‹ JS ä»£ç ï¼Œå‘ç°<strong>ä»£ç è´¨é‡é—®é¢˜</strong>å¹¶ä¿®å¤é—®é¢˜ï¼Œè¿˜å¯ä»¥è‡ªå·±æ ¹æ®é¡¹ç›®éœ€è¦è¿›è¡Œè§„åˆ™çš„è‡ªå®šä¹‰é…ç½®ä»¥åŠæ£€æŸ¥èŒƒå›´ç­‰ç­‰ã€‚</p><p>å®‰è£…ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn add eslint eslint-plugin-react eslint-plugin-simple-import-sort eslint-plugin-unused-imports @typescript-eslint/eslint-plugin @typescript-eslint/parser -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ é…ç½®æ–‡ä»¶ <code>.eslintrc.js</code>ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  env</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    es2021</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;eslint:recommended&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;plugin:react/recommended&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  overrides</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  parser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  parserOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ecmaVersion</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;latest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sourceType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;module&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;@typescript-eslint&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;unused-imports&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;simple-import-sort&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;no-unused-vars&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;off&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// or &quot;@typescript-eslint/no-unused-vars&quot;: &quot;off&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;unused-imports/no-unused-imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;warn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;unused-imports/no-unused-vars&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;warn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        vars</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;all&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        varsIgnorePattern</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^_&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        args</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;after-used&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        argsIgnorePattern</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^_&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;simple-import-sort/imports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;warn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;simple-import-sort/exports&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;warn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;react/react-in-jsx-scope&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;off&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;react/prop-types&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;off&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ <code>packages.json</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;eslint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eslint src --fix&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿è¡Œ <code>yarn eslint</code> å°†ä¼šæ£€æµ‹ src ä¸‹æ‰€æœ‰ jsã€tsã€jsxã€tsx çš„è¯­æ³•åŠæ ·å¼é—®é¢˜å¹¶è¿›è¡Œä¿®å¤ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="33-lint-staged">3.3 lint-staged<a class="hash-link" href="#33-lint-staged" title="Direct link to heading">â€‹</a></h4><p><code>lint-staged</code>Â  ç›¸å½“äºä¸€ä¸ªæ–‡ä»¶è¿‡æ»¤å™¨ï¼Œæ¯æ¬¡æäº¤æ—¶åªæ£€æŸ¥æœ¬æ¬¡æäº¤çš„æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå®ƒä¸èƒ½æ ¼å¼åŒ–ä»£ç å’Œæ ¡éªŒæ–‡ä»¶ï¼Œéœ€è¦è‡ªå·±é…ç½®ä¸€ä¸‹ï¼Œå¦‚ï¼š<code>.eslintrc</code>ã€<code>.stylelintrc</code>Â  ç­‰ï¼Œç„¶ååœ¨ Â <code>package.json</code>Â  ä¸­å¼•å…¥ã€‚</p><p>å®‰è£…ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn add lint-staged -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ é…ç½®æ–‡ä»¶ .lintstagedrcï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;src/**/*.tsx&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;prettier --write&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eslint --fix&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;src/**/*.scss&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;prettier --write&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;src/**/*.mdx&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;prettier --write&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;src/**/*.md&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;prettier --write&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ <code>packages.json</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;ling-staged&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ling-staged&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿è¡Œ <code>yarn lint-staged</code> å°†å¯¹ <code>git</code> æš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶æ‰§è¡Œ <code>.lintstagedrc</code> ä¸­é…ç½®çš„å‘½ä»¤ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="34-husky">3.4 husky<a class="hash-link" href="#34-husky" title="Direct link to heading">â€‹</a></h4><p><code>husky</code>Â  å·¥å…·å¯ä»¥å®šä¹‰æ‹¦æˆª Â <code>git</code>Â  é’©å­ï¼Œå¯¹æäº¤çš„æ–‡ä»¶å’Œä¿¡æ¯åšæ ¡éªŒå’Œè‡ªåŠ¨ä¿®å¤ã€‚</p><p>å®‰è£…ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> husky -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ <code>packages.json</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;prepare&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;husky install&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åˆå§‹åŒ– <code>husky</code> é…ç½®æ–‡ä»¶ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn prepare</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åˆå§‹åŒ– <code>husky</code> é…ç½®æ–‡ä»¶åæ ¹ç›®å½•ä¼šç”Ÿæˆä»¥ä¸‹ç›®å½•ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1907be30937b42ca8891e4ba5fc12c30~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><code>.husky</code> ä¸‹æ–°å¢é…ç½®æ–‡ä»¶ <code>pre-commit</code>ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">dirname</span><span class="token string variable" style="color:#36acaa"> </span><span class="token string variable string" style="color:#e3116c">&quot;</span><span class="token string variable string variable" style="color:#36acaa">$0</span><span class="token string variable string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">/_/husky.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx --no-install lint-staged</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨ <code>git commit</code> ä¹‹å‰ï¼Œå°†ä¼šè‡ªåŠ¨æ‰§è¡Œä¸Šé¢ <code>pre-commit</code> è„šæœ¬é…ç½®çš„å‘½ä»¤ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="35-commitlint">3.5 commitlint<a class="hash-link" href="#35-commitlint" title="Direct link to heading">â€‹</a></h4><p><strong>commitlint</strong> æ˜¯ä¸€ä¸ª <code>git commit</code> ä¿¡æ¯æ ¡éªŒå·¥å…·ã€‚</p><p>å®‰è£…ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn add commitlint @commitlint/config-conventional -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ é…ç½®æ–‡ä»¶ <code>.commitlintrc.js</code>ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>.husky</code> ä¸‹æ–°å¢é…ç½®æ–‡ä»¶ <code>commit-msg</code>ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">dirname</span><span class="token string variable" style="color:#36acaa"> </span><span class="token string variable string" style="color:#e3116c">&quot;</span><span class="token string variable string variable" style="color:#36acaa">$0</span><span class="token string variable string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">/_/husky.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx --no-install commitlint --edit </span><span class="token variable" style="color:#36acaa">$1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨ <code>git commit-msg</code> é’©å­å‡½æ•°è§¦å‘æ—¶ï¼Œå°†ä¼šè‡ªåŠ¨æ‰§è¡Œ <code>commit-msg</code> è„šæœ¬é…ç½®çš„å‘½ä»¤ï¼Œæ ¡éªŒ <code>commit msg</code> æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ–°å¢ç»„ä»¶">4. æ–°å¢ç»„ä»¶<a class="hash-link" href="#4-æ–°å¢ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>åœ¨ <code>src</code> ç›®å½•ä¸‹æ–°å¢ç»„ä»¶ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fed1edf88d334c939f2c99ddca175e70~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>æ¯ä¸ªç»„ä»¶åŒ…å« 4 ä¸ªåŸºç¡€æ–‡ä»¶ï¼š</p><ul><li><code>[component-name].tsx</code></li><li><code>[component-name].scss</code></li><li><code>index.ts</code></li><li><code>[component-name].stories.mdx</code></li></ul><p>ä¸‹æ–‡å°†ä¸¾ä¾‹ç€‘å¸ƒæµç»„ä»¶æºç ï¼š</p><p>å®Œæ•´çš„ç€‘å¸ƒæµç»„ä»¶ä»£ç åœ°å€ï¼š<a href="https://github.com/jiaozitang/react-masonry-component2/tree/dev/src/Masonry" target="_blank" rel="noopener noreferrer">https://github.com/jiaozitang/react-masonry-component2/tree/dev/src/Masonry</a>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="41-masonrytsx">4.1 <code>masonry.tsx</code><a class="hash-link" href="#41-masonrytsx" title="Direct link to heading">â€‹</a></h4><p>React ç»„ä»¶ã€‚</p><div class="codeBlockContainer_J+bg language-tsx theme-code-block"><div class="codeBlockContent_csEI tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DEFAULT_COLUMNS_COUNT_POINTS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryDirection</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./const&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useColumnCount </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./hooks&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryAbsolute</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry-absolute&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryColumn</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry-column&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryFlex</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry-flex&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">MasonryProps</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">HTMLAttributes</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/** æ’åˆ—æ–¹å‘ */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  direction</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;row&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;column&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sortWithHeight</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ˜¯å¦éœ€è¦æŒ‰é«˜åº¦æ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  useAbsolute</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ˜¯å¦å¼€å¯ç»å¯¹å®šä½æ–¹æ³•å®ç°ç€‘å¸ƒæµï¼Œè¯¥æ¨¡å¼é»˜è®¤å¼€å§‹æŒ‰é«˜åº¦æ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  columnsCountBreakPoints</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è‡ªé€‚åº”çš„é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  children</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">ReactNode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  className</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  style</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gutter</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Masonry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FC</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MasonryProps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    direction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryDirection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    columnsCountBreakPoints </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DEFAULT_COLUMNS_COUNT_POINTS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    useAbsolute</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> props</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> columnCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useColumnCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columnsCountBreakPoints</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">useAbsolute</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">MasonryAbsolute</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread punctuation" style="color:#393A34">...</span><span class="token tag spread attr-value" style="color:#e3116c">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">columnCount</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">columnCount</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryDirection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">column</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">MasonryColumn</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread punctuation" style="color:#393A34">...</span><span class="token tag spread attr-value" style="color:#e3116c">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">columnCount</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">columnCount</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">direction </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryDirection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">MasonryFlex</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread punctuation" style="color:#393A34">...</span><span class="token tag spread attr-value" style="color:#e3116c">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">columnCount</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">columnCount</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">Masonry</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="42-masonryscss">4.2 <code>masonry.scss</code><a class="hash-link" href="#42-masonryscss" title="Direct link to heading">â€‹</a></h4><p>ç»„ä»¶çš„æ ·å¼æ–‡ä»¶ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="43-indexts">4.3 <code>index.ts</code><a class="hash-link" href="#43-indexts" title="Direct link to heading">â€‹</a></h4><p>ç»„ä»¶éœ€è¦å¯¼å‡ºçš„å†…å®¹ã€‚</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Masonry</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">MasonryAbsoluteItem</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">MasonryItem</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry-item&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> </span><span class="token exports maybe-class-name">MasonryAbsoluteItem</span><span class="token exports punctuation" style="color:#393A34">,</span><span class="token exports"> </span><span class="token exports maybe-class-name">MasonryItem</span><span class="token exports"> </span><span class="token exports punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">Masonry</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="44-masonrystoriesmdx">4.4 <code>masonry.stories.mdx</code><a class="hash-link" href="#44-masonrystoriesmdx" title="Direct link to heading">â€‹</a></h4><p>ç»„ä»¶æ¡ˆä¾‹ï¼ŒStorybook ç‰¹å®šè¯­æ³•ã€‚</p><p>Storybook æ•™ç¨‹ï¼š<a href="https://storybook.js.org/" target="_blank" rel="noopener noreferrer">https://storybook.js.org/</a>ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a03cc90d2b9e4cf483770b7f1b29a6b4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>ç»„ä»¶æ¡ˆä¾‹åœ¨ <code>yarn storybook</code> åå¯ä»¥åœ¨çº¿æŸ¥çœ‹æ•ˆæœï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7fc2fc6877fc489cb2873534bffe9a72~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/509c09d9205646568fff49a5eea8611f~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>ä¹Ÿå¯ä»¥é€šè¿‡ Storybook å®˜æ–¹æä¾›çš„å·¥å…·å‘å¸ƒæˆä¸€ä¸ªåœ¨çº¿çš„æ–‡æ¡£åœ°å€ï¼Œè¯¦ç»†çš„å‘å¸ƒæ•™ç¨‹åœ¨ç¬¬ä¸‰ç« èŠ‚å°†ä¼šä»‹ç»ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒæ‰“åŒ…ç»„ä»¶åº“">äºŒã€æ‰“åŒ…ç»„ä»¶åº“<a class="hash-link" href="#äºŒæ‰“åŒ…ç»„ä»¶åº“" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-æŠ€æœ¯é€‰å‹-1">1. æŠ€æœ¯é€‰å‹<a class="hash-link" href="#1-æŠ€æœ¯é€‰å‹-1" title="Direct link to heading">â€‹</a></h3><p>æ¯”è¾ƒçƒ­é—¨çš„æ‰“åŒ…å·¥å…·æœ‰ Webpackã€rollupã€‚</p><p>Webpack å¯¹äºä»£ç åˆ†å‰²å’Œé™æ€èµ„æºå¯¼å…¥æœ‰ç€â€œå…ˆå¤©ä¼˜åŠ¿â€ï¼Œå¹¶ä¸”æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢(HMR)ï¼Œè€Œ Rollup å¹¶ä¸æ”¯æŒï¼Œæ‰€ä»¥å½“é¡¹ç›®éœ€è¦ç”¨åˆ°ä»¥ä¸Šï¼Œåˆ™å¯ä»¥è€ƒè™‘é€‰æ‹© Webpackã€‚ä½†æ˜¯ï¼ŒRollup å¯¹äºä»£ç çš„ Tree-shaking å’Œ ES6 æ¨¡å—æœ‰ç€ç®—æ³•ä¼˜åŠ¿ä¸Šçš„æ”¯æŒï¼Œè‹¥ä½ é¡¹ç›®åªéœ€è¦æ‰“åŒ…å‡ºä¸€ä¸ªç®€å•çš„ bundle åŒ…ï¼Œå¹¶æ˜¯åŸºäº ES6 æ¨¡å—å¼€å‘çš„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Rollupã€‚</p><p>å› æ­¤ç»„ä»¶åº“æ‰“åŒ…å·¥å…·é€‰æ‹© rollupã€‚</p><p>æ›´è¯¦ç»†çš„ rollup ä½¿ç”¨æ•™ç¨‹è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼š<a href="https://juejin.cn/post/7145090564801691684" target="_blank" rel="noopener noreferrer">ã€å®æˆ˜ç¯‡ã€‘æœ€è¯¦ç»†çš„ Rollup æ‰“åŒ…é¡¹ç›®æ•™ç¨‹</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-å¿«é€Ÿå¼€å§‹-1">2. å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#2-å¿«é€Ÿå¼€å§‹-1" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="21-å®‰è£…">2.1 å®‰è£…<a class="hash-link" href="#21-å®‰è£…" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npm i rollup -g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn add @rollup/plugin-commonjs @rollup/plugin-node-resolve @rollup/plugin-strip @rollup/plugin-typescript rollup-plugin-postcss rollup-plugin-node-externals autoprefixer -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="22-æ‰“åŒ…é…ç½®">2.2 æ‰“åŒ…é…ç½®<a class="hash-link" href="#22-æ‰“åŒ…é…ç½®" title="Direct link to heading">â€‹</a></h4><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å¢é…ç½®æ–‡ä»¶ <code>rollup.config.js</code>ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">commonjs</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@rollup/plugin-commonjs&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">resolve</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@rollup/plugin-node-resolve&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">strip</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@rollup/plugin-strip&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">typescript</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@rollup/plugin-typescript&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">autoprefixer</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;autoprefixer&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">path</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;path&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">externals</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rollup-plugin-node-externals&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">postcss</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rollup-plugin-postcss&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">pkg</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./package.json&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./src/index.ts&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å…¥å£æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å‡ºå£æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dir</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dirname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">module</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        format</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// esæ¨¡å—å¯¼å‡ºï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exports</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;named&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‡å®šå¯¼å‡ºæ¨¡å¼ï¼ˆè‡ªåŠ¨ã€é»˜è®¤ã€å‘½åã€æ— ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        preserveModules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ä¿ç•™æ¨¡å—ç»“æ„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        preserveModulesRoot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;src&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å°†ä¿ç•™çš„æ¨¡å—æ”¾åœ¨æ ¹çº§åˆ«çš„æ­¤è·¯å¾„ä¸‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// è‡ªåŠ¨å°†dependenciesä¾èµ–å£°æ˜ä¸º externals</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">externals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        devDeps</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// å¤„ç†å¤–éƒ¨ä¾èµ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ”¯æŒåŸºäº CommonJS æ¨¡å—å¼•å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">commonjs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ”¯æŒ typescriptï¼Œå¹¶å¯¼å‡ºå£°æ˜æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">typescript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outDir</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        declaration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        declarationDir</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ”¯æŒ scssï¼Œå¹¶æ·»åŠ å‰ç¼€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">postcss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token function" style="color:#d73a49">autoprefixer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ¸…é™¤è°ƒè¯•ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="23-å…¥å£æ–‡ä»¶">2.3 å…¥å£æ–‡ä»¶<a class="hash-link" href="#23-å…¥å£æ–‡ä»¶" title="Direct link to heading">â€‹</a></h4><p>æ–°å¢æ–‡ä»¶ <code>src/index.ts</code>ï¼š</p><div class="codeBlockContainer_J+bg language-ts theme-code-block"><div class="codeBlockContent_csEI ts"><pre tabindex="0" class="prism-code language-ts codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token exports">  </span><span class="token exports keyword" style="color:#00009f">default</span><span class="token exports"> </span><span class="token exports keyword" style="color:#00009f">as</span><span class="token exports"> </span><span class="token exports maybe-class-name">Masonry</span><span class="token exports punctuation" style="color:#393A34">,</span><span class="token exports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token exports">  </span><span class="token exports maybe-class-name">MasonryAbsoluteItem</span><span class="token exports punctuation" style="color:#393A34">,</span><span class="token exports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token exports">  </span><span class="token exports maybe-class-name">MasonryItem</span><span class="token exports punctuation" style="color:#393A34">,</span><span class="token exports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token exports"></span><span class="token exports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">MasonryProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./masonry&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="24-æ‰“åŒ…å‘½ä»¤">2.4 æ‰“åŒ…å‘½ä»¤<a class="hash-link" href="#24-æ‰“åŒ…å‘½ä»¤" title="Direct link to heading">â€‹</a></h4><p>ä¿®æ”¹ <code>packages.json</code>ï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rimraf es &amp;&amp; rollup -c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æ‰“åŒ…äº§ç‰©å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52c997d3e8544d95acc584f954a9be6f~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰å‘å¸ƒç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™">ä¸‰ã€å‘å¸ƒç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™<a class="hash-link" href="#ä¸‰å‘å¸ƒç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™" title="Direct link to heading">â€‹</a></h2><p>Storybook æ–‡æ¡£å‘å¸ƒæ•™ç¨‹åœ°å€ï¼š<a href="https://storybook.js.org/docs/react/sharing/publish-storybook#gatsby-focus-wrapper" target="_blank" rel="noopener noreferrer">https://storybook.js.org/docs/react/sharing/publish-storybook#gatsby-focus-wrapper</a>ã€‚</p><ol><li>å®‰è£… <code>chromatic</code>ï¼š</li></ol><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">yarn add --dev chromatic</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>å‘å¸ƒ <code>Storybook</code>ï¼š</li></ol><p>æ³¨æ„ï¼šç¡®ä¿<code>your-project-token</code>ç”¨æ‚¨è‡ªå·±çš„é¡¹ç›®ä»¤ç‰Œæ›¿æ¢ã€‚</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npx chromatic --project-token=&lt;your-project-token&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç„¶åå°±å¾—åˆ°äº†ä¸€ä¸ªçº¿ä¸Šçš„ç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™ï¼š<a href="https://632339a3ed0b247d36b0fa3c-njrsmzdcdj.chromatic.com/?path=/story/%E4%BB%8B%E7%BB%8D--page" target="_blank" rel="noopener noreferrer">https://632339a3ed0b247d36b0fa3c-njrsmzdcdj.chromatic.com/?path=/story/%E4%BB%8B%E7%BB%8D--page</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››å‘å¸ƒé¡¹ç›®">å››ã€å‘å¸ƒé¡¹ç›®<a class="hash-link" href="#å››å‘å¸ƒé¡¹ç›®" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-æ³¨å†Œ-npm">1. æ³¨å†Œ npm<a class="hash-link" href="#1-æ³¨å†Œ-npm" title="Direct link to heading">â€‹</a></h3><p>å¦‚å·²æ³¨å†Œå¯è·³è¿‡è¯¥æ­¥éª¤ã€‚</p><p>æ³¨å†Œå¸®åŠ©æ–‡æ¡£ï¼š<a href="https://docs.npmjs.com/creating-a-new-npm-user-account" target="_blank" rel="noopener noreferrer">https://docs.npmjs.com/creating-a-new-npm-user-account</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-ç™»å½•-npm">2. ç™»å½• npm<a class="hash-link" href="#2-ç™»å½•-npm" title="Direct link to heading">â€‹</a></h3><p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶ç™»å½•ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npm login</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœå·²ç»ç™»å½•è¿‡ï¼Œå¯ä»¥æŸ¥çœ‹ç™»å½•è¿‡çš„è´¦å·æ˜¯å¦æ˜¯æœŸæœ›çš„è´¦å·ï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npm whoami</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-å¼€æºè¯ä¹¦">3. å¼€æºè¯ä¹¦<a class="hash-link" href="#3-å¼€æºè¯ä¹¦" title="Direct link to heading">â€‹</a></h3><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å¢ <code>LICENCE.md</code>ï¼š</p><p>æ³¨æ„ï¼šæ›¿æ¢<code>[npm username]</code>ä¸ºä½ åˆšåˆšç™»å½•çš„ usernameã€‚</p><div class="codeBlockContainer_J+bg language-md theme-code-block"><div class="codeBlockContent_csEI md"><pre tabindex="0" class="prism-code language-md codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">The MIT License (MIT)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright (c) [npm username]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Permission is hereby granted, free of charge, to any person obtaining a copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">of this software and associated documentation files (the &quot;Software&quot;), to deal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">in the Software without restriction, including without limitation the rights</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copies of the Software, and to permit persons to whom the Software is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">furnished to do so, subject to the following conditions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The above copyright notice and this permission notice shall be included in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all copies or substantial portions of the Software.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">THE SOFTWARE.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ›´æ–°-npm-åŒ…æ•°æ®">4. æ›´æ–° npm åŒ…æ•°æ®<a class="hash-link" href="#4-æ›´æ–°-npm-åŒ…æ•°æ®" title="Direct link to heading">â€‹</a></h3><p>æ›´æ–° <code>packages.json</code>ï¼š</p><p>æ³¨æ„ï¼š</p><ul><li>ç¡®è®¤ name æœªè¢«æ³¨å†Œè¿‡ï¼Œå¦‚æœå·²è¢«æ³¨å†Œè¿‡å°†æ— æ³•å‘å¸ƒæˆåŠŸï¼›</li><li>moduleã€types éœ€è¦å’Œ rollup é…ç½®çš„è¾“å‡ºè·¯å¾„ä¸€è‡´ã€‚</li></ul><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;author&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;homepage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://github.com/xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;keywords&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;masonry&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;css&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;flexbox&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;responsive&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;absolute&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;column&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;license&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MIT&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es/index.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;types&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;es/index.d.ts&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;files&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;es&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-å‘å¸ƒ">5. å‘å¸ƒ<a class="hash-link" href="#5-å‘å¸ƒ" title="Direct link to heading">â€‹</a></h3><p>æ›´æ–° packages.jsonï¼š</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å‘å¸ƒï¼š</p><div class="codeBlockContainer_J+bg language-chain theme-code-block"><div class="codeBlockContent_csEI chain"><pre tabindex="0" class="prism-code language-chain codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npm publish</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”è°ƒè¯•é¡¹ç›®">äº”ã€è°ƒè¯•é¡¹ç›®<a class="hash-link" href="#äº”è°ƒè¯•é¡¹ç›®" title="Direct link to heading">â€‹</a></h2><p>é¡¹ç›®å‘å¸ƒæˆåŠŸåï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ <code>yarn link</code> è¿›è¡Œè°ƒè¯•ï¼Œç¡®è®¤æ²¡é—®é¢˜åå†å‘å¸ƒç‰ˆæœ¬ã€‚</p><p>link çš„æœ¬è´¨å°±æ˜¯è½¯é“¾æ¥ï¼Œè¿™æ ·å¯ä»¥è®©æˆ‘ä»¬å¿«é€Ÿä½¿ç”¨æœ¬åœ°æ­£åœ¨å¼€å‘çš„å…¶å®ƒåŒ…ã€‚</p><p>å‡è®¾ç»„ä»¶åº“ä»“åº“ä¸ºé¡¹ç›® Aï¼Œä½¿ç”¨ç»„ä»¶åº“çš„ä»“åº“ä¸ºé¡¹ç›® Bã€‚</p><p>åœ¨é¡¹ç›® A ä¸‹è¿è¡Œ <code>yarn link</code>ï¼Œåœ¨é¡¹ç›® B ä¸‹è¿è¡Œ <code>yarn link A</code>ï¼Œå°±å¯ä»¥å®æ—¶è°ƒè¯•é¡¹ç›® A äº†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡æ˜¯æˆ‘ä¸ªäººåœ¨å®é™…å¼€å‘ä¸­æ²‰æ·€ React ç»„ä»¶åº“çš„ä¸€æ¬¡å°ç»“ï¼Œä¸æ˜¯ä¸€ä¸ªå®Œç¾çš„ç»„ä»¶åº“ï¼Œä½†æ˜¯ä¹Ÿè¶³å¤Ÿæ—¥å¸¸å¼€å‘ä½¿ç”¨ã€‚æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥è·Ÿç€ä¸€èµ·æ•²ä¸€éï¼Œå‘å¸ƒä¸€ä¸ªå±äºè‡ªå·±çš„ç»„ä»¶åº“ã€‚</p><ul><li>æœ¬æ–‡é¡¹ç›®æºç ï¼š<a href="https://github.com/jiaozitang/react-masonry-component2" target="_blank" rel="noopener noreferrer">https://github.com/jiaozitang/react-masonry-component2</a></li><li>æœ¬æ–‡ç»„ä»¶åº“ npm åŒ…åœ°å€ï¼š<a href="https://www.npmjs.com/package/react-masonry-component2" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/react-masonry-component2</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¾€æœŸç²¾å½©">å¾€æœŸç²¾å½©<a class="hash-link" href="#å¾€æœŸç²¾å½©" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://juejin.cn/post/7145090564801691684" target="_blank" rel="noopener noreferrer">ã€å®æˆ˜ç¯‡ã€‘æœ€è¯¦ç»†çš„ Rollup æ‰“åŒ…é¡¹ç›®æ•™ç¨‹</a>ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://d.umijs.org/zh-CN/guide" target="_blank" rel="noopener noreferrer">dumi å®˜ç½‘</a></li><li><a href="https://storybook.js.org/" target="_blank" rel="noopener noreferrer">storybook å®˜ç½‘</a></li><li><a href="https://create-react-app.dev/docs/getting-started" target="_blank" rel="noopener noreferrer">create-react-app å®˜ç½‘</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/09/18/component"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->5 ç§ç€‘å¸ƒæµåœºæ™¯çš„å®ç°åŸç†è§£æ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/09/08/ts"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">ç±»å‹ä½“æ“çš„9ç§ç±»å‹è¿ç®—ã€4ç§ç±»å‹å¥—è·¯æ€»ç»“<!-- --> Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#èƒŒæ™¯" class="table-of-contents__link toc-highlight">èƒŒæ™¯</a></li><li><a href="#ä¸€æ­å»ºé¡¹ç›®" class="table-of-contents__link toc-highlight">ä¸€ã€æ­å»ºé¡¹ç›®</a><ul><li><a href="#1-æŠ€æœ¯é€‰å‹" class="table-of-contents__link toc-highlight">1. æŠ€æœ¯é€‰å‹</a></li><li><a href="#2-å¿«é€Ÿå¼€å§‹" class="table-of-contents__link toc-highlight">2. å¿«é€Ÿå¼€å§‹</a></li><li><a href="#3-ä»£ç è§„èŒƒ" class="table-of-contents__link toc-highlight">3. ä»£ç è§„èŒƒ</a></li><li><a href="#4-æ–°å¢ç»„ä»¶" class="table-of-contents__link toc-highlight">4. æ–°å¢ç»„ä»¶</a></li></ul></li><li><a href="#äºŒæ‰“åŒ…ç»„ä»¶åº“" class="table-of-contents__link toc-highlight">äºŒã€æ‰“åŒ…ç»„ä»¶åº“</a><ul><li><a href="#1-æŠ€æœ¯é€‰å‹-1" class="table-of-contents__link toc-highlight">1. æŠ€æœ¯é€‰å‹</a></li><li><a href="#2-å¿«é€Ÿå¼€å§‹-1" class="table-of-contents__link toc-highlight">2. å¿«é€Ÿå¼€å§‹</a></li></ul></li><li><a href="#ä¸‰å‘å¸ƒç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™" class="table-of-contents__link toc-highlight">ä¸‰ã€å‘å¸ƒç»„ä»¶åº“æ–‡æ¡£ç½‘ç«™</a></li><li><a href="#å››å‘å¸ƒé¡¹ç›®" class="table-of-contents__link toc-highlight">å››ã€å‘å¸ƒé¡¹ç›®</a><ul><li><a href="#1-æ³¨å†Œ-npm" class="table-of-contents__link toc-highlight">1. æ³¨å†Œ npm</a></li><li><a href="#2-ç™»å½•-npm" class="table-of-contents__link toc-highlight">2. ç™»å½• npm</a></li><li><a href="#3-å¼€æºè¯ä¹¦" class="table-of-contents__link toc-highlight">3. å¼€æºè¯ä¹¦</a></li><li><a href="#4-æ›´æ–°-npm-åŒ…æ•°æ®" class="table-of-contents__link toc-highlight">4. æ›´æ–° npm åŒ…æ•°æ®</a></li><li><a href="#5-å‘å¸ƒ" class="table-of-contents__link toc-highlight">5. å‘å¸ƒ</a></li></ul></li><li><a href="#äº”è°ƒè¯•é¡¹ç›®" class="table-of-contents__link toc-highlight">äº”ã€è°ƒè¯•é¡¹ç›®</a></li><li><a href="#å°ç»“" class="table-of-contents__link toc-highlight">å°ç»“</a></li><li><a href="#å¾€æœŸç²¾å½©" class="table-of-contents__link toc-highlight">å¾€æœŸç²¾å½©</a></li><li><a href="#å‚è€ƒèµ„æ–™" class="table-of-contents__link toc-highlight">å‚è€ƒèµ„æ–™</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d959116f.js"></script>
<script src="/assets/js/main.8c157036.js"></script>
</body>
</html>
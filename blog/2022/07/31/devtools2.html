<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-react-helmet="true">一些有用的 JavaScript 调试技巧 | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jiaozitang.github.io/blog/2022/07/31/devtools2"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="一些有用的 JavaScript 调试技巧 | My Site"><meta data-react-helmet="true" name="description" content="---"><meta data-react-helmet="true" property="og:description" content="---"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-07-31T00:00:00.000Z"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jiaozitang.github.io/blog/2022/07/31/devtools2"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog/2022/07/31/devtools2" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog/2022/07/31/devtools2" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1098517f.css">
<link rel="preload" href="/assets/js/runtime~main.5fde237b.js" as="script">
<link rel="preload" href="/assets/js/main.5fad3d91.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/front-end/code">前端</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jiaozitang/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">All posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/04/pnpm">说实话，不得不用 pnpm 的原因，还得是电脑内存不够用</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/19/rollup">【实战篇】最详细的Rollup打包项目教程</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/18/component">5 种瀑布流场景的实现原理解析</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/17/react-component">从0到1开发一个React组件库</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/08/ts">类型体操的9种类型运算、4种类型套路总结</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/09/04/git">20个常用的 Git 指令用法</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/08/28/lerna">lerna</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/08/14/hooks">hooks</a></li><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/2022/07/31/devtools2">一些有用的 JavaScript 调试技巧</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/07/30/devtools1">devtools1</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/06/24/storybook">浅学一下 storybook</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/06/13/module-federation">浅学一下 webpack5 module federation</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/05/23/ts">Typescript 常用特性小结</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/03/12/function-code">JavaScript 函数式编程-入门篇</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/12/React-Hooks">React-你有完全了解 Hooks 吗</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/11/up-up-up">专栏学习心得《大厂晋升指南》</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/01/31/【译】你知道 Code Review 应该检查哪些问题吗">【译】你知道 Code Review 应该检查哪些问题吗</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/实践指南-快速搭建文档系统">实践指南-快速搭建文档系统</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/12/20/how-to-join-Taro">如何参与大型开源项目-Taro 共建</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/22/simple-react">手写系列-实现一个铂金段位的 React</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">一些有用的 JavaScript 调试技巧</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-07-31T00:00:00.000Z" itemprop="datePublished">July 31, 2022</time> · <!-- -->14 min read</div></header><div class="markdown" itemprop="articleBody"><hr><p>本文翻译自 Tapas Adhikary 的原创文章。</p><ul><li>作者：Tapas Adhikary</li><li>译者：清汤饺子</li><li>原文链接：<a href="https://blog.greenroots.info/the-definitive-guide-to-javascript-debugging-2021-edition" target="_blank" rel="noopener noreferrer">https://blog.greenroots.info/the-definitive-guide-to-javascript-debugging-2021-edition</a></li></ul><hr><p>日常开发工作中，我们常用到 <code>console.log()</code> 调试 Javascript，使用 <code>console.log()</code> 需要不断的修改源码来调试，非常麻烦。</p><p>本文将介绍另一个可以高效调试 Javascript 的工具 -- 浏览器开发者工具（DevTools）。</p><p>下图是一个表单模块，当输出不符合期望时，怎么使用 DevTools 去调试，发现并解决问题呢？</p><p>下文将为你一一揭晓。</p><p>在线调试代码地址：<a href="https://greet-me-debugging.vercel.app" target="_blank" rel="noopener noreferrer">greet-me-debugging.vercel.app</a>。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3429d8ac59d54ac38bb933a767798919~tplv-k3u1fbpfcp-zoom-1.image" alt="1_app_error.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="一了解-sources-面板">一、了解 Sources 面板<a class="hash-link" href="#一了解-sources-面板" title="Direct link to heading">​</a></h2><p>DevTools 提供了许多不同的工具来执行调试任务，包括 DOM 检查、分析和网络调用检查。</p><p>首先介绍的是 Sources 面板，它可以帮助我们调试 JavaScript。</p><p>你可以通过按键 F12 或使用快捷键打开 DevTools：Control+Shift+I（Windows、Linux）或 Command+Option+I（Mac）。</p><p>单击 Sources 选项卡以导航到 Sources 面板。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94438b29ad0b4d0f8fe722c48e4e020e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="2_know_source.png图"></p><p>该 Sources 面板具有三个主要部分。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45f9698c17d04713a2dc8798ceb86e23~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="3_know_source_sections.png图"></p><ol><li>文件导航区：页面请求的所有文件都在此处列出；</li><li>编辑区：当你从导航窗格中选择一个文件时，该文件的内容将在此处列出。我们也可以从这里编辑代码；</li><li>调试区： 你会发现这里有很多工具可以用来设置断点、检查变量值、观察变化等。</li></ol><p>如果你的 DevTools 窗口较宽或未停靠在单独的窗口中，则调试器部分将显示在代码编辑器窗格的右侧。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85f399a1ea944dfe8bc8b086dd3f76ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="4_source_wide.png图"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="二设置断点">二、设置断点<a class="hash-link" href="#二设置断点" title="Direct link to heading">​</a></h2><p>要开始调试，首先要做的是设置断点。</p><p>断点是你希望代码执行暂停以便调试它的逻辑点。</p><p>DevTools 允许你以多种不同的方式设置断点。</p><p>主要包括以下 4 种方式：</p><ul><li>在代码行；</li><li>在条件语句中；</li><li>在 DOM 节点处；</li><li>在事件侦听器上。</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-在代码行设置断点">1. 在代码行设置断点<a class="hash-link" href="#1-在代码行设置断点" title="Direct link to heading">​</a></h3><p>设置代码行断点：</p><ul><li>单击 Sources tab；</li><li>从文件导航区浏览源文件；</li><li>转到右侧代码编辑器区中的代码行；</li><li>单击行号列以在行上设置断点。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20e6b022ab0e40f7ab791c14d09d2f17~tplv-k3u1fbpfcp-zoom-1.image" alt="5_line_of_code.png图"></p><p>这里我们在第 6 行设置了一个断点，代码执行将在这里暂停。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-设置条件断点">2. 设置条件断点<a class="hash-link" href="#2-设置条件断点" title="Direct link to heading">​</a></h3><p>设置条件断点：</p><ul><li>单击 Sources tab；</li><li>从文件导航区浏览源文件；</li><li>转到右侧代码编辑器区中的代码行；</li><li>右键单击行号并选择添加条件断点选项。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b59c088ec214ca2b87517b99a329790~tplv-k3u1fbpfcp-zoom-1.image" alt="6_add_conditional_1.png图"></p><p>代码行下方会出现一个对话框，开始输入条件。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09e404950079425591a1e6acdfb23d99~tplv-k3u1fbpfcp-zoom-1.image" alt="&#x27;6_add_conditional_2.png图&#x27;"></p><p>按 Enter 激活断点，你应该会看到一个橙色图标出现在行号列的顶部。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f61b52e690d946e39adad8db18e2dc23~tplv-k3u1fbpfcp-zoom-1.image" alt="6_add_conditional_3.png图"></p><p><code>print()</code> 执行时，只要满足 <code>name === Joe</code> 条件，代码将暂停执行。</p><blockquote><p>提示：当你知道要调查的特定代码区域时，可以使用条件断点进一步检查以找到问题的根本原因。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-在事件监听器上设置断点">3. 在事件监听器上设置断点<a class="hash-link" href="#3-在事件监听器上设置断点" title="Direct link to heading">​</a></h3><p>在事件监听器上设置断点：</p><ul><li>单击 Sources tab；</li><li>展开 Event Listener Breakpoints；</li><li>从事件监听器列表选择 click 事件来设置断点。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c1cf2fa7330460a81ef7c3ff85ff432~tplv-k3u1fbpfcp-zoom-1.image" alt="8_Event_listener_breakpoint.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-在-dom-节点处设置断点">4. 在 DOM 节点处设置断点<a class="hash-link" href="#4-在-dom-节点处设置断点" title="Direct link to heading">​</a></h3><p>DevTools 在 DOM 检查和调试方面同样强大。</p><p>当在 DOM 中添加、删除或更改某些内容时，你可以设置断点来暂停代码执行。</p><p>要在 DOM 更改上设置断点：</p><ul><li>单击 Elements 选项卡。</li><li>选择要设置断点的元素。</li><li>右键单击元素以获取上下文菜单。选择 Break on，然后选择 Subtree modifications、Attribute modifications、Node removal 其中一个。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcafbc6e19db4a9b85a3e7a1840d7c69~tplv-k3u1fbpfcp-zoom-1.image" alt="7_DOM_breakpoint.png图"></p><p>如上图所示，我们在 div 节点的更改上设置了一个断点，条件是 Subtree 修改。</p><p>当问候消息被添加到输出 div 时，代码将暂停执行。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="三逐步执行源代码">三、逐步执行源代码<a class="hash-link" href="#三逐步执行源代码" title="Direct link to heading">​</a></h2><p>现在我们知道了设置断点的所有重要方法，接下来让我们看看如何通过断点来解决问题。</p><p>调试器区提供了 5 个控件来逐步执行代码。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49b5c7fa722649b6b5956c4bae16c030~tplv-k3u1fbpfcp-zoom-1.image" alt="9_debug_controls.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-下一步快捷键---f9">1. 下一步（快捷键 - F9）<a class="hash-link" href="#1-下一步快捷键---f9" title="Direct link to heading">​</a></h3><p>此选项使你能够在 JavaScript 代码执行时逐行执行。如果途中有函数调用，单步执行也会进入函数内部，逐行执行，然后退出。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c0579e766b24aa8b8a80033845c396e~tplv-k3u1fbpfcp-zoom-1.image" alt="f9_step.gif图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-跳过快捷键---f10">2. 跳过（快捷键 - F10）<a class="hash-link" href="#2-跳过快捷键---f10" title="Direct link to heading">​</a></h3><p>有时，你可能确定某些功能工作正常，不想花时间检查它们。此选项允许你在不单步执行功能的情况下执行该功能。</p><p>在下面的示例中，我们跳过了 <code>logger()</code> 函数的执行。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69d413fe302a4cbda61f2172a0f29e46~tplv-k3u1fbpfcp-zoom-1.image" alt="f10_step_over.gif图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-进入快捷键---f11">3. 进入（快捷键 - F11）<a class="hash-link" href="#3-进入快捷键---f11" title="Direct link to heading">​</a></h3><p>单步执行时，你可能会感觉某个函数的行为异常并想要检查它。使用此选项可以更深入地研究函数。</p><p>在下面的示例中，我们正在单步执行函数 <code>logger()</code>。</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1609737142403/Q2JkTsv3W.gif?auto=format,compress&amp;gif-q=60&amp;format=webm" alt="F11_step_into.gif图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-跳出快捷键--shift--f11">4. 跳出（快捷键 – Shift + F11）<a class="hash-link" href="#4-跳出快捷键--shift--f11" title="Direct link to heading">​</a></h3><p>在单步执行一个函数时，你可能不想继续并退出它。使用此选项可退出函数。</p><p>在下面的示例中，我们进入 <code>logger()</code> 函数内部，然后立即退出。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b35094bdaa0341f991b08cf35957af82~tplv-k3u1fbpfcp-zoom-1.image" alt="shift_F11_step_out.gif图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-跳转快捷键---f8">5. 跳转（快捷键 - F8）<a class="hash-link" href="#5-跳转快捷键---f8" title="Direct link to heading">​</a></h3><p>有时，你可能希望从一个断点跳转到另一个断点，而无需在其间调试任何代码。使用此选项跳转到下一个断点。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a46a71178c3404384b4219d152c865c~tplv-k3u1fbpfcp-zoom-1.image" alt="F8_run_jump.gif图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-禁用和删除断点">6. 禁用和删除断点<a class="hash-link" href="#6-禁用和删除断点" title="Direct link to heading">​</a></h3><p>要一次禁用所有断点，请单击“停用断点”按钮（在下方圈出。）</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/314f773f0da54695bbeaea5ce45ef446~tplv-k3u1fbpfcp-zoom-1.image" alt="disable_bp.png图"></p><p>请注意，上述方法不会删除断点。它只是在你需要的时间内停用它们。要激活breakpoints，请再次单击相同的按钮。</p><p>你可以通过取消选中复选框从“断点”面板中删除一个或多个断点。你可以通过右键单击并选择 Remove all breakpoints 选项来永久删除所有断点。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/742f27438ff64ecfa63b24aa46d4392a~tplv-k3u1fbpfcp-zoom-1.image" alt="11_remove_all_bp.png图"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="四检查范围调用堆栈和值">四、检查范围、调用堆栈和值<a class="hash-link" href="#四检查范围调用堆栈和值" title="Direct link to heading">​</a></h2><p>当你逐行调试时，你可以检查变量的范围和值以及函数调用的调用堆栈。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-范围">1. 范围<a class="hash-link" href="#1-范围" title="Direct link to heading">​</a></h3><p>你可以在 scope 选项中查看全局变量及 this 指向。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65007ee945084af0af6507d7ec658d97~tplv-k3u1fbpfcp-zoom-1.image" alt="9_scope.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-调用堆栈">2. 调用堆栈<a class="hash-link" href="#2-调用堆栈" title="Direct link to heading">​</a></h3><p>调用堆栈面板有助于识别函数执行堆栈。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83830f17e4c0478fb4eb57edeb3ec9bd~tplv-k3u1fbpfcp-zoom-1.image" alt="9_call_stack.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-值">3. 值<a class="hash-link" href="#3-值" title="Direct link to heading">​</a></h3><p>检查值是识别代码中的错误的主要方法。单步执行时，你只需将鼠标悬停在变量上即可检查值。</p><p>在下面的示例中，我们选择变量 name 以在代码执行阶段检查其值。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab56728756ad47428d4c4639167a8d65~tplv-k3u1fbpfcp-zoom-1.image" alt="9_see_values.png图"></p><p>此外，你可以选择代码的一部分作为表达式来检查值。在下面的示例中，我们选择了一个表达式 <code>document.getElementById(&#x27;m_wish&#x27;)</code> 来检查值。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f45373fb6554421783e0b6f76328112b~tplv-k3u1fbpfcp-zoom-1.image" alt="9_see_values_2.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-watch">4. Watch<a class="hash-link" href="#4-watch" title="Direct link to heading">​</a></h3><p>Watch 选项使你能够添加一个或多个表达式并在执行时观察它们的值。当你想要在代码逻辑之外进行一些计算时，此功能非常有用。</p><p>你可以组合代码区域中的任何变量并形成有效的 JavaScript 表达式。在单步执行时，你将能够看到表达式的值。</p><p>以下是添加 Watch 所需的步骤：</p><ul><li>单击 Watch 部分上方的 + 图标</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e363035a894146c6872d0f028ef084a3~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_1.png图"></p><ul><li>添加要 Watch 的表达式。在这个例子中，我们添加了一个希望观察其值的变量。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7984a201b6b4a6894e62d6eb34ac219~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_2.png图"></p><p>另一种监听表达式的方法是在控制台里输入表达式。请参阅下面的示例以了解如何激活它。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be74841ef5014099ad8403dcef2c3154~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_3.png图"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="五使用-visual-studio-code-调试-javascript">五、使用 Visual Studio Code 调试 JavaScript<a class="hash-link" href="#五使用-visual-studio-code-调试-javascript" title="Direct link to heading">​</a></h2><p>你最喜欢的代码编辑器是什么？就个人而言，我喜欢 Visual Studio 代码，因为它很简单。只需几个简单的步骤，我们就可以使用 VS Code 启用类似的调试环境。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-用于调试的-vs-code-设置">1. 用于调试的 VS Code 设置<a class="hash-link" href="#1-用于调试的-vs-code-设置" title="Direct link to heading">​</a></h3><p>VS Code 支持安装插件来启用各种特性和功能。</p><p>要启用 JavaScript 调试，你需要安装一个名为 Debugger for Chrome 的插件。</p><p>你可以在 VS Code 的 Extensions 面板中搜索此扩展并安装它。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f4aa86cc6ebc4614b4ba5c6b7d80e40a~tplv-k3u1fbpfcp-zoom-1.image" alt="图像.png图"></p><ul><li>安装后，单击左侧的 Run 选项并创建配置以运行/调试 JavaScript 应用程序。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87dd5507368b44319e7a1ec826ad5b49~tplv-k3u1fbpfcp-zoom-1.image" alt="图像.png图"></p><ul><li>将创建一个名为 launch.json 的文件，其中包含一些设置信息。它可能看起来像这样：</li></ul><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Use IntelliSense to learn about possible attributes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Hover to view descriptions of existing attributes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// For more information, visit: &lt;https://go.microsoft.com/fwlink/?linkid=830387&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;configurations&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;launch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Debug the Greet Me app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;http://localhost:5500&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;webRoot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${workspaceFolder}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>你可能需要更改以下参数：</p><ol><li>name：项目名称。</li><li>url：项目在本地运行的 URL。</li><li>webRoot：默认值为 ${workspaceFolder}，即当前文件夹。你可能希望将其更改为 index.html 等文件所在的入口点文件夹。</li></ol><ul><li>最后一步是通过单击左上角的小播放图标开始调试。</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1915f9440d894791898b266c233158e4~tplv-k3u1fbpfcp-zoom-1.image" alt="图像.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-了解调试器面板">2. 了解调试器面板<a class="hash-link" href="#2-了解调试器面板" title="Direct link to heading">​</a></h3><p>VS Code 提供了类似 DevTools 的工具来调试 JavaScript。你会发现与我们目前在本文中看到的 Google Chrome JavaScript 调试器有很多相似之处。</p><p>以下是你应该注意的主要部分：</p><ol><li>启用调试。按播放按钮启用调试选项。</li><li>用于单步执行断点以及暂停或停止调试的控件。这与我们在 Chrome DevTools 中看到的几乎相似，只是某些键盘快捷键可能有所不同。</li><li>在源代码上设置断点。这是相似的。</li><li>范围面板查看变量范围和值。这些在两种情况下都是完全一样的。</li><li>用于创建和监视表达式的监视面板。</li><li>执行函数的调用栈。</li><li>要启用、禁用和删除的断点列表。</li><li>调试控制台读取控制台日志消息。</li></ol><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e72299ac177a49908cbcfc2fc0b8c255~tplv-k3u1fbpfcp-zoom-1.image" alt="vs_code_frame.png图"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-快速演示">3. 快速演示<a class="hash-link" href="#3-快速演示" title="Direct link to heading">​</a></h3><p>这是一个快速演示（1 分钟），展示了 VS Code 调试控件的用法：<a href="https://www.youtube.com/watch?v=xKkrKS77PIY" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=xKkrKS77PIY</a>。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="总结">总结<a class="hash-link" href="#总结" title="Direct link to heading">​</a></h2><p>总结一下：</p><ul><li>使用工具来调试 JavaScript 代码总是更好。像 Google ChromeDevTools 或 VS Code 调试器扩展这样的工具比仅仅依靠 console.log() 调试效率更高；</li><li>DevToolsSource Panel 非常强大，能够检查变量值、观察表达式、理解范围、读取调用堆栈等；</li><li>有几种设置方式断点，我们应该根据调试情况使用它们；</li><li>VS Code debugger 扩展程序功能非常强大。</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="往期精彩">往期精彩<a class="hash-link" href="#往期精彩" title="Direct link to heading">​</a></h2><ul><li><a href="https://juejin.cn/post/7126050935746330654/" target="_blank" rel="noopener noreferrer">一些有用的 JavaScript 调试技巧（一）</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/08/14/hooks"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« <!-- -->hooks</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/07/30/devtools1"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">devtools1<!-- --> »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一了解-sources-面板" class="table-of-contents__link toc-highlight">一、了解 Sources 面板</a></li><li><a href="#二设置断点" class="table-of-contents__link toc-highlight">二、设置断点</a><ul><li><a href="#1-在代码行设置断点" class="table-of-contents__link toc-highlight">1. 在代码行设置断点</a></li><li><a href="#2-设置条件断点" class="table-of-contents__link toc-highlight">2. 设置条件断点</a></li><li><a href="#3-在事件监听器上设置断点" class="table-of-contents__link toc-highlight">3. 在事件监听器上设置断点</a></li><li><a href="#4-在-dom-节点处设置断点" class="table-of-contents__link toc-highlight">4. 在 DOM 节点处设置断点</a></li></ul></li><li><a href="#三逐步执行源代码" class="table-of-contents__link toc-highlight">三、逐步执行源代码</a><ul><li><a href="#1-下一步快捷键---f9" class="table-of-contents__link toc-highlight">1. 下一步（快捷键 - F9）</a></li><li><a href="#2-跳过快捷键---f10" class="table-of-contents__link toc-highlight">2. 跳过（快捷键 - F10）</a></li><li><a href="#3-进入快捷键---f11" class="table-of-contents__link toc-highlight">3. 进入（快捷键 - F11）</a></li><li><a href="#4-跳出快捷键--shift--f11" class="table-of-contents__link toc-highlight">4. 跳出（快捷键 – Shift + F11）</a></li><li><a href="#5-跳转快捷键---f8" class="table-of-contents__link toc-highlight">5. 跳转（快捷键 - F8）</a></li><li><a href="#6-禁用和删除断点" class="table-of-contents__link toc-highlight">6. 禁用和删除断点</a></li></ul></li><li><a href="#四检查范围调用堆栈和值" class="table-of-contents__link toc-highlight">四、检查范围、调用堆栈和值</a><ul><li><a href="#1-范围" class="table-of-contents__link toc-highlight">1. 范围</a></li><li><a href="#2-调用堆栈" class="table-of-contents__link toc-highlight">2. 调用堆栈</a></li><li><a href="#3-值" class="table-of-contents__link toc-highlight">3. 值</a></li><li><a href="#4-watch" class="table-of-contents__link toc-highlight">4. Watch</a></li></ul></li><li><a href="#五使用-visual-studio-code-调试-javascript" class="table-of-contents__link toc-highlight">五、使用 Visual Studio Code 调试 JavaScript</a><ul><li><a href="#1-用于调试的-vs-code-设置" class="table-of-contents__link toc-highlight">1. 用于调试的 VS Code 设置</a></li><li><a href="#2-了解调试器面板" class="table-of-contents__link toc-highlight">2. 了解调试器面板</a></li><li><a href="#3-快速演示" class="table-of-contents__link toc-highlight">3. 快速演示</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#往期精彩" class="table-of-contents__link toc-highlight">往期精彩</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5fde237b.js"></script>
<script src="/assets/js/main.5fad3d91.js"></script>
</body>
</html>
<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-react-helmet="true">Blog | My Site</title><meta data-react-helmet="true" property="og:title" content="Blog | My Site"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://jiaozitang.github.io/blog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jiaozitang.github.io/blog"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jiaozitang.github.io/blog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1098517f.css">
<link rel="preload" href="/assets/js/runtime~main.55023f49.js" as="script">
<link rel="preload" href="/assets/js/main.2bcd511e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/front-end/code">å‰ç«¯</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jiaozitang/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">All posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.08.14-hooks">2022.08.14-hooks</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.08.28-lerna">2022.08.28-lerna</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.6.13-module-federation">æµ…å­¦ä¸€ä¸‹ webpack5 module federation</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.06.24-storybook">æµ…å­¦ä¸€ä¸‹ storybook</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.07.30-devtools1">2022.07.30-devtools1</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022.07.31-devtools2">ä¸€äº›æœ‰ç”¨çš„ JavaScript è°ƒè¯•æŠ€å·§</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/05/23/ts">Typescript å¸¸ç”¨ç‰¹æ€§å°ç»“</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/03/12/function-code">JavaScript å‡½æ•°å¼ç¼–ç¨‹-å…¥é—¨ç¯‡</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/12/React-Hooks">React-ä½ æœ‰å®Œå…¨äº†è§£ Hooks å—</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/02/11/up-up-up">ä¸“æ å­¦ä¹ å¿ƒå¾—ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/01/31/ã€è¯‘ã€‘ä½ çŸ¥é“ Code Review åº”è¯¥æ£€æŸ¥å“ªäº›é—®é¢˜å—">ã€è¯‘ã€‘ä½ çŸ¥é“ Code Review åº”è¯¥æ£€æŸ¥å“ªäº›é—®é¢˜å—</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/å®è·µæŒ‡å—-å¿«é€Ÿæ­å»ºæ–‡æ¡£ç³»ç»Ÿ">å®è·µæŒ‡å—-å¿«é€Ÿæ­å»ºæ–‡æ¡£ç³»ç»Ÿ</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/12/20/how-to-join-Taro">å¦‚ä½•å‚ä¸å¤§å‹å¼€æºé¡¹ç›®-Taro å…±å»º</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/07/22/simple-react">æ‰‹å†™ç³»åˆ—-å®ç°ä¸€ä¸ªé“‚é‡‘æ®µä½çš„ React</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.08.14-hooks">2022.08.14-hooks</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.331Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>æºæ‰‹åˆ›ä½œï¼Œå…±åŒæˆé•¿ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 8 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬ 1 å¤©ï¼Œ<a href="https://juejin.cn/post/7123120819437322247" target="_blank" rel="noopener noreferrer" title="https://juejin.cn/post/7123120819437322247">ç‚¹å‡»æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œæ˜¯åœ¨æ›´æ–°
Input è¾“å…¥æ¡†æ—¶ï¼Œæœç´¢æ•°æ®ã€‚</p><p>ç±»ä¼¼çš„åŠŸèƒ½å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78145fcd2f03485b94132cc7dd2519e6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>é€šè¿‡ react useEffectï¼Œç®€å•çš„ demo å®ç°å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Input</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;antd&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useEffect</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./App.css&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setVal</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">onSearch</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æœç´¢&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;å…¨éƒ¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å½“ val å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯·æ±‚æœç´¢æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">onSearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;App&#x27;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Input</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> placeholder</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;è¯·è¾“å…¥&#x27;</span><span class="token plain"> onChange</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setVal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> allowClear </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™æ—¶å¯ä»¥çœ‹åˆ°ï¼Œé¦–æ¬¡è¿›å…¥é¡µé¢ï¼Œä¼šå‘èµ· 2 æ¬¡æŸ¥è¯¢å…¨éƒ¨çš„æœç´¢æ•°æ®è¯·æ±‚ï¼Œç„¶åæ¯æ¬¡è¾“å…¥æ¡†æ›´æ–°ï¼Œéƒ½ä¼šå‘èµ·æœç´¢æ•°æ®çš„è¯·æ±‚ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f9e13517d1745c09fc31dc4fb1802a6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœç´¢æ•°æ®æ—¶ï¼ŒåŠ å…¥é˜²æŠ–çš„é€»è¾‘ï¼Œåªæœ‰å½“è¾“å…¥æ“ä½œåœé¡¿æŒ‡å®šæ—¶é—´åï¼Œæ‰å‘èµ·æœç´¢æ•°æ®çš„è¯·æ±‚ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="lodash-debounce--usecallback">lodash debounce + useCallback<a class="hash-link" href="#lodash-debounce--usecallback" title="Direct link to heading">â€‹</a></h2><p>å¼•å…¥ lodash çš„ <a href="https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options" target="_blank" rel="noopener noreferrer">debounce</a> æ–¹æ³•ã€‚</p><p><code>lodash_.debounce(func, [wait=0], [options=])</code>åˆ›å»ºä¸€ä¸ª debouncedï¼ˆé˜²æŠ–åŠ¨ï¼‰å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šä»ä¸Šä¸€æ¬¡è¢«è°ƒç”¨åï¼Œå»¶è¿ŸÂ <code>wait</code>Â æ¯«ç§’åè°ƒç”¨Â <code>func</code>Â æ–¹æ³•ã€‚</p><p>å°† onSearch æ–¹æ³•ç”¨ lodash.debounce + useCallback å°è£…åï¼Œå¯ä»¥å®ç°é˜²æŠ–æ•ˆæœã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onSearch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">debounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æœç´¢&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;å…¨éƒ¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b27578332c0143ce97ca4d79b295cc33~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="usedebouncefn">useDebounceFn<a class="hash-link" href="#usedebouncefn" title="Direct link to heading">â€‹</a></h2><p>å°†ä¸Šè¿° lodash debounce + useCallback å°è£…ä¸ºè‡ªå®šä¹‰ Hooks useDebounceFnï¼ŒuseDebounceFn å°†è¿”å›ä¸€ä¸ªæœ‰é˜²æŠ–æ•ˆæœçš„å‡½æ•°ã€‚</p><p><code>useDebounceFn(fn1, options)</code> è¿”å›é˜²æŠ– Hooksã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">DebounceOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  wait</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">useDebounceFn</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function-variable function" style="color:#d73a49">fn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">DebounceOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">debounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">wait</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onSearch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDebounceFn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æœç´¢&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;å…¨éƒ¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      wait</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="usedebounce">useDebounce<a class="hash-link" href="#usedebounce" title="Direct link to heading">â€‹</a></h2><p>åœ¨ useDebounceFn åŸºç¡€ä¸Šï¼Œå®ç° useDebounceï¼Œè¿”å›ä¸€ä¸ªå…·æœ‰é˜²æŠ–æ•ˆæœçš„ stateã€‚</p><p>åˆ›å»ºä¸€ä¸ªæ–° stateï¼ŒsetState ç”¨ useDebounceFn å°è£…ï¼Œ<code>useDebounce(state, options)</code> è¿”å›é˜²æŠ– stateã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> useDebounce</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">DebounceOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debounced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setDebounced</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> update </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDebounceFn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setDebounced</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> debounced</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å°† useEffect çš„ä¾èµ–é¡¹æ”¹æˆ useDebounce è¿”å›çš„ stateï¼ŒåŒæ ·å¯ä»¥å®ç°æœç´¢é˜²æŠ–ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> debounceVal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDebounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> wait</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">onSearch</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;æœç´¢&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;å…¨éƒ¨&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å½“ debounceVal å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯·æ±‚æœç´¢æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">onSearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">debounceVal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debounceVal</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="usedebounceeffect">useDebounceEffect<a class="hash-link" href="#usedebounceeffect" title="Direct link to heading">â€‹</a></h2><p>åœ¨ useDebounceFn åŸºç¡€ä¸Šï¼Œå®ç° useDebounceEffectï¼Œè¿”å›ä¸€ä¸ªå…·æœ‰é˜²æŠ–æ•ˆæœçš„ useEffectã€‚</p><p>åˆ›å»ºä¸€ä¸ªæ–° stateï¼ŒsetState ç”¨ useDebounceFn å°è£…ï¼Œä¾èµ–æ›´æ–°æ—¶é˜²æŠ–æ›´æ–° stateï¼Œæ–° state æ›´æ–°æ—¶æ‰§è¡Œå‰¯ä½œç”¨ï¼Œè¿™æ—¶å‰¯ä½œç”¨å°±é˜²æŠ–æ‰§è¡Œäº†ã€‚</p><p><code>useDebounceEffect(effect, deps, options)</code> è¿”å›é˜²æŠ– useEffectã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDebounceEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">effect</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> EffectCallback</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> deps</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> DependencyList</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> DebounceOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debounced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setDebounced</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> update </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDebounceFn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setDebounced</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> deps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effect</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debounced</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å°† useEffect æ”¹æˆ useDebounceEffectï¼Œå°±å¯ä»¥å®ç°æœç´¢é˜²æŠ–ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useDebounceEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">onSearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> wait</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡å®ç°äº† useDebounceFnã€useDebounceã€useDebounceEffect 3 ç§é˜²æŠ– Hooksï¼Œè¿™ 3 ä¸ª Hooks å¯ä»¥ç›´æ¥ä¸‹è½½ <a href="https://ahooks.js.org/zh-CN/hooks/use-debounce" target="_blank" rel="noopener noreferrer">ahooks</a> ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://ahooks.js.org/zh-CN/hooks/use-debounce" target="_blank" rel="noopener noreferrer">ahooks å®˜ç½‘</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.08.28-lerna">2022.08.28-lerna</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.331Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->10 min read</div></header><div class="markdown" itemprop="articleBody"><p>æºæ‰‹åˆ›ä½œï¼Œå…±åŒæˆé•¿ï¼è¿™æ˜¯æˆ‘å‚ä¸ã€Œæ˜é‡‘æ—¥æ–°è®¡åˆ’ Â· 8 æœˆæ›´æ–‡æŒ‘æˆ˜ã€çš„ç¬¬ 2 å¤©ï¼Œç‚¹å‡»<a href="https://juejin.cn/post/7123120819437322247" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€èƒŒæ™¯">ä¸€ã€èƒŒæ™¯<a class="hash-link" href="#ä¸€èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>æˆ–è®¸åœ¨å¼€å‘å¤šåŒ…çš„è¿‡ç¨‹ä¸­ï¼Œæ€»ä¼šé‡åˆ°å¤šåŒ…çš„å‘å¸ƒå·¥ä½œæµé—®é¢˜ï¼Œè¯¦ç»†è§£é‡Šå°±æ˜¯ä¸€ä¸ª npm åŒ…ï¼Œç”±å¤šä¸ª npm ç›¸äº’ä¾èµ–æ„æˆï¼Œå‘å¸ƒ npm åŒ… 1ï¼Œå¯¹å…¶æœ‰ä¾èµ–çš„ npm åŒ… 2 ä¹Ÿè¦ä¸€åŒå‘å¸ƒï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½å°†è¿™ä¸ªå‘å¸ƒå·¥ä½œæµç®€å•åŒ–å‘¢ï¼Ÿ</p><p>å®ç°åœ¨å‘å¸ƒ npm åŒ… 1 æ—¶ï¼Œè‡ªåŠ¨æ£€æµ‹ä¾èµ– npm åŒ…çš„å…¶ä»–åŒ…ï¼Œå¹¶åŒæ—¶å‘å¸ƒï¼Œæ›´æ–°ç‰ˆæœ¬ã€‚</p><p>ç­”æ¡ˆå¤§å®¶éƒ½çŸ¥æ™“ï¼Œé‚£ä¾¿æ˜¯ä½¿ç”¨å¤šåŒ…ç®¡ç†å·¥å…· lernaã€‚</p><p>ä½†æ˜¯ lerna å®˜æ–¹æ–‡æ¡£(<a href="https://www.lernajs.cn/" target="_blank" rel="noopener noreferrer">lerna ä¸­æ–‡æ–‡æ¡£</a>)ä¸é½å…¨ï¼Œå­¦ä¹ æˆæœ¬ç”šé«˜ï¼Œæœ¬æ–‡æ¬²æ‰“é€ ä¸€ä¸ªæœ€è¯¦ç»†çš„ lerna æ‰‹å†Œï¼Œå¸®åŠ©æŸ¥é˜…æŒ‡ä»¤ï¼Œç†Ÿæ‚‰ lernaã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒlerna-ä»‹ç»">äºŒã€lerna ä»‹ç»<a class="hash-link" href="#äºŒlerna-ä»‹ç»" title="Direct link to heading">â€‹</a></h2><p>lerna æ˜¯ä¸€ä¸ªä¼˜åŒ–ä½¿ç”¨ git å’Œ npm ç®¡ç†å¤šåŒ…å­˜å‚¨åº“å·¥ä½œæµçš„å·¥å…·ã€‚</p><p>å®ƒå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>è‡ªåŠ¨è§£å†³ packages ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼›</li><li>é€šè¿‡ git æ£€æµ‹æ–‡ä»¶æ”¹åŠ¨ï¼Œè‡ªåŠ¨å‘å¸ƒï¼›</li><li>æ ¹æ® git æäº¤è®°å½•ï¼Œè‡ªåŠ¨ç”Ÿæˆ CHANGELOGã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰å·¥ä½œæ¨¡å¼">ä¸‰ã€å·¥ä½œæ¨¡å¼<a class="hash-link" href="#ä¸‰å·¥ä½œæ¨¡å¼" title="Direct link to heading">â€‹</a></h2><p>lerna æ”¯æŒ 2 ç§å·¥ä½œæ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>é»˜è®¤æ¨¡å¼-Locked mode</strong>å’Œ<strong>Independent mode</strong>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="é»˜è®¤æ¨¡å¼-locked-mode">é»˜è®¤æ¨¡å¼-Locked mode<a class="hash-link" href="#é»˜è®¤æ¨¡å¼-locked-mode" title="Direct link to heading">â€‹</a></h3><p>æ¯æ¬¡å‘å¸ƒï¼Œæ‰€æœ‰æœ‰æ”¹åŠ¨çš„åŒ…è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼Œæ‰€æœ‰åŒ…çš„ç‰ˆæœ¬ä¸€è‡´ï¼Œç‰ˆæœ¬å·ç»´æŠ¤åœ¨ lerna.json çš„ version ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="independent-mode">Independent mode<a class="hash-link" href="#independent-mode" title="Direct link to heading">â€‹</a></h3><p>æ¯æ¬¡å‘å¸ƒæ—¶ï¼Œå°†æç¤ºæ¯ä¸ªå·²æ›´æ”¹çš„åŒ…ï¼Œä»¥åŠå…¶å»ºè®®çš„ç‰ˆæœ¬å·ï¼Œæ¯ä¸ª package éƒ½æœ‰è‡ªå·±çš„ç‰ˆæœ¬å·ã€‚</p><p>è®¾ç½®æ–¹å¼ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna init --independent</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æˆ–ä¿®æ”¹ lerna.jsonï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">version: </span><span class="token string" style="color:#e3116c">&quot;independent&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››å¸¸ç”¨æŒ‡ä»¤">å››ã€å¸¸ç”¨æŒ‡ä»¤<a class="hash-link" href="#å››å¸¸ç”¨æŒ‡ä»¤" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-lerna-init">1. lerna init<a class="hash-link" href="#1-lerna-init" title="Direct link to heading">â€‹</a></h3><p>åˆå§‹åŒ–ä¸€ä¸ª lerna å·¥ç¨‹æˆ–è€…å‡çº§ç°æœ‰ lerna é¡¹ç›®åˆ°å½“å‰ç‰ˆæœ¬çš„ lernaã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æ‰§è¡ŒæˆåŠŸåï¼Œç›®å½•ä¸‹å°†ä¼šç”Ÿæˆè¿™æ ·çš„ç›®å½•ç»“æ„ã€‚</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"> - packages(ç›®å½•)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - lerna.json(é…ç½®æ–‡ä»¶)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> - package.json(å·¥ç¨‹æè¿°æ–‡ä»¶)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-lerna-create">2. lerna create<a class="hash-link" href="#2-lerna-create" title="Direct link to heading">â€‹</a></h3><p>åˆ›å»ºä¸€ä¸ª packageï¼ŒæŒ‡å®šåŒ…åï¼Œå¯æŒ‡å®šåŒ…ä½ç½®ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna create </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">location</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create package1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create package1.1 packages/package1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-lerna-add">3. lerna add<a class="hash-link" href="#3-lerna-add" title="Direct link to heading">â€‹</a></h3><p>ä¸ºåŒ…æ·»åŠ ä¾èµ–ã€‚</p><ul><li><code>--dev</code> devDependencies æ›¿ä»£ <code>dependencies</code></li><li><code>--exact</code> å®‰è£…å‡†ç¡®ç‰ˆæœ¬ï¼Œå°±æ˜¯å®‰è£…çš„åŒ…ç‰ˆæœ¬å‰é¢ä¸å¸¦<code>^</code>, Eg: <code>&quot;^2.20.0&quot; âœ &quot;2.20.0&quot;</code></li></ul><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> lodash packages/module-1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-lerna-bootstrap">4. lerna bootstrap<a class="hash-link" href="#4-lerna-bootstrap" title="Direct link to heading">â€‹</a></h3><p>å°†æœ¬åœ°åŒ…é“¾æ¥åœ¨ä¸€èµ·å¹¶å®‰è£…å…¶ä½™çš„åŒ…ä¾èµ–é¡¹ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna bootstrap</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-lerna-list">5. lerna list<a class="hash-link" href="#5-lerna-list" title="Direct link to heading">â€‹</a></h3><p>åˆ—å‡ºæ‰€æœ‰çš„åŒ…ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna list</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-lerna-import">6. lerna import<a class="hash-link" href="#6-lerna-import" title="Direct link to heading">â€‹</a></h3><p>å¯¼å…¥æœ¬åœ°å·²ç»å­˜åœ¨çš„åŒ…ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">npm åŒ…æ‰€åœ¨è·¯å¾„</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="7-lerna-link">7. lerna link<a class="hash-link" href="#7-lerna-link" title="Direct link to heading">â€‹</a></h3><p>é¡¹ç›®åŒ…å»ºç«‹è½¯é“¾ï¼Œç±»ä¼¼ npm linkã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">link</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="8-lerna-clean">8. lerna clean<a class="hash-link" href="#8-lerna-clean" title="Direct link to heading">â€‹</a></h3><p>åˆ é™¤æ‰€æœ‰åŒ…çš„ node_modules ç›®å½•ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna clean</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="9-lerna-changed">9. lerna changed<a class="hash-link" href="#9-lerna-changed" title="Direct link to heading">â€‹</a></h3><p>åˆ—å‡ºè‡ªä¸Šæ¬¡æ›´æ”¹åå·²æ›´æ”¹çš„æœ¬åœ°åŒ…ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna changed</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="10-lerna-publish">10. lerna publish<a class="hash-link" href="#10-lerna-publish" title="Direct link to heading">â€‹</a></h3><p>å‘å¸ƒåŒ…ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna publish</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="11-lerna-diff">11. lerna diff<a class="hash-link" href="#11-lerna-diff" title="Direct link to heading">â€‹</a></h3><p>åŒºåˆ†è‡ªä¸Šæ¬¡å‘å¸ƒä»¥æ¥çš„æ‰€æœ‰åŒ…æˆ–å•ä¸ªåŒ…</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna </span><span class="token function" style="color:#d73a49">diff</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="12-lerna-info">12. lerna info<a class="hash-link" href="#12-lerna-info" title="Direct link to heading">â€‹</a></h3><p>æ‰“å°æœ‰å…³æœ¬åœ°ç¯å¢ƒçš„è°ƒè¯•ä¿¡æ¯ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna info</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="13-lerna-run">13. lerna run<a class="hash-link" href="#13-lerna-run" title="Direct link to heading">â€‹</a></h3><p>åœ¨åŒ…å«è¯¥è„šæœ¬çš„æ¯ä¸ªåŒ…ä¸­è¿è¡Œ npm è„šæœ¬ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna run dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨åŒ…å«è¯¥è„šæœ¬çš„æŒ‡å®šåŒ…ä¸­è¿è¡Œ npm è„šæœ¬ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna run dev --scope</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">packageA</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="14-lerna-version">14. lerna version<a class="hash-link" href="#14-lerna-version" title="Direct link to heading">â€‹</a></h3><p>æ›´æ–°ç‰ˆæœ¬ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna version</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”lerna--yarn-workspaces-å®è·µ">äº”ã€lerna + yarn workspaces å®è·µ<a class="hash-link" href="#äº”lerna--yarn-workspaces-å®è·µ" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-å®‰è£…">1. å®‰è£…<a class="hash-link" href="#1-å®‰è£…" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> lerna -g</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-åˆ›å»ºé¡¹ç›®">2. åˆ›å»ºé¡¹ç›®<a class="hash-link" href="#2-åˆ›å»ºé¡¹ç›®" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> lerna-demo</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-åˆå§‹åŒ–é¡¹ç›®">3. åˆå§‹åŒ–é¡¹ç›®<a class="hash-link" href="#3-åˆå§‹åŒ–é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ./lerna-demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å…¶ä¸­ package.json &amp; lerna.json å¦‚ä¸‹:</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;private&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> true, // ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å‘å¸ƒï¼Œæ˜¯ç®¡ç†æ•´ä¸ªé¡¹ç›®ï¼Œä¸è¦å‘å¸ƒåˆ°npmçš„è§£è€¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;devDependencies&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;lerna&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^4.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// lerna.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;packages&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;packages/*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;version&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-å¯ç”¨-yarn-workspaces">4. å¯ç”¨ yarn workspaces<a class="hash-link" href="#4-å¯ç”¨-yarn-workspaces" title="Direct link to heading">â€‹</a></h3><p>å„ä¸ªåº“ä¹‹é—´å­˜åœ¨ä¾èµ–ï¼Œå¦‚ A ä¾èµ–äº Bï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸éœ€è¦å°† B link åˆ° A çš„ node_module é‡Œï¼Œä¸€æ—¦ä»“åº“å¾ˆå¤šçš„è¯ï¼Œæ‰‹åŠ¨çš„ç®¡ç†è¿™äº› link æ“ä½œè´Ÿæ‹…å¾ˆå¤§ï¼Œå› æ­¤éœ€è¦è‡ªåŠ¨åŒ–çš„ link æ“ä½œï¼ŒæŒ‰ç…§æ‹“æ‰‘æ’åºå°†å„ä¸ªä¾èµ–è¿›è¡Œ linkã€‚</p><p>å¯ç”¨ yarn workspaces å¯ä»¥æŠŠæ‰€æœ‰çš„ä¾èµ–æå‡åˆ°é¡¶å±‚çš„ node_modules ä¸­ï¼Œå¹¶ä¸”åœ¨ node_modules ä¸­é“¾æ¥åˆ°æœ¬åœ°çš„ packageï¼Œè‡ªåŠ¨çš„å¸®å¿™è§£å†³å®‰è£…å’Œ link é—®é¢˜ã€‚</p><p>ä¿®æ”¹ package.jsonï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;private&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> true, // åªæœ‰ç§æœ‰é¡¹ç›®å¯ä»¥å¼€å¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;workspaces&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;packages/*&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¿®æ”¹ lerna.jsonï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;useWorkspaces&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;npmClient&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;yarn&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-æ·»åŠ -package">5. æ·»åŠ  package<a class="hash-link" href="#5-æ·»åŠ -package" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna create packageA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna create packageB</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-æ·»åŠ åˆ é™¤æ¸…é™¤åŒ…ä¾èµ–">6. æ·»åŠ ã€åˆ é™¤ã€æ¸…é™¤åŒ…ä¾èµ–<a class="hash-link" href="#6-æ·»åŠ åˆ é™¤æ¸…é™¤åŒ…ä¾èµ–" title="Direct link to heading">â€‹</a></h3><p>yarn workspaces æ·»åŠ ä¾èµ–ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># å°†packageAä½œä¸ºpackageBçš„ä¾èµ–è¿›è¡Œå®‰è£…ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspace packageB </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> packageA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ç»™æ‰€æœ‰çš„packageå®‰è£…ä¾èµ–:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspaces </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> lodash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ç»™root å®‰è£…ä¾èµ–ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> -W -D typescript</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>yarn workspaces åˆ é™¤ä¾èµ–ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åˆ é™¤packageBçš„ä¾èµ–packageAï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspace packageB remove packageA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ç»™æ‰€æœ‰çš„packagesåˆ é™¤ä¾èµ–:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspaces remove lodash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ç»™root åˆ é™¤ä¾èµ–ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> remove -W -D typescript</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>yarn workspaces å®‰è£…å…¨éƒ¨ä¾èµ–ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>yarn install</code> ç­‰ä»·äº <code>lerna bootstrap --npm-client yarn --use-workspaces</code>ï¼ŒæŠŠæ‰€æœ‰çš„ä¾èµ–æå‡åˆ°é¡¶å±‚çš„ node_modules ä¸­ï¼Œå¹¶ä¸”åœ¨ node_modules ä¸­é“¾æ¥åˆ°æœ¬åœ°çš„ packageï¼Œè‡ªåŠ¨çš„å¸®å¿™è§£å†³å®‰è£…å’Œ link é—®é¢˜ã€‚</p><p>yarn workspaces æ¸…é™¤ node_modulesï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> workspaces run clean</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="7-é¡¹ç›®æ„å»º">7. é¡¹ç›®æ„å»º<a class="hash-link" href="#7-é¡¹ç›®æ„å»º" title="Direct link to heading">â€‹</a></h3><p>æ„å»ºæ‰€æœ‰åŒ…ï¼š</p><p>åŒºåˆ«äºæ™®é€šé¡¹ç›®ä¹‹å¤„åœ¨äºå„ä¸ª package ä¹‹é—´å­˜åœ¨ç›¸äº’ä¾èµ–ï¼Œå¦‚ packageB åªæœ‰åœ¨ packageA æ„å»ºå®Œä¹‹åæ‰èƒ½è¿›è¡Œæ„å»ºï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ï¼Œè¿™å®é™…ä¸Šè¦æ±‚æˆ‘ä»¬ä»¥ä¸€ç§æ‹“æ‰‘æ’åºçš„è§„åˆ™è¿›è¡Œæ„å»ºã€‚</p><p>lerna æ”¯æŒæŒ‰ç…§æ‹“æ‰‘æ’åºè§„åˆ™æ‰§è¡Œå‘½ä»¤, --sort å‚æ•°å¯ä»¥æ§åˆ¶ä»¥æ‹“æ‰‘æ’åºè§„åˆ™æ‰§è¡Œå‘½ä»¤ã€‚</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ä»¥æ‹“æ‰‘æ’åºè§„åˆ™åœ¨åŒ…å«è¯¥è„šæœ¬çš„æ¯ä¸ªåŒ…ä¸­è¿è¡Œ npm run dev è„šæœ¬ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna run dev --stream --sort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»¥æ‹“æ‰‘æ’åºè§„åˆ™åœ¨åŒ…å«è¯¥è„šæœ¬çš„æ¯ä¸ªåŒ…ä¸­è¿è¡Œ npm run build è„šæœ¬ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna run build --stream --sort</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æ„å»ºæŒ‡å®šåŒ…ï¼š</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åœ¨ packageA åŒ…ä¸­è¿è¡Œ npm run dev è„šæœ¬ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna run dev --stream --scope</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">packageA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨ packageA åŒ…ä¸­è¿è¡Œ npm run build è„šæœ¬ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lerna run build --stream --scope</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">packageA</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="8-å‘å¸ƒ">8. å‘å¸ƒ<a class="hash-link" href="#8-å‘å¸ƒ" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">lerna publish</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å‘å¸ƒæŒ‡ä»¤ lerna publish å†…ç½®ä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li><p><strong>æ¡ä»¶éªŒè¯</strong>ï¼šåŒ…å«éªŒè¯æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Œæ˜¯å¦å­˜åœ¨æœªæäº¤çš„ä»£ç ï¼Œæ˜¯å¦åœ¨ä¸»åˆ†æ”¯ä¸Šè¿›è¡Œç‰ˆæœ¬å‘å¸ƒæ“ä½œç­‰ç­‰æ¡ä»¶éªŒè¯ï¼›</p></li><li><p><strong>version_bump</strong>ï¼šå‘ç‰ˆçš„æ—¶å€™éœ€è¦æ›´æ–°ç‰ˆæœ¬å·ï¼Œè¿™æ—¶å€™å¦‚ä½•æ›´æ–°ç‰ˆæœ¬å·å°±æ˜¯ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬å¤§å®¶éƒ½ä¼šéµå¾ª Â semVer è¯­ä¹‰ï¼›</p></li><li><p><strong>ç”Ÿæˆ changelog</strong>ï¼šä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹æ¯ä¸ª package æ¯ä¸ªç‰ˆæœ¬è§£å†³äº†å“ªäº›åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¯ä¸ª package éƒ½ç”Ÿæˆä¸€ä»½ changelog æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹å„ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½å˜åŒ–ï¼›</p></li><li><p><strong>ç”Ÿæˆ git tag</strong>ï¼šä¸ºäº†æ–¹ä¾¿åç»­å›æ»šé—®é¢˜åŠé—®é¢˜æ’æŸ¥é€šå¸¸éœ€è¦ç»™æ¯ä¸ªç‰ˆæœ¬åˆ›å»ºä¸€ä¸ª git tagï¼›</p></li><li><p><strong>git å‘å¸ƒç‰ˆæœ¬</strong>ï¼šæ¯æ¬¡å‘ç‰ˆæˆ‘ä»¬éƒ½éœ€è¦å•ç‹¬ç”Ÿæˆä¸€ä¸ª commit è®°å½•æ¥æ ‡è®° milestoneï¼›</p></li><li><p><strong>å‘å¸ƒ npm åŒ…</strong>ï¼šå‘å¸ƒå®Œ git åæˆ‘ä»¬è¿˜éœ€è¦å°†æ›´æ–°çš„ç‰ˆæœ¬å‘å¸ƒåˆ° npm ä¸Šï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·ä½¿ç”¨ã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡ä» 5 ä¸ªæ–¹é¢ä»‹ç»äº† lernaï¼š</p><ul><li>èƒŒæ™¯</li><li>ä»‹ç»</li><li>å·¥ä½œæ¨¡å¼</li><li>å¸¸ç”¨æŒ‡ä»¤</li><li>lerna + yarn workspaces å®è·µ</li></ul><p>ç›¸ä¿¡ä½ å·²ç»å¾ˆç†Ÿæ‚‰ lerna çš„ä½¿ç”¨äº†ï¼Œä¸‹æ–¹è¿˜åˆ—ä¸¾äº†å‚è€ƒèµ„æ–™ï¼Œå¯ä»¥è‡ªè¡Œæ‰©å±•é˜…è¯»ã€‚</p><p>å¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ„Ÿè°¢é˜…è¯»ï½</p><p>åˆ«å¿˜äº†ç‚¹ä¸ªèµé¼“åŠ±ä¸€ä¸‹æˆ‘å“¦ï¼Œç¬”èŠ¯ â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://juejin.cn/post/6844903568751722509" target="_blank" rel="noopener noreferrer">lerna ç®¡ç†å‰ç«¯æ¨¡å—æœ€ä½³å®è·µ</a></li><li><a href="https://juejin.cn/post/6844903856153821198" target="_blank" rel="noopener noreferrer">Lerna ä¸­æ–‡æ•™ç¨‹è¯¦è§£</a></li><li><a href="https://www.lernajs.cn/" target="_blank" rel="noopener noreferrer">Lerna ä¸­æ–‡å®˜ç½‘</a></li><li><a href="https://segmentfault.com/a/1190000023954051" target="_blank" rel="noopener noreferrer">Lerna --å¤šåŒ…å­˜å‚¨ç®¡ç†å·¥å…·ï¼ˆä¸€ï¼‰</a></li><li><a href="https://juejin.cn/post/7043998041786810398" target="_blank" rel="noopener noreferrer">One For Allï¼šåŸºäº pnpm + lerna + typescript çš„æœ€ä½³é¡¹ç›®å®è·µ - ç†è®ºç¯‡</a></li><li><a href="https://juejin.cn/post/6844903918279852046" target="_blank" rel="noopener noreferrer">lerna+yarn workspace+monorepo é¡¹ç›®çš„æœ€ä½³å®è·µ</a></li><li><a href="https://juejin.cn/post/6847902224987717639" target="_blank" rel="noopener noreferrer">@lerna/run(ç¿»è¯‘)</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.6.13-module-federation">æµ…å­¦ä¸€ä¸‹ webpack5 module federation</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.331Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>åœ¨ä¸€ä¸ªå¤§ä¸­å°é¡¹ç›®ä¸­ï¼Œæ€ä¹ˆé«˜æ•ˆé«˜æ€§èƒ½çš„å°†å¤šä¸ªå­é¡¹ç›®äº’ç›¸åµŒå…¥ï¼Ÿ</p><p>ç†ŸçŸ¥çš„å¾®å‰ç«¯è§£å†³æ–¹æ¡ˆæœ‰ micro-appã€qiankunã€webpack5 module federation ç­‰ç­‰ã€‚</p><p>é‚£ webpack5 module federation æ˜¯ä»€ä¹ˆã€å¦‚ä½•ä½¿ç”¨ã€å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æœ¬æ–‡å°†ä¸€ä¸€æ­æ™“ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="module-federation-æ˜¯ä»€ä¹ˆ">module federation æ˜¯ä»€ä¹ˆ<a class="hash-link" href="#module-federation-æ˜¯ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>module federation è¯‘ä¸ºæ¨¡å—è”é‚¦ï¼Œæ„æ€æ˜¯æ¨¡å—å¯ä»¥åœ¨å¤šä¸ªåº”ç”¨ä¹‹é—´äº’ç›¸ä½¿ç”¨ï¼Œåº”ç”¨ a å¯ä»¥å¯¼å‡ºæ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åº”ç”¨ b å¯¼å‡ºçš„è¿œç¨‹æ¨¡å—ã€‚</p><p>module federation å°±æ˜¯å¾®å‰ç«¯çš„ä¸€ç§ï¼Œè€Œè¿™ç§å¾®å‰ç«¯å’Œ micro-appã€qiankun ç­‰å¾®å‰ç«¯æ¡†æ¶ç¡®æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚</p><p>é¢—ç²’åº¦çš„å®šä¹‰ï¼š</p><ul><li>module federationï¼šå¤šä¸ªäº’ç›¸ç‹¬ç«‹çš„æ¨¡å—èšåˆï¼›</li><li>qiankunï¼šå¤šä¸ªäº’ç›¸ç‹¬ç«‹çš„åº”ç”¨èšåˆã€‚</li></ul><p>æŠ€æœ¯å®ç°ï¼š</p><ul><li>module federationï¼šæ‰“åŒ…çš„ chunk çš„èšåˆï¼›</li><li>qiankunï¼šæ‰“åŒ…çš„ main.js çš„èšåˆã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨<a class="hash-link" href="#å¦‚ä½•ä½¿ç”¨" title="Direct link to heading">â€‹</a></h2><p>åœ¨ webpack5 é¡¹ç›®ä¸­æ–°å¢ module federation plugin é…ç½®ã€‚</p><p>é…ç½®é¡¹å¦‚ä¸‹ï¼š</p><ul><li>nameï¼šåº”ç”¨åç§°ï¼Œå½“ä½œä¸º remote å¼•ç”¨æ—¶ï¼Œè·¯å¾„ä¸º name/exposeï¼›</li><li>libraryï¼šå£°æ˜å…¨å±€å˜é‡çš„æ–¹å¼ï¼Œname ä¸º umd çš„ nameï¼›</li><li>filenameï¼šæ„å»ºè¾“å‡ºçš„æ–‡ä»¶åï¼›</li><li>remotesï¼šè¿œç¨‹å¼•ç”¨çš„åº”ç”¨ååŠå…¶åˆ«åçš„æ˜ å°„ï¼Œä½¿ç”¨æ—¶ä»¥ key å€¼ä½œä¸º nameï¼›</li><li>exposesï¼šè¢«è¿œç¨‹å¼•ç”¨æ—¶å¯æš´éœ²çš„èµ„æºè·¯å¾„åŠå…¶åˆ«åï¼›</li><li>sharedï¼šä¸å…¶ä»–åº”ç”¨ä¹‹é—´å¯ä»¥å…±äº«çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼›<ul><li>requiredVersion: ä¾èµ–çš„ç‰ˆæœ¬ï¼›</li><li>singleton: ä»…å…è®¸å…±äº«èŒƒå›´å†…çš„å•ä¸ªç‰ˆæœ¬ï¼›</li><li>eager: å…è®¸åœ¨åˆå§‹å—ä¸­ä½¿ç”¨è¿™ä¸ªå…±äº«æ¨¡å—ã€‚</li></ul></li></ul><p>é¡¹ç›® 1 çš„é…ç½®ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;host&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      remotes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remote1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;remote1@[remote1Url]/remoteEntry.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        libs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;libs@[libsUrl]/remoteEntry.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡¹ç›® 2 çš„é…ç½®ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;remote1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filename</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;remoteEntry.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exposes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;./Button&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./src/Button&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  remotes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libs</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;libs@[libsUrl]/remoteEntry.js&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é€šè¿‡ module federation å®ç°äº†é¡¹ç›® 1 çš„ Button ç»„ä»¶åœ¨é¡¹ç›® 2 çš„èšåˆã€‚</p><p>ç¤ºä¾‹ demo è§ï¼š<a href="https://github.com/jiaozitang/mf-demo" target="_blank" rel="noopener noreferrer">https://github.com/jiaozitang/mf-demo</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="åŸç†">åŸç†<a class="hash-link" href="#åŸç†" title="Direct link to heading">â€‹</a></h2><p>module federation è¿œç¨‹æ¨¡å— remotes å’Œå…±äº«æ¨¡å— shared éƒ½æ˜¯å¼‚æ­¥ chunkï¼Œé€šè¿‡ import åŠ¨æ€å¼•å…¥ï¼Œå®ç°æŒ‰éœ€åŠ è½½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>module federation çš„åº”ç”¨åœºæ™¯æœ‰é™ï¼Œå› ä¸ºå®ƒä»…ä»…æ˜¯æ¨¡å—çš„èšåˆï¼Œä¸å…·å¤‡åº”ç”¨ä¹‹é—´çš„éš”ç¦»æ€§ã€‚</p><p>é€šå¸¸é€‚ç”¨äºå¤šä¸ªåº”ç”¨ä¾èµ–ä¸åŒç»„ä»¶åº“çš„ç»„ä»¶çš„åœºæ™¯ã€‚</p><p>è¿™äº›ç»„ä»¶åº“å°†ç»„ä»¶é€šè¿‡ module federation æš´éœ²ï¼Œåº”ç”¨é€šè¿‡ module federation å¼•å…¥è¿œç¨‹ç»„ä»¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://zhuanlan.zhihu.com/p/352936804" target="_blank" rel="noopener noreferrer">Module Federation æ²¡æœ‰é­”æ³•ä»…ä»…æ˜¯å¼‚æ­¥chunk</a></li><li><a href="https://www.cnblogs.com/breakdown/p/15336672.html" target="_blank" rel="noopener noreferrer">ModuleFederation-æ¨¡å—è”é‚¦</a></li><li><a href="https://webpack.docschina.org/concepts/module-federation/" target="_blank" rel="noopener noreferrer">https://webpack.docschina.org/concepts/module-federation/</a></li><li><a href="https://webpack.docschina.org/plugins/module-federation-plugin" target="_blank" rel="noopener noreferrer">https://webpack.docschina.org/plugins/module-federation-plugin</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.06.24-storybook">æµ…å­¦ä¸€ä¸‹ storybook</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.330Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä»€ä¹ˆæ˜¯-storybook">ä»€ä¹ˆæ˜¯ storybook<a class="hash-link" href="#ä»€ä¹ˆæ˜¯-storybook" title="Direct link to heading">â€‹</a></h2><p><a href="https://storybook.js.org/docs/react/get-started/introduction/" target="_blank" rel="noopener noreferrer">storybook</a>æ˜¯ä¸€ä¸ªç»„ä»¶å¼€å‘å·¥å…·ï¼Œå®ƒæä¾›äº†å®Œæ•´çš„ç»„ä»¶å¼€å‘çš„ç”Ÿæ€ç¯å¢ƒï¼ŒåŒ…æ‹¬æ’ä»¶ã€ç”¨ä¾‹ã€æ–‡æ¡£ç­‰ç­‰ã€‚</p><p>storybook æ”¯æŒ reactã€vueã€angularã€web component ç­‰ä¸»æµå‰ç«¯ UI æ¡†æ¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æ€ä¹ˆç”¨-storybook">æ€ä¹ˆç”¨ storybook<a class="hash-link" href="#æ€ä¹ˆç”¨-storybook" title="Direct link to heading">â€‹</a></h2><p>storybook éœ€è¦å®‰è£…åˆ°å·²ç»è®¾ç½®äº†æ¡†æ¶çš„é¡¹ç›®ä¸­ã€‚</p><p>æ–°å»º react åº”ç”¨</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-react-app react-app</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åˆå§‹åŒ– storybook é…ç½®</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npx storybook init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯åŠ¨ storybook</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npm run storybook</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f606359fdc834fa38fb9c84ac8f8fe98~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>ç»™ç»„ä»¶å†™ storyï¼Œä¸€ä¸ª story è¡¨ç¤ºç»„ä»¶çš„ä¸€ç§çŠ¶æ€ã€‚</p><p>story çš„æ–‡ä»¶åçº¦å®šä¸º.stories.jsã€‚</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import React from &#x27;react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { Button } from &#x27;./Button&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title: &#x27;Button&#x27;, // ä¾§è¾¹æ å¯¼èˆªåç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  component: Button, // ç»„ä»¶åœ°å€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const Primary = () =&gt; &lt;Button primary&gt;Button&lt;/Button&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>storybook å‘ˆç°çš„ç”¨ä¾‹å±•ç¤ºå¦‚ä¸‹</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/620e0dc2ff2544b18560a8efcc506944~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>storybook é™„å¸¦äº†å†…ç½®çš„å·¥å…·æ ï¼š</p><ul><li>canvasï¼šç”¨äºç¼©æ”¾ç»„ä»¶ã€è®¾ç½®èƒŒæ™¯ã€è®¾ç½®å°ºå¯¸åŠæ–¹å‘</li><li>docsï¼šç”¨äºæŸ¥çœ‹ç»„ä»¶æ–‡æ¡£ï¼Œä»ç»„ä»¶ä»£ç è‡ªåŠ¨æ¨æ–­</li></ul><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/160e54ad953b4066aa6dbd8a3db86882~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>storybook é™„å¸¦äº†å†…ç½®çš„æ’ä»¶ï¼š</p><ul><li>controlsï¼šæ”¯æŒåŠ¨æ€ä¿®æ”¹ç»„ä»¶å‚æ•°</li><li>actionsï¼šéªŒè¯äº¤äº’æ˜¯å¦é€šè¿‡å›è°ƒäº§ç”Ÿæ­£ç¡®çš„è¾“å‡º</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://storybook.js.org/docs/react/get-started/introduction/" target="_blank" rel="noopener noreferrer">storybook å®˜ç½‘</a></li><li><a href="https://juejin.cn/post/6862258700430606349" target="_blank" rel="noopener noreferrer">[Web ç¿»è¯‘]Storybook 6.0</a></li><li><a href="https://juejin.cn/post/6844903873602125838" target="_blank" rel="noopener noreferrer">StoryBook å®æˆ˜</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.07.30-devtools1">2022.07.30-devtools1</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.330Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->6 min read</div></header><div class="markdown" itemprop="articleBody"><blockquote><p>æœ¬æ–‡åˆ†äº«ä¸€äº›ä¸å¸¸è§ä½†å¾ˆæœ‰ç”¨çš„JavaScript è°ƒè¯•æŠ€å·§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜æµè§ˆå™¨å¼€å‘å·¥å…·çš„ä½¿ç”¨æ•ˆç‡ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€å…ƒç´ é¢æ¿">ä¸€ã€å…ƒç´ é¢æ¿<a class="hash-link" href="#ä¸€å…ƒç´ é¢æ¿" title="Direct link to heading">â€‹</a></h2><p>é¦–å…ˆä»‹ç»çš„æ˜¯ Elements é¢æ¿ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/248a4723f47f45fab794841b22ad6775~tplv-k3u1fbpfcp-zoom-1.image" alt="å…ƒç´ .png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-é‡æ–°æ’åˆ—å…ƒç´ çš„ä½ç½®">1. é‡æ–°æ’åˆ—å…ƒç´ çš„ä½ç½®<a class="hash-link" href="#1-é‡æ–°æ’åˆ—å…ƒç´ çš„ä½ç½®" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥æ‹–æ”¾å…ƒç´ ä»¥åœ¨ä½ç½®ä¸Šä¸Šä¸‹ç§»åŠ¨ï¼Œå¯ç”¨äºç¼–è¾‘/è°ƒè¯• HTML ç»“æ„ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/baed937d71fc46ca8e9e32034b0a3975~tplv-k3u1fbpfcp-zoom-1.image" alt="dom_move.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-åœ¨å…ƒç´ é¢æ¿ä¸­å¼•ç”¨èŠ‚ç‚¹">2. åœ¨å…ƒç´ é¢æ¿ä¸­å¼•ç”¨èŠ‚ç‚¹<a class="hash-link" href="#2-åœ¨å…ƒç´ é¢æ¿ä¸­å¼•ç”¨èŠ‚ç‚¹" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥é€šè¿‡ <code>$0</code> è°ƒè¯•å…ƒç´ é¢æ¿é€‰ä¸­çš„ DOM èŠ‚ç‚¹ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¦‚æœä½ åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨ jQueryï¼Œä½ å¯ä»¥ä½¿ç”¨<code>$($0)</code>jQuery API æ¥è®¿é—®å’Œåº”ç”¨è¿™ä¸ªå…ƒç´ ã€‚</p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9776839a6f1c4acbb5c8b319f9de2ad2~tplv-k3u1fbpfcp-zoom-1.image" alt="å‚è€ƒå…ƒç´ .gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-ç”¨ä¸€ä¸ª-dom-èŠ‚ç‚¹åšå¾ˆå¤šäº‹æƒ…æ¯”å¦‚æˆªå±">3. ç”¨ä¸€ä¸ª DOM èŠ‚ç‚¹åšå¾ˆå¤šäº‹æƒ…ï¼Œæ¯”å¦‚æˆªå±ï¼Ÿ<a class="hash-link" href="#3-ç”¨ä¸€ä¸ª-dom-èŠ‚ç‚¹åšå¾ˆå¤šäº‹æƒ…æ¯”å¦‚æˆªå±" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥åœ¨ä¸é€€å‡ºè°ƒè¯•å™¨å·¥å…·çš„æƒ…å†µä¸‹æˆªå– DOM èŠ‚ç‚¹çš„å±å¹•æˆªå›¾ã€‚</p><p>é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹æŒ‰ä¸‹ <code>ctrl-shift-p</code>ï¼ˆMac å¿«æ·é”®ï¼‰ï¼Œè¾“å…¥ <code>screen</code> æœç´¢æˆªå›¾åŠŸèƒ½ï¼Œå®Œæˆ DOM èŠ‚ç‚¹çš„å±å¹•æˆªå›¾ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58a03aa60040442f99acf7b2c2a78c5b~tplv-k3u1fbpfcp-zoom-1.image" alt="æˆªå›¾.gif"></p><blockquote><p>åŒæ—¶ï¼ŒæŒ‰ä¸‹ <code>ctrl-shift-p</code> åè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¯ä»¥è‡ªè¡Œæ¢ç´¢ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒæ§åˆ¶å°é¢æ¿">äºŒã€æ§åˆ¶å°é¢æ¿<a class="hash-link" href="#äºŒæ§åˆ¶å°é¢æ¿" title="Direct link to heading">â€‹</a></h2><p>æ¥ä¸‹æ¥ä»‹ç»çš„æ˜¯ console é¢æ¿çš„ä½¿ç”¨æŠ€å·§ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eac15ffa6be54cd0bea5310806c2e24b~tplv-k3u1fbpfcp-zoom-1.image" alt="cosnole.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-å¤šè¡Œ-console">1. å¤šè¡Œ console<a class="hash-link" href="#1-å¤šè¡Œ-console" title="Direct link to heading">â€‹</a></h3><p>æŒ‰ä½<code>shift-enter</code>ä»¥ç»§ç»­æ‰§è¡Œæ¯ä¸€è¡Œï¼Œå®Œæˆåï¼ŒæŒ‰<code>enter</code>é”®ï¼Œå¯ä»¥å®ç°å¤šè¡Œæ—¥å¿—ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/310a18a94c9e4a60bcc8a6b2591c0185~tplv-k3u1fbpfcp-zoom-1.image" alt="å¤šè¡Œæ§åˆ¶å°.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-æ§åˆ¶å°æ—¥å¿—æ ¼å¼åŒ–">2. æ§åˆ¶å°æ—¥å¿—æ ¼å¼åŒ–<a class="hash-link" href="#2-æ§åˆ¶å°æ—¥å¿—æ ¼å¼åŒ–" title="Direct link to heading">â€‹</a></h3><p>é™¤äº†Â <code>console.log(&#x27;Hi&#x27;)</code>ï¼Œè¿˜æœ‰ä¸€äº›æ›´æœ‰ç”¨çš„æ ¼å¼åŒ–ç‰ˆæœ¬ï¼š</p><ul><li>%s å°†å˜é‡æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼›</li><li>%d å°†å˜é‡æ ¼å¼åŒ–ä¸ºæ•´æ•°ï¼›</li><li>%f å°†å˜é‡æ ¼å¼åŒ–ä¸ºæµ®ç‚¹æ•°ï¼›</li><li>%o å¯ç”¨äºæ‰“å° DOM å…ƒç´ ï¼›</li><li>%O ç”¨äºæ‰“å°å¯¹è±¡è¡¨ç¤ºï¼›</li><li>%c ç”¨äºä¼ é€’ CSS æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</li></ul><p>åœ¨æ§åˆ¶å°é¢æ¿ä¸­ä¸‹åˆ—ä»£ç ï¼š</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">console.log(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;%c I have %d %s&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;color: green; background:black; font-size: 20pt&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;Bikes!&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8788f2edd2b439082f90cfa6ef63aeb~tplv-k3u1fbpfcp-zoom-1.image" alt="æ ¼å¼æ§åˆ¶å°.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-å­˜å‚¨ä¸ºå…¨å±€å˜é‡">3. å­˜å‚¨ä¸ºå…¨å±€å˜é‡<a class="hash-link" href="#3-å­˜å‚¨ä¸ºå…¨å±€å˜é‡" title="Direct link to heading">â€‹</a></h3><p>å¯ä»¥å°† JSON å¯¹è±¡çš„ä»»ä½•éƒ¨åˆ†ä¿å­˜ä¸ºå¯åœ¨æ§åˆ¶å°é¢æ¿ä¸­è®¿é—®çš„å…¨å±€å˜é‡ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/921d432878774428bad600b5083546da~tplv-k3u1fbpfcp-zoom-1.image" alt="global_var_console.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ§åˆ¶å°é¢æ¿ä¸­çš„é«˜çº§æ—¥å¿—è®°å½•">4. æ§åˆ¶å°é¢æ¿ä¸­çš„é«˜çº§æ—¥å¿—è®°å½•<a class="hash-link" href="#4-æ§åˆ¶å°é¢æ¿ä¸­çš„é«˜çº§æ—¥å¿—è®°å½•" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="41-consoledir">4.1 console.dir<a class="hash-link" href="#41-consoledir" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> &#x27;</span><span class="token maybe-class-name">Orange</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¾“å‡ºï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e9b295a0c10454eb97137ce5dda426f~tplv-k3u1fbpfcp-zoom-1.image" alt="é«˜çº§æ—¥å¿—1.png"></p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Orange&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¾“å‡ºä¸ä¸Šé¢å‡ ä¹ç›¸åŒï¼Œä½†å®ƒæ˜ç¡®è¡¨ç¤ºç±»å‹ä¸º<code>Array</code>ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e867a004c63a4fd28aaea721ee9e5063~tplv-k3u1fbpfcp-zoom-1.image" alt="é«˜çº§æ—¥å¿—2.png"></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="42-consoletable">4.2 console.table<a class="hash-link" href="#42-consoletable" title="Direct link to heading">â€‹</a></h4><p>console.table ä¼šåœ¨æ§åˆ¶å°ä¸­æ‰“å°ä¸€ä¸ªè¡¨æ ¼ã€‚</p><p>å½“æ‚¨å¤„ç†å¤æ‚çš„å¯¹è±¡æ—¶ï¼Œåªéœ€å°†å…¶æ‰“å°ä¸º table å³å¯ã€‚</p><p>çœ‹çœ‹å®ƒçš„å®é™…æ•ˆæœï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/624acad3b0074a33b5b4f7ade00e75e1~tplv-k3u1fbpfcp-zoom-1.image" alt="æ§åˆ¶å°è¡¨.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5ä¿å­˜æ§åˆ¶å°æ—¥å¿—">5.ä¿å­˜æ§åˆ¶å°æ—¥å¿—<a class="hash-link" href="#5ä¿å­˜æ§åˆ¶å°æ—¥å¿—" title="Direct link to heading">â€‹</a></h3><p>åªéœ€é€‰ä¸­å›¾ç¤ºå¤é€‰æ¡†ï¼Œå³å¯åœ¨å¯¼èˆªåˆ°å…¶ä»–é¡µé¢æ—¶ä¿ç•™æ§åˆ¶å°ä¸­çš„æ—¥å¿—ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a688435122c41ab9b583e6331018493~tplv-k3u1fbpfcp-zoom-1.image" alt="ä¿å­˜æ—¥å¿—.gif"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-consolegroup">6. console.group<a class="hash-link" href="#6-consolegroup" title="Direct link to heading">â€‹</a></h3><p>æœ‰æ—¶ï¼Œä¿æŒæ—¥å¿—æ¾æ•£ä¼šå¯¼è‡´è°ƒè¯•å»¶è¿Ÿã€‚</p><p>console.group å¯ä»¥å°†æ‰€æœ‰æ—¥å¿—ç»„åˆåœ¨ä¸€èµ·ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Testing my calc function&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;adding 1 + 1 is&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;adding 1 - 1 is&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;adding 2 * 3 is&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;adding 10 / 2 is&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">groupEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¾“å‡ºæ˜¯ä¸€ä¸ªåˆ†ç»„çš„æ—¥å¿—ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17499251ce2b4dadaa8b491c998b4a5a~tplv-k3u1fbpfcp-zoom-1.image" alt="åˆ†ç»„æ—¥å¿—.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="7-consoletime">7. console.time<a class="hash-link" href="#7-consoletime" title="Direct link to heading">â€‹</a></h3><p>console.time å¯ä»¥æµ‹é‡æ‰§è¡Œä¸€æ®µä»£ç éœ€è¦å¤šé•¿æ—¶é—´ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> test </span><span class="token function" style="color:#d73a49">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> users</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tapas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Adhikary&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blogging&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;David&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Williams&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Chess&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Brad&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Crets&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Swimming&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;James&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bond&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Spying&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Steve&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;S&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Talking&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">getName</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">lastname</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Start the time which will be bound to the string &#x27;loopTime&#x27; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;loopTime&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> counter</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">counter </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// End the time tick for &#x27;loopTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">timeEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;loopTime&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»æ§åˆ¶å°é¢æ¿æˆ–èŠ‚ç‚¹ç¯å¢ƒä¸­è¿è¡Œä¸Šè¿°ä»£ç åï¼Œæ‚¨å°†è·å¾—å¦‚ä¸‹è¾“å‡ºï¼Œ</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">loopTime: 2234.032958984375ms</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™æ˜¯è®¡ç®—åäº¿ç”¨æˆ·çš„å§“æ°æ‰€éœ€çš„æ€»æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="8-_-è·å–ä¸Šä¸€ä¸ªçš„æ‰§è¡Œè¾“å‡º">8. $_ è·å–ä¸Šä¸€ä¸ªçš„æ‰§è¡Œè¾“å‡º<a class="hash-link" href="#8-_-è·å–ä¸Šä¸€ä¸ªçš„æ‰§è¡Œè¾“å‡º" title="Direct link to heading">â€‹</a></h3><p><code>$_</code> å¯ä»¥è·å–ä¸Šä¸€ä¸ªçš„æ‰§è¡Œè¾“å‡ºï¼Œä½œä¸ºè¾“å…¥æä¾›ç»™æ‚¨çš„ä¸‹ä¸€ä¸ªæ‰§è¡Œé€»è¾‘ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/250fb34985384f23a45b21965194bb75~tplv-k3u1fbpfcp-zoom-1.image" alt="last_ref.gif"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>ä»¥ä¸Šæ˜¯æˆ‘æ•´ç†çš„ä¸€å°éƒ¨åˆ† DevTools ä½¿ç”¨æŠ€å·§ã€‚</p><p>æ‚¨å¯ä»¥ä» <a href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="noopener noreferrer">Google çš„ Web å¼€å‘äººå‘˜å·¥å…·</a> ä¸­æ‰¾åˆ°å®Œæ•´ä½¿ç”¨æ–‡æ¡£ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¾€æœŸç²¾å½©">å¾€æœŸç²¾å½©<a class="hash-link" href="#å¾€æœŸç²¾å½©" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://juejin.cn/post/7126455415394713631/" target="_blank" rel="noopener noreferrer">ä¸€äº›æœ‰ç”¨çš„ JavaScript è°ƒè¯•æŠ€å·§ï¼ˆäºŒï¼‰</a></li></ul><hr><p>æœ¬æ–‡ç¿»è¯‘è‡ª Tapas Adhikary çš„åŸåˆ›æ–‡ç« ã€‚</p><ul><li>ä½œè€…ï¼šTapas Adhikary</li><li>è¯‘è€…ï¼šæ¸…æ±¤é¥ºå­</li><li>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.greenroots.info/devtools-my-favorite-tips-and-tricks" target="_blank" rel="noopener noreferrer">https://blog.greenroots.info/devtools-my-favorite-tips-and-tricks</a></li></ul><hr></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022.07.31-devtools2">ä¸€äº›æœ‰ç”¨çš„ JavaScript è°ƒè¯•æŠ€å·§</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-10-06T14:41:13.330Z" itemprop="datePublished">October 6, 2022</time> Â· <!-- -->14 min read</div></header><div class="markdown" itemprop="articleBody"><hr><p>æœ¬æ–‡ç¿»è¯‘è‡ª Tapas Adhikary çš„åŸåˆ›æ–‡ç« ã€‚</p><ul><li>ä½œè€…ï¼šTapas Adhikary</li><li>è¯‘è€…ï¼šæ¸…æ±¤é¥ºå­</li><li>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.greenroots.info/the-definitive-guide-to-javascript-debugging-2021-edition" target="_blank" rel="noopener noreferrer">https://blog.greenroots.info/the-definitive-guide-to-javascript-debugging-2021-edition</a></li></ul><hr><p>æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨åˆ° <code>console.log()</code> è°ƒè¯• Javascriptï¼Œä½¿ç”¨ <code>console.log()</code> éœ€è¦ä¸æ–­çš„ä¿®æ”¹æºç æ¥è°ƒè¯•ï¼Œéå¸¸éº»çƒ¦ã€‚</p><p>æœ¬æ–‡å°†ä»‹ç»å¦ä¸€ä¸ªå¯ä»¥é«˜æ•ˆè°ƒè¯• Javascript çš„å·¥å…· -- æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆDevToolsï¼‰ã€‚</p><p>ä¸‹å›¾æ˜¯ä¸€ä¸ªè¡¨å•æ¨¡å—ï¼Œå½“è¾“å‡ºä¸ç¬¦åˆæœŸæœ›æ—¶ï¼Œæ€ä¹ˆä½¿ç”¨ DevTools å»è°ƒè¯•ï¼Œå‘ç°å¹¶è§£å†³é—®é¢˜å‘¢ï¼Ÿ</p><p>ä¸‹æ–‡å°†ä¸ºä½ ä¸€ä¸€æ­æ™“ã€‚</p><p>åœ¨çº¿è°ƒè¯•ä»£ç åœ°å€ï¼š<a href="https://greet-me-debugging.vercel.app" target="_blank" rel="noopener noreferrer">greet-me-debugging.vercel.app</a>ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3429d8ac59d54ac38bb933a767798919~tplv-k3u1fbpfcp-zoom-1.image" alt="1_app_error.png"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€äº†è§£-sources-é¢æ¿">ä¸€ã€äº†è§£ Sources é¢æ¿<a class="hash-link" href="#ä¸€äº†è§£-sources-é¢æ¿" title="Direct link to heading">â€‹</a></h2><p>DevTools æä¾›äº†è®¸å¤šä¸åŒçš„å·¥å…·æ¥æ‰§è¡Œè°ƒè¯•ä»»åŠ¡ï¼ŒåŒ…æ‹¬ DOM æ£€æŸ¥ã€åˆ†æå’Œç½‘ç»œè°ƒç”¨æ£€æŸ¥ã€‚</p><p>é¦–å…ˆä»‹ç»çš„æ˜¯ Sources é¢æ¿ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬è°ƒè¯• JavaScriptã€‚</p><p>ä½ å¯ä»¥é€šè¿‡æŒ‰é”® F12 æˆ–ä½¿ç”¨å¿«æ·é”®æ‰“å¼€ DevToolsï¼šControl+Shift+Iï¼ˆWindowsã€Linuxï¼‰æˆ– Command+Option+Iï¼ˆMacï¼‰ã€‚</p><p>å•å‡» Sources é€‰é¡¹å¡ä»¥å¯¼èˆªåˆ° Sources é¢æ¿ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94438b29ad0b4d0f8fe722c48e4e020e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="2_know_source.pngå›¾"></p><p>è¯¥ Sources é¢æ¿å…·æœ‰ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45f9698c17d04713a2dc8798ceb86e23~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="3_know_source_sections.pngå›¾"></p><ol><li>æ–‡ä»¶å¯¼èˆªåŒºï¼šé¡µé¢è¯·æ±‚çš„æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨æ­¤å¤„åˆ—å‡ºï¼›</li><li>ç¼–è¾‘åŒºï¼šå½“ä½ ä»å¯¼èˆªçª—æ ¼ä¸­é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹å°†åœ¨æ­¤å¤„åˆ—å‡ºã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»è¿™é‡Œç¼–è¾‘ä»£ç ï¼›</li><li>è°ƒè¯•åŒºï¼š ä½ ä¼šå‘ç°è¿™é‡Œæœ‰å¾ˆå¤šå·¥å…·å¯ä»¥ç”¨æ¥è®¾ç½®æ–­ç‚¹ã€æ£€æŸ¥å˜é‡å€¼ã€è§‚å¯Ÿå˜åŒ–ç­‰ã€‚</li></ol><p>å¦‚æœä½ çš„ DevTools çª—å£è¾ƒå®½æˆ–æœªåœé åœ¨å•ç‹¬çš„çª—å£ä¸­ï¼Œåˆ™è°ƒè¯•å™¨éƒ¨åˆ†å°†æ˜¾ç¤ºåœ¨ä»£ç ç¼–è¾‘å™¨çª—æ ¼çš„å³ä¾§ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85f399a1ea944dfe8bc8b086dd3f76ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="4_source_wide.pngå›¾"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒè®¾ç½®æ–­ç‚¹">äºŒã€è®¾ç½®æ–­ç‚¹<a class="hash-link" href="#äºŒè®¾ç½®æ–­ç‚¹" title="Direct link to heading">â€‹</a></h2><p>è¦å¼€å§‹è°ƒè¯•ï¼Œé¦–å…ˆè¦åšçš„æ˜¯è®¾ç½®æ–­ç‚¹ã€‚</p><p>æ–­ç‚¹æ˜¯ä½ å¸Œæœ›ä»£ç æ‰§è¡Œæš‚åœä»¥ä¾¿è°ƒè¯•å®ƒçš„é€»è¾‘ç‚¹ã€‚</p><p>DevTools å…è®¸ä½ ä»¥å¤šç§ä¸åŒçš„æ–¹å¼è®¾ç½®æ–­ç‚¹ã€‚</p><p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 4 ç§æ–¹å¼ï¼š</p><ul><li>åœ¨ä»£ç è¡Œï¼›</li><li>åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼›</li><li>åœ¨ DOM èŠ‚ç‚¹å¤„ï¼›</li><li>åœ¨äº‹ä»¶ä¾¦å¬å™¨ä¸Šã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-åœ¨ä»£ç è¡Œè®¾ç½®æ–­ç‚¹">1. åœ¨ä»£ç è¡Œè®¾ç½®æ–­ç‚¹<a class="hash-link" href="#1-åœ¨ä»£ç è¡Œè®¾ç½®æ–­ç‚¹" title="Direct link to heading">â€‹</a></h3><p>è®¾ç½®ä»£ç è¡Œæ–­ç‚¹ï¼š</p><ul><li>å•å‡» Sources tabï¼›</li><li>ä»æ–‡ä»¶å¯¼èˆªåŒºæµè§ˆæºæ–‡ä»¶ï¼›</li><li>è½¬åˆ°å³ä¾§ä»£ç ç¼–è¾‘å™¨åŒºä¸­çš„ä»£ç è¡Œï¼›</li><li>å•å‡»è¡Œå·åˆ—ä»¥åœ¨è¡Œä¸Šè®¾ç½®æ–­ç‚¹ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20e6b022ab0e40f7ab791c14d09d2f17~tplv-k3u1fbpfcp-zoom-1.image" alt="5_line_of_code.pngå›¾"></p><p>è¿™é‡Œæˆ‘ä»¬åœ¨ç¬¬ 6 è¡Œè®¾ç½®äº†ä¸€ä¸ªæ–­ç‚¹ï¼Œä»£ç æ‰§è¡Œå°†åœ¨è¿™é‡Œæš‚åœã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-è®¾ç½®æ¡ä»¶æ–­ç‚¹">2. è®¾ç½®æ¡ä»¶æ–­ç‚¹<a class="hash-link" href="#2-è®¾ç½®æ¡ä»¶æ–­ç‚¹" title="Direct link to heading">â€‹</a></h3><p>è®¾ç½®æ¡ä»¶æ–­ç‚¹ï¼š</p><ul><li>å•å‡» Sources tabï¼›</li><li>ä»æ–‡ä»¶å¯¼èˆªåŒºæµè§ˆæºæ–‡ä»¶ï¼›</li><li>è½¬åˆ°å³ä¾§ä»£ç ç¼–è¾‘å™¨åŒºä¸­çš„ä»£ç è¡Œï¼›</li><li>å³é”®å•å‡»è¡Œå·å¹¶é€‰æ‹©æ·»åŠ æ¡ä»¶æ–­ç‚¹é€‰é¡¹ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b59c088ec214ca2b87517b99a329790~tplv-k3u1fbpfcp-zoom-1.image" alt="6_add_conditional_1.pngå›¾"></p><p>ä»£ç è¡Œä¸‹æ–¹ä¼šå‡ºç°ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå¼€å§‹è¾“å…¥æ¡ä»¶ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09e404950079425591a1e6acdfb23d99~tplv-k3u1fbpfcp-zoom-1.image" alt="&#x27;6_add_conditional_2.pngå›¾&#x27;"></p><p>æŒ‰ Enter æ¿€æ´»æ–­ç‚¹ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªæ©™è‰²å›¾æ ‡å‡ºç°åœ¨è¡Œå·åˆ—çš„é¡¶éƒ¨ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f61b52e690d946e39adad8db18e2dc23~tplv-k3u1fbpfcp-zoom-1.image" alt="6_add_conditional_3.pngå›¾"></p><p><code>print()</code> æ‰§è¡Œæ—¶ï¼Œåªè¦æ»¡è¶³ <code>name === Joe</code> æ¡ä»¶ï¼Œä»£ç å°†æš‚åœæ‰§è¡Œã€‚</p><blockquote><p>æç¤ºï¼šå½“ä½ çŸ¥é“è¦è°ƒæŸ¥çš„ç‰¹å®šä»£ç åŒºåŸŸæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶æ–­ç‚¹è¿›ä¸€æ­¥æ£€æŸ¥ä»¥æ‰¾åˆ°é—®é¢˜çš„æ ¹æœ¬åŸå› ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-åœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šè®¾ç½®æ–­ç‚¹">3. åœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šè®¾ç½®æ–­ç‚¹<a class="hash-link" href="#3-åœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šè®¾ç½®æ–­ç‚¹" title="Direct link to heading">â€‹</a></h3><p>åœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šè®¾ç½®æ–­ç‚¹ï¼š</p><ul><li>å•å‡» Sources tabï¼›</li><li>å±•å¼€ Event Listener Breakpointsï¼›</li><li>ä»äº‹ä»¶ç›‘å¬å™¨åˆ—è¡¨é€‰æ‹© click äº‹ä»¶æ¥è®¾ç½®æ–­ç‚¹ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c1cf2fa7330460a81ef7c3ff85ff432~tplv-k3u1fbpfcp-zoom-1.image" alt="8_Event_listener_breakpoint.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-åœ¨-dom-èŠ‚ç‚¹å¤„è®¾ç½®æ–­ç‚¹">4. åœ¨ DOM èŠ‚ç‚¹å¤„è®¾ç½®æ–­ç‚¹<a class="hash-link" href="#4-åœ¨-dom-èŠ‚ç‚¹å¤„è®¾ç½®æ–­ç‚¹" title="Direct link to heading">â€‹</a></h3><p>DevTools åœ¨ DOM æ£€æŸ¥å’Œè°ƒè¯•æ–¹é¢åŒæ ·å¼ºå¤§ã€‚</p><p>å½“åœ¨ DOM ä¸­æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ”¹æŸäº›å†…å®¹æ—¶ï¼Œä½ å¯ä»¥è®¾ç½®æ–­ç‚¹æ¥æš‚åœä»£ç æ‰§è¡Œã€‚</p><p>è¦åœ¨ DOM æ›´æ”¹ä¸Šè®¾ç½®æ–­ç‚¹ï¼š</p><ul><li>å•å‡» Elements é€‰é¡¹å¡ã€‚</li><li>é€‰æ‹©è¦è®¾ç½®æ–­ç‚¹çš„å…ƒç´ ã€‚</li><li>å³é”®å•å‡»å…ƒç´ ä»¥è·å–ä¸Šä¸‹æ–‡èœå•ã€‚é€‰æ‹© Break onï¼Œç„¶åé€‰æ‹© Subtree modificationsã€Attribute modificationsã€Node removal å…¶ä¸­ä¸€ä¸ªã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcafbc6e19db4a9b85a3e7a1840d7c69~tplv-k3u1fbpfcp-zoom-1.image" alt="7_DOM_breakpoint.pngå›¾"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨ div èŠ‚ç‚¹çš„æ›´æ”¹ä¸Šè®¾ç½®äº†ä¸€ä¸ªæ–­ç‚¹ï¼Œæ¡ä»¶æ˜¯ Subtree ä¿®æ”¹ã€‚</p><p>å½“é—®å€™æ¶ˆæ¯è¢«æ·»åŠ åˆ°è¾“å‡º div æ—¶ï¼Œä»£ç å°†æš‚åœæ‰§è¡Œã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰é€æ­¥æ‰§è¡Œæºä»£ç ">ä¸‰ã€é€æ­¥æ‰§è¡Œæºä»£ç <a class="hash-link" href="#ä¸‰é€æ­¥æ‰§è¡Œæºä»£ç " title="Direct link to heading">â€‹</a></h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†è®¾ç½®æ–­ç‚¹çš„æ‰€æœ‰é‡è¦æ–¹æ³•ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•é€šè¿‡æ–­ç‚¹æ¥è§£å†³é—®é¢˜ã€‚</p><p>è°ƒè¯•å™¨åŒºæä¾›äº† 5 ä¸ªæ§ä»¶æ¥é€æ­¥æ‰§è¡Œä»£ç ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49b5c7fa722649b6b5956c4bae16c030~tplv-k3u1fbpfcp-zoom-1.image" alt="9_debug_controls.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-ä¸‹ä¸€æ­¥å¿«æ·é”®---f9">1. ä¸‹ä¸€æ­¥ï¼ˆå¿«æ·é”® - F9ï¼‰<a class="hash-link" href="#1-ä¸‹ä¸€æ­¥å¿«æ·é”®---f9" title="Direct link to heading">â€‹</a></h3><p>æ­¤é€‰é¡¹ä½¿ä½ èƒ½å¤Ÿåœ¨ JavaScript ä»£ç æ‰§è¡Œæ—¶é€è¡Œæ‰§è¡Œã€‚å¦‚æœé€”ä¸­æœ‰å‡½æ•°è°ƒç”¨ï¼Œå•æ­¥æ‰§è¡Œä¹Ÿä¼šè¿›å…¥å‡½æ•°å†…éƒ¨ï¼Œé€è¡Œæ‰§è¡Œï¼Œç„¶åé€€å‡ºã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c0579e766b24aa8b8a80033845c396e~tplv-k3u1fbpfcp-zoom-1.image" alt="f9_step.gifå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-è·³è¿‡å¿«æ·é”®---f10">2. è·³è¿‡ï¼ˆå¿«æ·é”® - F10ï¼‰<a class="hash-link" href="#2-è·³è¿‡å¿«æ·é”®---f10" title="Direct link to heading">â€‹</a></h3><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½ç¡®å®šæŸäº›åŠŸèƒ½å·¥ä½œæ­£å¸¸ï¼Œä¸æƒ³èŠ±æ—¶é—´æ£€æŸ¥å®ƒä»¬ã€‚æ­¤é€‰é¡¹å…è®¸ä½ åœ¨ä¸å•æ­¥æ‰§è¡ŒåŠŸèƒ½çš„æƒ…å†µä¸‹æ‰§è¡Œè¯¥åŠŸèƒ½ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è·³è¿‡äº† <code>logger()</code> å‡½æ•°çš„æ‰§è¡Œã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69d413fe302a4cbda61f2172a0f29e46~tplv-k3u1fbpfcp-zoom-1.image" alt="f10_step_over.gifå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-è¿›å…¥å¿«æ·é”®---f11">3. è¿›å…¥ï¼ˆå¿«æ·é”® - F11ï¼‰<a class="hash-link" href="#3-è¿›å…¥å¿«æ·é”®---f11" title="Direct link to heading">â€‹</a></h3><p>å•æ­¥æ‰§è¡Œæ—¶ï¼Œä½ å¯èƒ½ä¼šæ„Ÿè§‰æŸä¸ªå‡½æ•°çš„è¡Œä¸ºå¼‚å¸¸å¹¶æƒ³è¦æ£€æŸ¥å®ƒã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ›´æ·±å…¥åœ°ç ”ç©¶å‡½æ•°ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å•æ­¥æ‰§è¡Œå‡½æ•° <code>logger()</code>ã€‚</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1609737142403/Q2JkTsv3W.gif?auto=format,compress&amp;gif-q=60&amp;format=webm" alt="F11_step_into.gifå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-è·³å‡ºå¿«æ·é”®--shift--f11">4. è·³å‡ºï¼ˆå¿«æ·é”® â€“ Shift + F11ï¼‰<a class="hash-link" href="#4-è·³å‡ºå¿«æ·é”®--shift--f11" title="Direct link to heading">â€‹</a></h3><p>åœ¨å•æ­¥æ‰§è¡Œä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½ å¯èƒ½ä¸æƒ³ç»§ç»­å¹¶é€€å‡ºå®ƒã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯é€€å‡ºå‡½æ•°ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¿›å…¥ <code>logger()</code> å‡½æ•°å†…éƒ¨ï¼Œç„¶åç«‹å³é€€å‡ºã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b35094bdaa0341f991b08cf35957af82~tplv-k3u1fbpfcp-zoom-1.image" alt="shift_F11_step_out.gifå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-è·³è½¬å¿«æ·é”®---f8">5. è·³è½¬ï¼ˆå¿«æ·é”® - F8ï¼‰<a class="hash-link" href="#5-è·³è½¬å¿«æ·é”®---f8" title="Direct link to heading">â€‹</a></h3><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›ä»ä¸€ä¸ªæ–­ç‚¹è·³è½¬åˆ°å¦ä¸€ä¸ªæ–­ç‚¹ï¼Œè€Œæ— éœ€åœ¨å…¶é—´è°ƒè¯•ä»»ä½•ä»£ç ã€‚ä½¿ç”¨æ­¤é€‰é¡¹è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a46a71178c3404384b4219d152c865c~tplv-k3u1fbpfcp-zoom-1.image" alt="F8_run_jump.gifå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-ç¦ç”¨å’Œåˆ é™¤æ–­ç‚¹">6. ç¦ç”¨å’Œåˆ é™¤æ–­ç‚¹<a class="hash-link" href="#6-ç¦ç”¨å’Œåˆ é™¤æ–­ç‚¹" title="Direct link to heading">â€‹</a></h3><p>è¦ä¸€æ¬¡ç¦ç”¨æ‰€æœ‰æ–­ç‚¹ï¼Œè¯·å•å‡»â€œåœç”¨æ–­ç‚¹â€æŒ‰é’®ï¼ˆåœ¨ä¸‹æ–¹åœˆå‡ºã€‚ï¼‰</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/314f773f0da54695bbeaea5ce45ef446~tplv-k3u1fbpfcp-zoom-1.image" alt="disable_bp.pngå›¾"></p><p>è¯·æ³¨æ„ï¼Œä¸Šè¿°æ–¹æ³•ä¸ä¼šåˆ é™¤æ–­ç‚¹ã€‚å®ƒåªæ˜¯åœ¨ä½ éœ€è¦çš„æ—¶é—´å†…åœç”¨å®ƒä»¬ã€‚è¦æ¿€æ´»breakpointsï¼Œè¯·å†æ¬¡å•å‡»ç›¸åŒçš„æŒ‰é’®ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡å–æ¶ˆé€‰ä¸­å¤é€‰æ¡†ä»â€œæ–­ç‚¹â€é¢æ¿ä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–­ç‚¹ã€‚ä½ å¯ä»¥é€šè¿‡å³é”®å•å‡»å¹¶é€‰æ‹© Remove all breakpoints é€‰é¡¹æ¥æ°¸ä¹…åˆ é™¤æ‰€æœ‰æ–­ç‚¹ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/742f27438ff64ecfa63b24aa46d4392a~tplv-k3u1fbpfcp-zoom-1.image" alt="11_remove_all_bp.pngå›¾"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››æ£€æŸ¥èŒƒå›´è°ƒç”¨å †æ ˆå’Œå€¼">å››ã€æ£€æŸ¥èŒƒå›´ã€è°ƒç”¨å †æ ˆå’Œå€¼<a class="hash-link" href="#å››æ£€æŸ¥èŒƒå›´è°ƒç”¨å †æ ˆå’Œå€¼" title="Direct link to heading">â€‹</a></h2><p>å½“ä½ é€è¡Œè°ƒè¯•æ—¶ï¼Œä½ å¯ä»¥æ£€æŸ¥å˜é‡çš„èŒƒå›´å’Œå€¼ä»¥åŠå‡½æ•°è°ƒç”¨çš„è°ƒç”¨å †æ ˆã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-èŒƒå›´">1. èŒƒå›´<a class="hash-link" href="#1-èŒƒå›´" title="Direct link to heading">â€‹</a></h3><p>ä½ å¯ä»¥åœ¨ scope é€‰é¡¹ä¸­æŸ¥çœ‹å…¨å±€å˜é‡åŠ this æŒ‡å‘ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65007ee945084af0af6507d7ec658d97~tplv-k3u1fbpfcp-zoom-1.image" alt="9_scope.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-è°ƒç”¨å †æ ˆ">2. è°ƒç”¨å †æ ˆ<a class="hash-link" href="#2-è°ƒç”¨å †æ ˆ" title="Direct link to heading">â€‹</a></h3><p>è°ƒç”¨å †æ ˆé¢æ¿æœ‰åŠ©äºè¯†åˆ«å‡½æ•°æ‰§è¡Œå †æ ˆã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83830f17e4c0478fb4eb57edeb3ec9bd~tplv-k3u1fbpfcp-zoom-1.image" alt="9_call_stack.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-å€¼">3. å€¼<a class="hash-link" href="#3-å€¼" title="Direct link to heading">â€‹</a></h3><p>æ£€æŸ¥å€¼æ˜¯è¯†åˆ«ä»£ç ä¸­çš„é”™è¯¯çš„ä¸»è¦æ–¹æ³•ã€‚å•æ­¥æ‰§è¡Œæ—¶ï¼Œä½ åªéœ€å°†é¼ æ ‡æ‚¬åœåœ¨å˜é‡ä¸Šå³å¯æ£€æŸ¥å€¼ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å˜é‡ name ä»¥åœ¨ä»£ç æ‰§è¡Œé˜¶æ®µæ£€æŸ¥å…¶å€¼ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab56728756ad47428d4c4639167a8d65~tplv-k3u1fbpfcp-zoom-1.image" alt="9_see_values.pngå›¾"></p><p>æ­¤å¤–ï¼Œä½ å¯ä»¥é€‰æ‹©ä»£ç çš„ä¸€éƒ¨åˆ†ä½œä¸ºè¡¨è¾¾å¼æ¥æ£€æŸ¥å€¼ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªè¡¨è¾¾å¼ <code>document.getElementById(&#x27;m_wish&#x27;)</code> æ¥æ£€æŸ¥å€¼ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f45373fb6554421783e0b6f76328112b~tplv-k3u1fbpfcp-zoom-1.image" alt="9_see_values_2.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-watch">4. Watch<a class="hash-link" href="#4-watch" title="Direct link to heading">â€‹</a></h3><p>Watch é€‰é¡¹ä½¿ä½ èƒ½å¤Ÿæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼å¹¶åœ¨æ‰§è¡Œæ—¶è§‚å¯Ÿå®ƒä»¬çš„å€¼ã€‚å½“ä½ æƒ³è¦åœ¨ä»£ç é€»è¾‘ä¹‹å¤–è¿›è¡Œä¸€äº›è®¡ç®—æ—¶ï¼Œæ­¤åŠŸèƒ½éå¸¸æœ‰ç”¨ã€‚</p><p>ä½ å¯ä»¥ç»„åˆä»£ç åŒºåŸŸä¸­çš„ä»»ä½•å˜é‡å¹¶å½¢æˆæœ‰æ•ˆçš„ JavaScript è¡¨è¾¾å¼ã€‚åœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ°è¡¨è¾¾å¼çš„å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯æ·»åŠ  Watch æ‰€éœ€çš„æ­¥éª¤ï¼š</p><ul><li>å•å‡» Watch éƒ¨åˆ†ä¸Šæ–¹çš„ + å›¾æ ‡</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e363035a894146c6872d0f028ef084a3~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_1.pngå›¾"></p><ul><li>æ·»åŠ è¦ Watch çš„è¡¨è¾¾å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªå¸Œæœ›è§‚å¯Ÿå…¶å€¼çš„å˜é‡ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7984a201b6b4a6894e62d6eb34ac219~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_2.pngå›¾"></p><p>å¦ä¸€ç§ç›‘å¬è¡¨è¾¾å¼çš„æ–¹æ³•æ˜¯åœ¨æ§åˆ¶å°é‡Œè¾“å…¥è¡¨è¾¾å¼ã€‚è¯·å‚é˜…ä¸‹é¢çš„ç¤ºä¾‹ä»¥äº†è§£å¦‚ä½•æ¿€æ´»å®ƒã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be74841ef5014099ad8403dcef2c3154~tplv-k3u1fbpfcp-zoom-1.image" alt="10_watch_3.pngå›¾"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”ä½¿ç”¨-visual-studio-code-è°ƒè¯•-javascript">äº”ã€ä½¿ç”¨ Visual Studio Code è°ƒè¯• JavaScript<a class="hash-link" href="#äº”ä½¿ç”¨-visual-studio-code-è°ƒè¯•-javascript" title="Direct link to heading">â€‹</a></h2><p>ä½ æœ€å–œæ¬¢çš„ä»£ç ç¼–è¾‘å™¨æ˜¯ä»€ä¹ˆï¼Ÿå°±ä¸ªäººè€Œè¨€ï¼Œæˆ‘å–œæ¬¢ Visual Studio ä»£ç ï¼Œå› ä¸ºå®ƒå¾ˆç®€å•ã€‚åªéœ€å‡ ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ VS Code å¯ç”¨ç±»ä¼¼çš„è°ƒè¯•ç¯å¢ƒã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-ç”¨äºè°ƒè¯•çš„-vs-code-è®¾ç½®">1. ç”¨äºè°ƒè¯•çš„ VS Code è®¾ç½®<a class="hash-link" href="#1-ç”¨äºè°ƒè¯•çš„-vs-code-è®¾ç½®" title="Direct link to heading">â€‹</a></h3><p>VS Code æ”¯æŒå®‰è£…æ’ä»¶æ¥å¯ç”¨å„ç§ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚</p><p>è¦å¯ç”¨ JavaScript è°ƒè¯•ï¼Œä½ éœ€è¦å®‰è£…ä¸€ä¸ªåä¸º Debugger for Chrome çš„æ’ä»¶ã€‚</p><p>ä½ å¯ä»¥åœ¨ VS Code çš„ Extensions é¢æ¿ä¸­æœç´¢æ­¤æ‰©å±•å¹¶å®‰è£…å®ƒã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f4aa86cc6ebc4614b4ba5c6b7d80e40a~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾åƒ.pngå›¾"></p><ul><li>å®‰è£…åï¼Œå•å‡»å·¦ä¾§çš„ Run é€‰é¡¹å¹¶åˆ›å»ºé…ç½®ä»¥è¿è¡Œ/è°ƒè¯• JavaScript åº”ç”¨ç¨‹åºã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87dd5507368b44319e7a1ec826ad5b49~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾åƒ.pngå›¾"></p><ul><li>å°†åˆ›å»ºä¸€ä¸ªåä¸º launch.json çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›è®¾ç½®ä¿¡æ¯ã€‚å®ƒå¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</li></ul><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Use IntelliSense to learn about possible attributes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Hover to view descriptions of existing attributes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// For more information, visit: &lt;https://go.microsoft.com/fwlink/?linkid=830387&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;version&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;configurations&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;chrome&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;launch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Debug the Greet Me app&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;http://localhost:5500&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;webRoot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${workspaceFolder}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä½ å¯èƒ½éœ€è¦æ›´æ”¹ä»¥ä¸‹å‚æ•°ï¼š</p><ol><li>nameï¼šé¡¹ç›®åç§°ã€‚</li><li>urlï¼šé¡¹ç›®åœ¨æœ¬åœ°è¿è¡Œçš„ URLã€‚</li><li>webRootï¼šé»˜è®¤å€¼ä¸º ${workspaceFolder}ï¼Œå³å½“å‰æ–‡ä»¶å¤¹ã€‚ä½ å¯èƒ½å¸Œæœ›å°†å…¶æ›´æ”¹ä¸º index.html ç­‰æ–‡ä»¶æ‰€åœ¨çš„å…¥å£ç‚¹æ–‡ä»¶å¤¹ã€‚</li></ol><ul><li>æœ€åä¸€æ­¥æ˜¯é€šè¿‡å•å‡»å·¦ä¸Šè§’çš„å°æ’­æ”¾å›¾æ ‡å¼€å§‹è°ƒè¯•ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1915f9440d894791898b266c233158e4~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾åƒ.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-äº†è§£è°ƒè¯•å™¨é¢æ¿">2. äº†è§£è°ƒè¯•å™¨é¢æ¿<a class="hash-link" href="#2-äº†è§£è°ƒè¯•å™¨é¢æ¿" title="Direct link to heading">â€‹</a></h3><p>VS Code æä¾›äº†ç±»ä¼¼ DevTools çš„å·¥å…·æ¥è°ƒè¯• JavaScriptã€‚ä½ ä¼šå‘ç°ä¸æˆ‘ä»¬ç›®å‰åœ¨æœ¬æ–‡ä¸­çœ‹åˆ°çš„ Google Chrome JavaScript è°ƒè¯•å™¨æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½ åº”è¯¥æ³¨æ„çš„ä¸»è¦éƒ¨åˆ†ï¼š</p><ol><li>å¯ç”¨è°ƒè¯•ã€‚æŒ‰æ’­æ”¾æŒ‰é’®å¯ç”¨è°ƒè¯•é€‰é¡¹ã€‚</li><li>ç”¨äºå•æ­¥æ‰§è¡Œæ–­ç‚¹ä»¥åŠæš‚åœæˆ–åœæ­¢è°ƒè¯•çš„æ§ä»¶ã€‚è¿™ä¸æˆ‘ä»¬åœ¨ Chrome DevTools ä¸­çœ‹åˆ°çš„å‡ ä¹ç›¸ä¼¼ï¼Œåªæ˜¯æŸäº›é”®ç›˜å¿«æ·é”®å¯èƒ½æœ‰æ‰€ä¸åŒã€‚</li><li>åœ¨æºä»£ç ä¸Šè®¾ç½®æ–­ç‚¹ã€‚è¿™æ˜¯ç›¸ä¼¼çš„ã€‚</li><li>èŒƒå›´é¢æ¿æŸ¥çœ‹å˜é‡èŒƒå›´å’Œå€¼ã€‚è¿™äº›åœ¨ä¸¤ç§æƒ…å†µä¸‹éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</li><li>ç”¨äºåˆ›å»ºå’Œç›‘è§†è¡¨è¾¾å¼çš„ç›‘è§†é¢æ¿ã€‚</li><li>æ‰§è¡Œå‡½æ•°çš„è°ƒç”¨æ ˆã€‚</li><li>è¦å¯ç”¨ã€ç¦ç”¨å’Œåˆ é™¤çš„æ–­ç‚¹åˆ—è¡¨ã€‚</li><li>è°ƒè¯•æ§åˆ¶å°è¯»å–æ§åˆ¶å°æ—¥å¿—æ¶ˆæ¯ã€‚</li></ol><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e72299ac177a49908cbcfc2fc0b8c255~tplv-k3u1fbpfcp-zoom-1.image" alt="vs_code_frame.pngå›¾"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-å¿«é€Ÿæ¼”ç¤º">3. å¿«é€Ÿæ¼”ç¤º<a class="hash-link" href="#3-å¿«é€Ÿæ¼”ç¤º" title="Direct link to heading">â€‹</a></h3><p>è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿæ¼”ç¤ºï¼ˆ1 åˆ†é’Ÿï¼‰ï¼Œå±•ç¤ºäº† VS Code è°ƒè¯•æ§ä»¶çš„ç”¨æ³•ï¼š<a href="https://www.youtube.com/watch?v=xKkrKS77PIY" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=xKkrKS77PIY</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h2><p>æ€»ç»“ä¸€ä¸‹ï¼š</p><ul><li>ä½¿ç”¨å·¥å…·æ¥è°ƒè¯• JavaScript ä»£ç æ€»æ˜¯æ›´å¥½ã€‚åƒ Google ChromeDevTools æˆ– VS Code è°ƒè¯•å™¨æ‰©å±•è¿™æ ·çš„å·¥å…·æ¯”ä»…ä»…ä¾é  console.log() è°ƒè¯•æ•ˆç‡æ›´é«˜ï¼›</li><li>DevToolsSource Panel éå¸¸å¼ºå¤§ï¼Œèƒ½å¤Ÿæ£€æŸ¥å˜é‡å€¼ã€è§‚å¯Ÿè¡¨è¾¾å¼ã€ç†è§£èŒƒå›´ã€è¯»å–è°ƒç”¨å †æ ˆç­‰ï¼›</li><li>æœ‰å‡ ç§è®¾ç½®æ–¹å¼æ–­ç‚¹ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®è°ƒè¯•æƒ…å†µä½¿ç”¨å®ƒä»¬ï¼›</li><li>VS Code debugger æ‰©å±•ç¨‹åºåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¾€æœŸç²¾å½©">å¾€æœŸç²¾å½©<a class="hash-link" href="#å¾€æœŸç²¾å½©" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://juejin.cn/post/7126050935746330654/" target="_blank" rel="noopener noreferrer">ä¸€äº›æœ‰ç”¨çš„ JavaScript è°ƒè¯•æŠ€å·§ï¼ˆä¸€ï¼‰</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022/05/23/ts">Typescript å¸¸ç”¨ç‰¹æ€§å°ç»“</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-05-23T00:00:00.000Z" itemprop="datePublished">May 23, 2022</time> Â· <!-- -->14 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€é«˜çº§ç±»å‹">ä¸€ã€é«˜çº§ç±»å‹<a class="hash-link" href="#ä¸€é«˜çº§ç±»å‹" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="äº¤å‰ç±»å‹">äº¤å‰ç±»å‹<a class="hash-link" href="#äº¤å‰ç±»å‹" title="Direct link to heading">â€‹</a></h3><p>äº¤å‰ç±»å‹å°±æ˜¯é€šè¿‡ &amp; ç¬¦å·ï¼Œå°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">I1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">I2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="è”åˆç±»å‹">è”åˆç±»å‹<a class="hash-link" href="#è”åˆç±»å‹" title="Direct link to heading">â€‹</a></h3><p>è”åˆç±»å‹å°±æ˜¯é€šè¿‡ | ç¬¦å·ï¼Œè¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹">å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹<a class="hash-link" href="#å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹" title="Direct link to heading">â€‹</a></h3><p>å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ä½œä¸ºå˜é‡çš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;number&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;number&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ•°å­—å­—é¢é‡ç±»å‹">æ•°å­—å­—é¢é‡ç±»å‹<a class="hash-link" href="#æ•°å­—å­—é¢é‡ç±»å‹" title="Direct link to heading">â€‹</a></h3><p>æ•°å­—å­—é¢é‡ç±»å‹å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªæ•°å­—ä½œä¸ºå˜é‡çš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å¸ƒå°”å­—é¢é‡ç±»å‹">å¸ƒå°”å­—é¢é‡ç±»å‹<a class="hash-link" href="#å¸ƒå°”å­—é¢é‡ç±»å‹" title="Direct link to heading">â€‹</a></h3><p>æ•°å­—å­—é¢é‡ç±»å‹å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå¸ƒå°”å€¼ä½œä¸ºå˜é‡çš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹">å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹<a class="hash-link" href="#å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹" title="Direct link to heading">â€‹</a></h3><p>å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹å°±æ˜¯é€šè¿‡ ES6 çš„æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•ï¼Œå¯¹ç±»å‹è¿›è¡Œçº¦æŸã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type https </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">string</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">https </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://jd.com</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒæ“ä½œç¬¦">äºŒã€æ“ä½œç¬¦<a class="hash-link" href="#äºŒæ“ä½œç¬¦" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="keyof">keyof<a class="hash-link" href="#keyof" title="Direct link to heading">â€‹</a></h3><p>keyof ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›å€¼æ˜¯è”åˆç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// const a: &#x27;name&#x27; | &#x27;age&#x27; = &#x27;name&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> keyof </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="typeof">typeof<a class="hash-link" href="#typeof" title="Direct link to heading">â€‹</a></h3><p>typeof ç”¨äºè·å–å¯¹è±¡æˆ–è€…å‡½æ•°çš„ç»“æ„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> a2 </span><span class="token comment" style="color:#999988;font-style:italic">// {name: string}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">x</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> fn1 </span><span class="token comment" style="color:#999988;font-style:italic">// (x: number) =&gt; number</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="in">in<a class="hash-link" href="#in" title="Direct link to heading">â€‹</a></h3><p>in ç”¨äºéå†è”åˆç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> keyof </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  name: any,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  age: any</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="tk">T<!-- -->[K]<a class="hash-link" href="#tk" title="Direct link to heading">â€‹</a></h3><p>T<!-- -->[K]<!-- --> ç”¨äºè®¿é—®ç´¢å¼•ï¼Œå¾—åˆ°ç´¢å¼•å¯¹åº”çš„å€¼çš„è”åˆç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">I3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I3</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">keyof </span><span class="token constant" style="color:#36acaa">I3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰è¿ç®—ç¬¦">ä¸‰ã€è¿ç®—ç¬¦<a class="hash-link" href="#ä¸‰è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="éç©ºæ–­è¨€è¿ç®—ç¬¦">éç©ºæ–­è¨€è¿ç®—ç¬¦<a class="hash-link" href="#éç©ºæ–­è¨€è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h3><p>éç©ºæ–­è¨€è¿ç®—ç¬¦ ! ç”¨äºå¼ºè°ƒå…ƒç´ æ˜¯é null é undefinedï¼Œå‘Šè¯‰ Typescript è¯¥å±æ€§ä¼šè¢«æ˜ç¡®çš„èµ‹å€¼ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Demo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">Element</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> divRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> useRef</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLDivElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    divRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">scrollIntoView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ–­è¨€divRef.current æ˜¯é null é undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">divRef</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">divDemo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å¯é€‰é“¾è¿ç®—ç¬¦">å¯é€‰é“¾è¿ç®—ç¬¦<a class="hash-link" href="#å¯é€‰é“¾è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h3><p>å¯é€‰é“¾è¿ç®—ç¬¦ ?. ç”¨äºåˆ¤æ–­å·¦ä¾§è¡¨è¾¾å¼çš„å€¼æ˜¯å¦æ˜¯ null æˆ– undefinedï¼Œå¦‚æœæ˜¯å°†åœæ­¢è¡¨è¾¾å¼è¿è¡Œã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">?.</span><span class="token plain">a</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦">ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦<a class="hash-link" href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h3><p>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ?? ç”¨äºåˆ¤æ–­å·¦ä¾§è¡¨è¾¾å¼çš„å€¼æ˜¯å¦æ˜¯ null æˆ– undefinedï¼Œå¦‚æœä¸æ˜¯è¿”å›å³ä¾§çš„å€¼ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">??</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æ•°å­—åˆ†éš”ç¬¦">æ•°å­—åˆ†éš”ç¬¦<a class="hash-link" href="#æ•°å­—åˆ†éš”ç¬¦" title="Direct link to heading">â€‹</a></h3><p>æ•°å­—åˆ†éš”ç¬¦ <!-- -->_<!-- --> ç”¨äºå¯¹é•¿æ•°å­—è¿›è¡Œåˆ†å‰²ï¼Œä¾¿äºæ•°å­—çš„é˜…è¯»ï¼Œç¼–è¯‘ç»“æœå°†ä¼šè‡ªåŠ¨å»é™¤ <!-- -->_<!-- -->ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> num</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1_111_111_111</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››ç±»å‹åˆ«å">å››ã€ç±»å‹åˆ«å<a class="hash-link" href="#å››ç±»å‹åˆ«å" title="Direct link to heading">â€‹</a></h2><p>ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Message</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">greet</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">message</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”ç±»å‹æ–­è¨€">äº”ã€ç±»å‹æ–­è¨€<a class="hash-link" href="#äº”ç±»å‹æ–­è¨€" title="Direct link to heading">â€‹</a></h2><p>ç±»å‹æ–­è¨€å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨æˆ‘éå¸¸ç¡®å®šçš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å°–æ‹¬å· è¯­æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> someValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> any </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;this is a string&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> strLength</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">someValue</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// as è¯­æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> someValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> any </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;this is a string&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> strLength</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">someValue </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸ƒç±»å‹å®ˆå«">ä¸ƒã€ç±»å‹å®ˆå«<a class="hash-link" href="#ä¸ƒç±»å‹å®ˆå«" title="Direct link to heading">â€‹</a></h2><p>ç±»å‹å®ˆå«å°±æ˜¯ä¸€äº›è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥ä»¥ç¡®ä¿åœ¨æŸä¸ªä½œç”¨åŸŸé‡Œçš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">B</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  home</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doSomething</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">person</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> A </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> B</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ä½¿ç”¨ in ç±»å‹å®ˆå«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doSomething</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">person</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> A </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> B</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> person</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ä½¿ç”¨ typeof ç±»å‹å®ˆå«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> number </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;number&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// instanceofç±»å‹å®ˆå«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Bar</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">input</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Foo </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> Bar</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input </span><span class="token keyword" style="color:#00009f">instanceof</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¿™é‡Œ input çš„ç±»å‹ã€Œæ”¶ç´§ã€ä¸º Foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¿™é‡Œ input çš„ç±»å‹ã€Œæ”¶ç´§ã€ä¸º Bar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å…«æ³›å‹">å…«ã€æ³›å‹<a class="hash-link" href="#å…«æ³›å‹" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-æ³›å‹ä»‹ç»">1. æ³›å‹ä»‹ç»<a class="hash-link" href="#1-æ³›å‹ä»‹ç»" title="Direct link to heading">â€‹</a></h3><p>æ³›å‹å°±æ˜¯é€šè¿‡ç»™ç±»å‹ä¼ å‚ï¼Œå¾—åˆ°ä¸€ä¸ªæ›´åŠ é€šç”¨çš„ç±»å‹ï¼Œå°±åƒç»™å‡½æ•°ä¼ å‚ä¸€æ ·ã€‚</p><p>å¦‚ä¸‹æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªé€šç”¨çš„æ³›å‹ç±»å‹ T1ï¼Œé€šè¿‡ä¼ å‚ï¼Œå¯ä»¥å¾—åˆ° T2 ç±»å‹ string[]ã€T3 ç±»å‹ number[]ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string[]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// number[]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚ä¸Š T æ˜¯å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»»æ„å…¶ä»–å˜é‡åä»£æ›¿ä»–ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T4</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">A</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T4</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string[]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T4</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// number[]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-å‘½åè§„èŒƒ">2. å‘½åè§„èŒƒ<a class="hash-link" href="#2-å‘½åè§„èŒƒ" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Typescript æ³›å‹å˜é‡çš„å‘½åè§„èŒƒä¸­ï¼Œé»˜è®¤äº† 4 ç§å¸¸è§çš„æ³›å‹å˜é‡åï¼Œä¸ºæé«˜å¯è¯»æ€§ï¼Œä¸å»ºè®®æ”¹ä¸ºå…¶ä»–çš„å˜é‡åæ¥å®šä¹‰ã€‚</p><ul><li>Tï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°</li><li>Kï¼š è¡¨ç¤ºå¯¹è±¡çš„é”®ç±»å‹</li><li>Vï¼šè¡¨ç¤ºå¯¹è±¡çš„å€¼ç±»å‹</li><li>Eï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-æ³›å‹æ¥å£">3. æ³›å‹æ¥å£<a class="hash-link" href="#3-æ³›å‹æ¥å£" title="Direct link to heading">â€‹</a></h3><p>æ³›å‹æ¥å£å’Œä¸Šè¿°ç¤ºä¾‹ç±»ä¼¼ï¼Œä¸ºæ¥å£ç±»å‹ä¼ å‚ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">I1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">U</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">U</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">I2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> number</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ³›å‹çº¦æŸextends-æ“ä½œç¬¦">4. æ³›å‹çº¦æŸ(extends æ“ä½œç¬¦)<a class="hash-link" href="#4-æ³›å‹çº¦æŸextends-æ“ä½œç¬¦" title="Direct link to heading">â€‹</a></h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ³›å‹å‚æ•°è¿›è¡Œçº¦æŸï¼Œé™åˆ¶æ¯ä¸ªå˜é‡çš„ç±»å‹ã€‚Typescript é€šè¿‡ extends å®ç°ç±»å‹çº¦æŸã€‚</p><p>æ³›å‹çº¦æŸè¯­æ³•å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">æ³›å‹å </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> ç±»å‹</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é€šè¿‡ T extends Length çº¦æŸäº† T çš„ç±»å‹ï¼Œå¿…é¡»æ˜¯åŒ…å« length å±æ€§ï¼Œä¸” length çš„ç±»å‹å¿…é¡»æ˜¯ numberã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">Length</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> fn1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Length</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arg</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> arg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é€šè¿‡ extends çº¦æŸäº† K å¿…é¡»æ˜¯ T çš„ keyã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> getProperty</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> tsInfo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Typescript&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    supersetOf</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Javascript&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    difficulty</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Difficulty</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Intermediate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> difficulty</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Difficulty</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;difficulty&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> supersetOf</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tsInfo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;superset_of&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-æ³›å‹å‚æ•°é»˜è®¤å€¼">5. æ³›å‹å‚æ•°é»˜è®¤å€¼<a class="hash-link" href="#5-æ³›å‹å‚æ•°é»˜è®¤å€¼" title="Direct link to heading">â€‹</a></h3><p>æ³›å‹å‚æ•°é»˜è®¤å€¼ï¼Œå’Œå‡½æ•°å‚æ•°é»˜è®¤å€¼ä¸€æ ·ï¼Œåœ¨æ²¡æœ‰ä¼ å‚æ—¶ï¼Œç»™å®šé»˜è®¤å€¼ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">I4</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">S1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// é»˜è®¤ name: stringç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">S2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I4</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-æ³›å‹æ¡ä»¶">6. æ³›å‹æ¡ä»¶<a class="hash-link" href="#6-æ³›å‹æ¡ä»¶" title="Direct link to heading">â€‹</a></h3><p>æ¡ä»¶ç±»å‹å’Œ Js çš„æ¡ä»¶åˆ¤æ–­æ„æ€ä¸€æ ·ï¼Œéƒ½æ˜¯æŒ‡å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œå°± xxï¼Œå¦åˆ™ xxã€‚</p><p>æ¡ä»¶ç±»å‹è¡¨è¾¾å¼ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">U</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">X</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Y</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœ T èƒ½å¤Ÿèµ‹å€¼ç»™ Uï¼Œé‚£ä¹ˆç±»å‹æ˜¯ Xï¼Œå¦åˆ™ç±»å‹æ˜¯ Yã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">string</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;number&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;string&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;number</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="7-æ³›å‹æ¨æ–­infer-æ“ä½œç¬¦">7. æ³›å‹æ¨æ–­(infer æ“ä½œç¬¦)<a class="hash-link" href="#7-æ³›å‹æ¨æ–­infer-æ“ä½œç¬¦" title="Direct link to heading">â€‹</a></h3><p>æ³›å‹æ¨æ–­çš„å…³é”®å­—æ˜¯ inferï¼Œè¯­æ³•æ˜¯ <code>infer ç±»å‹</code>ã€‚</p><p>ä¸€èˆ¬æ˜¯å’Œæ³›å‹æ¡ä»¶ç»“åˆä½¿ç”¨ï¼Œç»“åˆå®é™…ä¾‹å­ç†è§£ï¼š</p><p>å¦‚æœæ³›å‹å‚æ•° T èƒ½èµ‹å€¼ç»™ç±»å‹ <code>{t: infer Test}</code>ï¼Œé‚£ä¹ˆç±»å‹æ˜¯æ¨æ–­ç±»å‹ Testï¼Œå¦åˆ™ç±»å‹æ˜¯ stringã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Foo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">t</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> infer </span><span class="token maybe-class-name">Test</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token maybe-class-name">Test</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ³›å‹å‚æ•° number æ²¡æœ‰ t å±æ€§ï¼Œæ‰€ä»¥ç±»å‹æ˜¯ string</li></ul><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">One</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Foo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ³›å‹å‚æ•°çš„ t å±æ€§æ˜¯ booleanï¼Œæ‰€ä»¥ç±»å‹æ˜¯æ¨æ–­ç±»å‹ boolean</li></ul><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Two</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Foo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> t</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> boolean </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// boolean</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æ³›å‹å‚æ•°çš„ t å±æ€§æ˜¯ () =&gt; voidï¼Œæ‰€ä»¥ç±»å‹æ˜¯æ¨æ–­ç±»å‹ () =&gt; void</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Three</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Foo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">t</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// () =&gt; void</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="8-æ³›å‹å·¥å…·ç±»å‹">8. æ³›å‹å·¥å…·ç±»å‹<a class="hash-link" href="#8-æ³›å‹å·¥å…·ç±»å‹" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="æ˜ å°„ç±»å‹">æ˜ å°„ç±»å‹<a class="hash-link" href="#æ˜ å°„ç±»å‹" title="Direct link to heading">â€‹</a></h4><p>æ˜ å°„ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ç§æ³›å‹ç±»å‹ï¼Œå¯ç”¨äºæŠŠåŸæœ‰çš„å¯¹è±¡ç±»å‹æ˜ å°„æˆæ–°çš„å¯¹è±¡ç±»å‹ã€‚</p><p>å¸¸è§çš„æ˜ å°„ç±»å‹è¯­æ³•ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> readonly </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> readonly </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">readonly </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¸¾ä¾‹è¯´æ˜ï¼Œé€šè¿‡æ˜ å°„ç±»å‹å°†æ‰€æœ‰å±æ€§å˜ä¸ºå¯é€‰ï¼š</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="partial">Partial<a class="hash-link" href="#partial" title="Direct link to heading">â€‹</a></h4><p>Typescript å·²å°†ä¸€äº›å¸¸ç”¨çš„æ˜ å°„ç±»å‹è¿›è¡Œå°è£…ï¼Œå¦‚ Partial å°±æ˜¯ç”¨äºå°†æ³›å‹çš„å…¨éƒ¨å±æ€§å˜ä¸ºå¯é€‰ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Partial</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ²¡æœ‰nameå±æ€§ä¹Ÿä¸ä¼šæŠ¥é”™</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="required">Required<a class="hash-link" href="#required" title="Direct link to heading">â€‹</a></h4><p>Required å°†æ³›å‹çš„æ‰€æœ‰å±æ€§å˜ä¸ºå¿…é€‰ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Required</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> keyof </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Required</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// tsæŠ¥é”™ï¼Œç±»å‹ &quot;{}&quot; ä¸­ç¼ºå°‘å±æ€§ &quot;name&quot;ï¼Œä½†ç±»å‹ &quot;Required&lt;{ name?: string | undefined; }&gt;&quot; ä¸­éœ€è¦è¯¥å±æ€§ã€‚ts(2741)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>è¯­æ³•-?ï¼Œæ˜¯æŠŠ?å¯é€‰å±æ€§å‡å»çš„æ„æ€</p></blockquote><h4 class="anchor anchorWithStickyNavbar_y2LR" id="readonly">Readonly<a class="hash-link" href="#readonly" title="Direct link to heading">â€‹</a></h4><p>Readonly å°†æ³›å‹çš„æ‰€æœ‰å±æ€§å˜ä¸ºåªè¯»ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Readonly</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> c</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj1&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ts æŠ¥é”™ï¼Œæ— æ³•åˆ†é…åˆ° &quot;name&quot; ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ã€‚ts(2540)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="pick">Pick<a class="hash-link" href="#pick" title="Direct link to heading">â€‹</a></h4><p>Pick ä»ç±»å‹ä¸­é€‰æ‹©ä¸€ä¸‹å±æ€§ï¼Œç”Ÿæˆä¸€ä¸ªæ–°ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">P</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">è¿™æ˜¯ä¸€ä¸ªæ–°ç±»å‹ï¼ŒT4={name: string}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> d</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="record">Record<a class="hash-link" href="#record" title="Direct link to heading">â€‹</a></h4><p>Record å°† key å’Œ value è½¬åŒ–ä¸º T ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">keyof</span><span class="token plain"> any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> e</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tj&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> f</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> number</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>keyof any å¯¹åº”çš„ç±»å‹ä¸º number | string | symbolï¼Œæ˜¯å¯ä»¥åšå¯¹è±¡é”®çš„ç±»å‹é›†åˆã€‚</p></blockquote><h4 class="anchor anchorWithStickyNavbar_y2LR" id="returntype">ReturnType<a class="hash-link" href="#returntype" title="Direct link to heading">â€‹</a></h4><p>ReturnType è·å– T ç±»å‹å¯¹åº”çš„è¿”å›å€¼ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">ReturnType</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> infer </span><span class="token constant" style="color:#36acaa">R</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">R</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> any</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="exclude">Exclude<a class="hash-link" href="#exclude" title="Direct link to heading">â€‹</a></h4><p>Exclude å°†æŸä¸ªç±»å‹ä¸­å±äºå¦ä¸€ä¸ªçš„ç±»å‹ç§»é™¤æ‰ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">U</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">U</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> never </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;b&quot; | &quot;c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Function</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="extract">Extract<a class="hash-link" href="#extract" title="Direct link to heading">â€‹</a></h4><p>Extract ä» T ä¸­æå–å‡º Uã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">U</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">U</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> never</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;f&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;a&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Extract</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Function</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// () =&gt;void</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="omit">Omit<a class="hash-link" href="#omit" title="Direct link to heading">â€‹</a></h4><p>Omit ä½¿ç”¨ T ç±»å‹ä¸­é™¤äº† K ç±»å‹çš„æ‰€æœ‰å±æ€§ï¼Œæ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Omit</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">keyof</span><span class="token plain"> any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Pick</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Exclude</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">keyof </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">K</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">Todo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  completed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">TodoPreview</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Omit</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Todo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  title: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  completed: boolean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="nonnullable">NonNullable<a class="hash-link" href="#nonnullable" title="Direct link to heading">â€‹</a></h4><p>NonNullable ç”¨æ¥è¿‡æ»¤ç±»å‹ä¸­çš„ null åŠ undefined ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> never </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> number </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string | number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">T1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">NonNullable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// string[]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">â€‹</a></h4><p>Parameters ç”¨äºè·å¾—å‡½æ•°çš„å‚æ•°ç±»å‹ç»„æˆçš„å…ƒç»„ç±»å‹ã€‚</p><div class="codeBlockContainer_J+bg language-js theme-code-block"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> infer P</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">P</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> never</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">A</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// []</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">B</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">typeofArray</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">isArray</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// [any]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">C</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">typeofparseInt</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// [string, (number | undefined)?]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type </span><span class="token constant" style="color:#36acaa">D</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Parameters</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">typeofMath</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">max</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// number[]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><p><a href="https://juejin.cn/post/7018805943710253086" target="_blank" rel="noopener noreferrer">2021 typescript å²ä¸Šæœ€å¼ºå­¦ä¹ å…¥é—¨æ–‡ç« (2w å­—)</a></p></li><li><p><a href="https://juejin.cn/post/6926794697553739784" target="_blank" rel="noopener noreferrer">TypeScript é«˜çº§ç”¨æ³•</a></p></li><li><p><a href="https://juejin.cn/post/7003171767560716302#heading-70" target="_blank" rel="noopener noreferrer">é‡å­¦ TypeScript</a></p></li><li><p><a href="https://www.tslang.cn/docs/handbook/advanced-types.html" target="_blank" rel="noopener noreferrer">Typescript å®˜ç½‘</a></p></li><li><p><a href="https://juejin.cn/post/6844904184894980104#heading-2" target="_blank" rel="noopener noreferrer">ä¸€æ–‡è¯»æ‡‚ TypeScript æ³›å‹åŠåº”ç”¨ï¼ˆ 7.8K å­—ï¼‰</a></p></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022/03/12/function-code">JavaScript å‡½æ•°å¼ç¼–ç¨‹-å…¥é—¨ç¯‡</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-03-12T19:11:14.000Z" itemprop="datePublished">March 12, 2022</time> Â· <!-- -->10 min read</div></header><div class="markdown" itemprop="articleBody"><p><img src="https://img14.360buyimg.com/ling/jfs/t1/211906/13/12376/431721/6208fae4E49caa61b/7f286fcdbf89fd66.jpg"></p><p>æœ¬æ–‡å°†ä»ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹ã€å¦‚ä½•ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ç­‰ 3 ä¸ªæ–¹é¢å¸¦ä½ å…¥é—¨ Javascript å‡½æ•°å¼ç¼–ç¨‹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹">ä¸€ã€ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹<a class="hash-link" href="#ä¸€ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹" title="Direct link to heading">â€‹</a></h2><p>å…ˆæ¥ä¸€ä¸ªå®˜æ–¹çš„è§£é‡Šï¼š</p><blockquote><p><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼Œæ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F" target="_blank" rel="noopener noreferrer">ç¼–ç¨‹èŒƒå¼</a>ï¼Œå®ƒå°†<a href="https://zh.wikipedia.org/wiki/%E9%9B%BB%E8%85%A6%E9%81%8B%E7%AE%97" target="_blank" rel="noopener noreferrer">ç”µè„‘è¿ç®—</a>è§†ä¸º<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">å‡½æ•°</a>è¿ç®—ï¼Œå¹¶ä¸”é¿å…ä½¿ç”¨ç¨‹åº<a href="https://zh.wikipedia.org/w/index.php?title=%E7%8A%B6%E6%80%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">çŠ¶æ€</a>ä»¥åŠ<a href="https://zh.wikipedia.org/wiki/%E4%B8%8D%E5%8F%AF%E8%AE%8A%E7%89%A9%E4%BB%B6" target="_blank" rel="noopener noreferrer">æ˜“å˜å¯¹è±¡</a>ã€‚</p></blockquote><p>æ¯”èµ·<a href="https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E5%BC%8F%E7%B7%A8%E7%A8%8B" target="_blank" rel="noopener noreferrer">å‘½ä»¤å¼ç¼–ç¨‹</a>ï¼Œå‡½æ•°å¼ç¼–ç¨‹æ›´åŠ å¼ºè°ƒç¨‹åºæ‰§è¡Œçš„ç»“æœè€Œéæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå€¡å¯¼åˆ©ç”¨è‹¥å¹²ç®€å•çš„æ‰§è¡Œå•å…ƒè®©è®¡ç®—ç»“æœä¸æ–­æ¸è¿›ï¼Œé€å±‚æ¨å¯¼å¤æ‚çš„è¿ç®—ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªå¤æ‚çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-ä¸¾ä¾‹è¯´æ˜">1. ä¸¾ä¾‹è¯´æ˜<a class="hash-link" href="#1-ä¸¾ä¾‹è¯´æ˜" title="Direct link to heading">â€‹</a></h3><p>æœ‰ä¸€ä¸ªæ•°æ®è½¬æ¢çš„éœ€æ±‚ï¼Œéœ€è¦å°† <code>[&#x27;tom&#x27;, &#x27;bob&#x27;, &#x27;alice&#x27;]</code> è½¬æ¢ä¸º <code>[{name: &#x27;Tom&#x27;}, {name: &#x27;Bob&#x27;}, {name: &#x27;Alice&#x27;}]</code>ã€‚</p><p>è§£æä¸€ä¸‹åŠŸèƒ½ç‚¹ï¼š</p><ul><li>å­—ç¬¦ä¸²æ•°ç»„è½¬ <code>key</code> ä¸º <code>name</code> æ•°ç»„å¯¹è±¡ï¼›</li><li><code>name</code> å­—ç¬¦ä¸²è½¬æ¢ä¸ºé¦–å­—ç¬¦å¤§å†™ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="å‘½ä»¤å¼ç¼–ç¨‹">å‘½ä»¤å¼ç¼–ç¨‹<a class="hash-link" href="#å‘½ä»¤å¼ç¼–ç¨‹" title="Direct link to heading">â€‹</a></h4><p>å‘½ä»¤å¼ç¼–ç¨‹å®ç°è¯¥éœ€æ±‚ï¼Œå®ç°æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li>å£°æ˜ä¸´æ—¶å˜é‡ <code>arr2</code> å­˜æ”¾æ–°æ•°ç»„ï¼›</li><li>å£°æ˜ä¸´æ—¶å˜é‡ <code>first</code>ã€<code>rest</code> å­˜æ”¾å­—ç¬¦ä¸²ï¼Œå¹¶è¿›è¡Œè½¬é¦–å­—æ¯å¤§å†™çš„æ“ä½œï¼›</li><li>é€šè¿‡ <a href="http://array.map" target="_blank" rel="noopener noreferrer">array.map</a> å¾—åˆ°æ–°æ•°ç»„ï¼Œèµ‹å€¼ç»™ <code>arr2</code>ã€‚</li></ul><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> arr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;tom&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bob&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;alice&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> arr2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">i</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">substring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">substring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toUpperCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> rest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="å‡½æ•°å¼ç¼–ç¨‹">å‡½æ•°å¼ç¼–ç¨‹<a class="hash-link" href="#å‡½æ•°å¼ç¼–ç¨‹" title="Direct link to heading">â€‹</a></h4><p>å‡½æ•°å¼ç¼–ç¨‹å®ç°è¯¥éœ€æ±‚ï¼Œå®ç°æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li>å­—ç¬¦ä¸²è½¬é¦–å­—æ¯å¤§å†™çš„å‡½æ•°ï¼›</li><li>å­—ç¬¦ä¸²ç”Ÿæˆå¯¹è±¡çš„å‡½æ•°ï¼›</li><li>å­—ç¬¦ä¸²è½¬æŒ‡å®šæ ¼å¼å¯¹è±¡çš„å‡½æ•°ï¼›</li><li>æ•°ç»„è½¬æ•°ç»„å¯¹è±¡çš„å‡½æ•°ã€‚</li></ul><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> curry</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> compose</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ramda&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// é¦–å­—ç¬¦å¤§å†™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">capitalize</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toUpperCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å­—ç¬¦ä¸²ç”Ÿæˆå¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> genObj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">key</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  obj</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å­—ç¬¦ä¸²è½¬å¯¹è±¡ï¼Œexï¼š&#x27;tom&#x27; =&gt; { name: &#x27;Tom&#x27; }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> convert2Obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">genObj</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> capitalize</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æ•°ç»„è½¬æ•°ç»„å¯¹è±¡ï¼Œexï¼š[&#x27;tom&#x27;] =&gt; [{ name: &#x27;Tom&#x27; }]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> convertName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">convert2Obj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">convertName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;tom&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bob&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;alice&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>è¿™å„¿ä½¿ç”¨åˆ°äº† <a href="https://ramda.cn/" target="_blank" rel="noopener noreferrer">ramda</a>  åŒ…ä¸­çš„ <code>curry</code> å’Œ <code>compose</code> å‡½æ•°ã€‚</p></blockquote><p>ä»ä¸Šé¢ä¾‹å­å¯çŸ¥ï¼Œå‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯é€šè¿‡å‡½æ•°çš„ç»„åˆå˜æ¢å»è§£å†³é—®é¢˜çš„ä¸€ç§ç¼–ç¨‹æ–¹å¼ã€‚</p><p>åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå‡½æ•°æ˜¯<a href="https://zh.wikipedia.org/wiki/%E5%A4%B4%E7%AD%89%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">å¤´ç­‰å¯¹è±¡</a>ï¼Œæ„æ€æ˜¯è¯´ä¸€ä¸ªå‡½æ•°ï¼Œæ—¢å¯ä»¥ä½œä¸ºå…¶å®ƒå‡½æ•°çš„è¾“å…¥å‚æ•°å€¼ï¼Œä¹Ÿå¯ä»¥ä»å‡½æ•°ä¸­è¿”å›å€¼ï¼Œè¢«ä¿®æ”¹æˆ–è€…è¢«åˆ†é…ç»™ä¸€ä¸ªå˜é‡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹">äºŒã€å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹<a class="hash-link" href="#äºŒå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹" title="Direct link to heading">â€‹</a></h2><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå‡½æ•°å¼ç¼–ç¨‹çœ‹èµ·æ¥æ¯”å‘½ä»¤å¼ç¼–ç¨‹æ›´åŠ å¤æ‚ï¼Œéš¾ä»¥ç†è§£ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹ï¼Œå®ƒèƒ½å¤Ÿç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹ï¼Œæ˜¯ä¸ºäº†è®©æˆ‘ä»¬åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­æœ‰æ›´å¤šç¼–ç¨‹èŒƒå¼çš„é€‰æ‹©ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åœºæ™¯é€‰æ‹©ä¸åŒçš„ç¼–ç¨‹èŒƒå¼ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆ Reactã€Redux è¿™äº›æµè¡Œæ¡†æ¶éƒ½é€‰æ‹©å¹¶æ¨èå‡½æ•°å¼ç¼–ç¨‹å‘¢ï¼Ÿå› ä¸ºå‡½æ•°å¼ç¼–ç¨‹ç›¸è¾ƒäºå‘½ä»¤å¼ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹è€Œè¨€ï¼Œæ›´æ˜“ç»´æŠ¤ï¼Œå¯è¯»æ€§é«˜ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-å£°æ˜å¼ç¼–ç¨‹">1. å£°æ˜å¼ç¼–ç¨‹<a class="hash-link" href="#1-å£°æ˜å¼ç¼–ç¨‹" title="Direct link to heading">â€‹</a></h3><p>å‡½æ•°å¼ç¼–ç¨‹å¤§å¤šæ—¶å€™éƒ½æ˜¯åœ¨å£°æ˜æˆ‘éœ€è¦åšä»€ä¹ˆï¼Œè€Œéæ€ä¹ˆå»åšã€‚è¿™ç§ç¼–ç¨‹é£æ ¼ç§°ä¸ºÂ <a href="https://baike.baidu.com/item/%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%BC%96%E7%A8%8B/9939512" target="_blank" rel="noopener noreferrer">å£°æ˜å¼ç¼–ç¨‹</a>ã€‚</p><p>ä¸¾ä¾‹è¯´æ˜ï¼šåœ¨ä½¿ç”¨ React æ—¶ï¼Œåªè¦æè¿°UIï¼Œæ¥ä¸‹æ¥çŠ¶æ€å˜åŒ–å UI å¦‚ä½•æ›´æ–°ï¼Œæ˜¯ React åœ¨è¿è¡Œæ—¶å¸®ä½ å¤„ç†çš„ï¼Œè€Œä¸ç”¨å¼€å‘è€…å»å†™æ¸²æŸ“é€»è¾‘å’Œä¼˜åŒ– diff ç®—æ³•ã€‚</p><p>å£°æ˜å¼ç¼–ç¨‹å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li><strong>ç®€åŒ–å¼€å‘è€…çš„å·¥ä½œ</strong></li><li><strong>å‡å°‘é‡å¤å·¥ä½œ</strong></li><li><strong>ç•™ä¸‹æ”¹è¿›çš„ç©ºé—´</strong></li><li><strong>æä¾›å…¨å±€åè°ƒèƒ½åŠ›</strong></li></ul><blockquote><p>æ›´è¯¦ç»†çš„å£°æ˜å¼ç¼–ç¨‹ä»‹ç»ï¼š<a href="https://zhuanlan.zhihu.com/p/26085755" target="_blank" rel="noopener noreferrer">ä»å¹´ä¼šçœ‹å£°æ˜å¼ç¼–ç¨‹(Declarative Programming)</a>ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-çº¯å‡½æ•°">2. çº¯å‡½æ•°<a class="hash-link" href="#2-çº¯å‡½æ•°" title="Direct link to heading">â€‹</a></h3><p>å‡½æ•°å¼ç¼–ç¨‹ä½¿ç”¨<strong>çº¯å‡½æ•°</strong>ç»„åˆå˜æ¢è®¡ç®—ï¼Œçº¯å‡½æ•°æŒ‡çš„æ˜¯<strong>ç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡º</strong>ï¼Œçº¯å‡½æ•°æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="21-ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€">2.1 ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€<a class="hash-link" href="#21-ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€" title="Direct link to heading">â€‹</a></h4><p>çº¯å‡½æ•°ä¸ä¼šä¾èµ–å…¨å±€å˜é‡ã€<code>this</code> ç­‰å¤–éƒ¨çŠ¶æ€ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// éçº¯å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">increment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å¼•ç”¨äº†å¤–éƒ¨å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> counter</span><span class="token operator" style="color:#393A34">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// çº¯å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">counter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="22-æ•°æ®ä¸å¯å˜">2.2 æ•°æ®ä¸å¯å˜<a class="hash-link" href="#22-æ•°æ®ä¸å¯å˜" title="Direct link to heading">â€‹</a></h4><p>çº¯å‡½æ•°ä¸ä¿®æ”¹å…¨å±€å˜é‡ï¼Œä¸ä¿®æ”¹å…¥å‚ï¼Œä¸ä¿®æ”¹å¯¹è±¡ï¼Œå½“éœ€è¦ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ç”¨æ¥ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å·²æœ‰çš„å¯¹è±¡ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// éçº¯å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">genObj</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// çº¯å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">genObj</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="23-æ²¡æœ‰å‰¯ä½œç”¨">2.3 æ²¡æœ‰å‰¯ä½œç”¨<a class="hash-link" href="#23-æ²¡æœ‰å‰¯ä½œç”¨" title="Direct link to heading">â€‹</a></h4><p>çº¯å‡½æ•°æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå‰¯ä½œç”¨æ˜¯åœ¨è®¡ç®—ç»“æœçš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»ŸçŠ¶æ€çš„ä¸€ç§å˜åŒ–ï¼Œæˆ–è€…ä¸å¤–éƒ¨ä¸–ç•Œè¿›è¡Œçš„å¯è§‚å¯Ÿçš„äº¤äº’ã€‚</p><blockquote><p>å‰¯ä½œç”¨å¯èƒ½åŒ…å«ï¼Œä½†ä¸é™äºï¼šæ›´æ”¹æ–‡ä»¶ç³»ç»Ÿã€å¾€æ•°æ®åº“æ’å…¥è®°å½•ã€å‘é€ä¸€ä¸ª http è¯·æ±‚ã€å¯å˜æ•°æ®ã€æ‰“å°/logã€è·å–ç”¨æˆ·è¾“å…¥ã€DOM æŸ¥è¯¢ã€è®¿é—®ç³»ç»ŸçŠ¶æ€ç­‰ã€‚</p></blockquote><h4 class="anchor anchorWithStickyNavbar_y2LR" id="24-å°ç»“">2.4 å°ç»“<a class="hash-link" href="#24-å°ç»“" title="Direct link to heading">â€‹</a></h4><p>çº¯å‡½æ•°ä¸ä¼šæŒ‡å‘ä¸æ˜çš„ <code>this</code>ã€ä¸ä¼šå¼•ç”¨å…¨å±€å˜é‡ã€ä¸ä¼šç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œå¯ä»¥å¤§å¤§çš„æå‡ä»£ç çš„æ˜“ç»´æŠ¤æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰å¦‚ä½•ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹">ä¸‰ã€å¦‚ä½•ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹<a class="hash-link" href="#ä¸‰å¦‚ä½•ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹" title="Direct link to heading">â€‹</a></h2><p>å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œé‚£ä¹ˆæ€ä¹ˆæŠŠä¸€ä¸ªå¤æ‚å‡½æ•°è½¬æ¢æˆå¤šä¸ªå•å…ƒå‡½æ•°ï¼Œç„¶åæ€ä¹ˆæŠŠå¤šä¸ªå•å…ƒå‡½æ•°ç»„åˆèµ·æ¥æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œå‘¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰å’Œå‡½æ•°ç»„åˆï¼ˆcomposeï¼‰äº†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-æŸ¯é‡ŒåŒ–curry">1. æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰<a class="hash-link" href="#1-æŸ¯é‡ŒåŒ–curry" title="Direct link to heading">â€‹</a></h3><p>æŸ¯é‡ŒåŒ–çš„å°±æ˜¯å°†ä¸€ä¸ªå¤šå…ƒå‡½æ•°ï¼Œè½¬æ¢æˆä¸€ä¸ªä¾æ¬¡è°ƒç”¨çš„å•å…ƒå‡½æ•°ã€‚</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> â†’ </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„åŠ æ³•å‡½æ•°ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> increment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> addTen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">increment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">addTen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 12</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚ä¸‹æ˜¯ä½¿ç”¨ ramda å°è£…çš„ curry ç”Ÿæˆçš„å•å…ƒå‡½æ•°ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> curry </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ramda&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> replace </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> replaceSpaceWith </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\s*</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> replaceSpaceWithComma </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">replaceSpaceWith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;,&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> replaceSpaceWithDash </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">replaceSpaceWith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-å‡½æ•°ç»„åˆcompose">2. å‡½æ•°ç»„åˆï¼ˆcomposeï¼‰<a class="hash-link" href="#2-å‡½æ•°ç»„åˆcompose" title="Direct link to heading">â€‹</a></h3><p>å‡½æ•°ç»„åˆå°±æ˜¯å°†å¤šä¸ªå‡½æ•°ç»„åˆæˆä¸€ä¸ªå‡½æ•°ã€‚</p><p>å¦‚ä¸‹æ˜¯ä½¿ç”¨ ramda å°è£…çš„ compose ç”Ÿæˆçš„å‡½æ•°ç»„åˆï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> compose </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ramda&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">f</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">x</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">g</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">x</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">compose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> g</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å‡½æ•°ç»„åˆè®©ä»£ç å˜å¾—ç®€å•è€Œå¯Œæœ‰å¯è¯»æ€§ï¼ŒåŒæ—¶é€šè¿‡ä¸åŒçš„ç»„åˆæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“ç»„åˆå‡ºå…¶ä»–å¸¸ç”¨å‡½æ•°ï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ›´å…·è¡¨ç°åŠ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å°ç»“">å°ç»“<a class="hash-link" href="#å°ç»“" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡ä¸Šæ–‡ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰äº†ä¸€äº›äº†è§£ï¼Œä¸‹æ–¹æœ‰ä¸€äº›å‚è€ƒèµ„æ–™ï¼Œæ¨èä½ è¿›è¡Œæ›´æ·±å…¥çš„å­¦ä¹ ã€‚</p><p>å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹åªæ˜¯ä¸ºäº†è®©ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¤šä¸€ä¸ªç¼–ç¨‹èŒƒå¼çš„é€‰æ‹©ï¼Œå¤§å¤šæ—¶å€™æˆ‘ä»¬æ— æ³•å°†æ‰€æœ‰å‡½æ•°å†™æˆçº¯å‡½æ•°çš„å½¢å¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä»å¯ä»¥å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹çš„ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€ã€ä¸æ”¹å†™æ•°æ®çš„åšæ³•ï¼Œé€šè¿‡å‡å°‘å…±äº«çš„æ•°æ®æ¥å‡å°‘å¼€å‘è¿‡ç¨‹çš„ bug æ•°ã€‚</p><p>å¸Œæœ›æœ¬æ–‡èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ„Ÿè°¢é˜…è¯»ï½</p><p>åˆ«å¿˜äº†ç‚¹ä¸ªèµé¼“åŠ±ä¸€ä¸‹æˆ‘å“¦ï¼Œç¬”èŠ¯â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/" target="_blank" rel="noopener noreferrer">å‡½æ•°å¼ç¼–ç¨‹æŒ‡åŒ—</a></li><li><a href="https://juejin.cn/post/6844903936378273799" target="_blank" rel="noopener noreferrer">ç®€æ˜ JavaScript å‡½æ•°å¼ç¼–ç¨‹â€”â€”å…¥é—¨ç¯‡</a></li><li><a href="https://juejin.cn/post/6844903743117361165#heading-2" target="_blank" rel="noopener noreferrer">å‡½æ•°å¼ç¼–ç¨‹ï¼ŒçœŸé¦™</a></li><li><a href="https://zhuanlan.zhihu.com/p/26085755" target="_blank" rel="noopener noreferrer">ä»å¹´ä¼šçœ‹å£°æ˜å¼ç¼–ç¨‹(Declarative Programming)</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022/02/12/React-Hooks">React-ä½ æœ‰å®Œå…¨äº†è§£ Hooks å—</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-02-12T19:11:14.000Z" itemprop="datePublished">February 12, 2022</time> Â· <!-- -->12 min read</div></header><div class="markdown" itemprop="articleBody"><p><img src="https://img14.360buyimg.com/ling/jfs/t1/211906/13/12376/431721/6208fae4E49caa61b/7f286fcdbf89fd66.jpg"></p><blockquote><p>æœ¬æ–‡ä» Hooks ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Hooksï¼ŒReact æä¾›äº†å“ªäº›å¸¸ç”¨ Hooksï¼Œä»¥åŠå¦‚ä½•è‡ªå®šä¹‰ Hooks 4 ä¸ªæ–¹é¢å¸¦ä½ æ·±å…¥ç†è§£ React Hooksã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€å‰è¨€">ä¸€ã€å‰è¨€<a class="hash-link" href="#ä¸€å‰è¨€" title="Direct link to heading">â€‹</a></h2><p>Hooks ç”¨äºåœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ state ä»¥åŠå…¶ä»– React ç‰¹æ€§ã€‚é‚£ä¹ˆ Hooks ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Hooksï¼ŒReact æä¾›äº†å“ªäº›å¸¸ç”¨ Hooksï¼Œä»¥åŠå¦‚ä½•è‡ªå®šä¹‰ Hooks å‘¢ï¼Œä¸‹æ–‡å°†ä¸ºæ‚¨ä¸€ä¸€æ­æ™“ã€‚</p><blockquote><p>æœ¬æ–‡çš„å­¦ä¹ èµ„æ–™ä¸»è¦æ¥è‡ª <a href="https://zh-hans.reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener noreferrer">React å®˜æ–¹æ–‡æ¡£-Hook</a>å’Œç‹æ²›è€å¸ˆçš„ä¸“æ <a href="https://time.geekbang.org/column/article/376577" target="_blank" rel="noopener noreferrer">ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹</a>ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒä»€ä¹ˆæ˜¯-hooks">äºŒã€ä»€ä¹ˆæ˜¯ Hooks<a class="hash-link" href="#äºŒä»€ä¹ˆæ˜¯-hooks" title="Direct link to heading">â€‹</a></h2><p>Hooks è¯‘ä¸ºé’©å­ï¼ŒHooks å°±æ˜¯åœ¨å‡½æ•°ç»„ä»¶å†…ï¼Œè´Ÿè´£é’©è¿›å¤–éƒ¨åŠŸèƒ½çš„å‡½æ•°ã€‚</p><p>React æä¾›äº†ä¸€äº›å¸¸ç”¨é’©å­ï¼ŒReact ä¹Ÿæ”¯æŒè‡ªå®šä¹‰é’©å­ï¼Œè¿™äº›é’©å­éƒ½æ˜¯ç”¨äºä¸ºå‡½æ•°å¼•å…¥å¤–éƒ¨åŠŸèƒ½ã€‚</p><p>å½“æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­ï¼Œéœ€è¦å¼•å…¥å¤–éƒ¨åŠŸèƒ½æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ React æä¾›çš„é’©å­ï¼Œæˆ–è€…è‡ªå®šä¹‰é’©å­ã€‚</p><p>æ¯”å¦‚åœ¨ç»„ä»¶å†…å¼•å…¥å¯ç®¡ç† state çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥ä½¿ç”¨ useState å‡½æ•°ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç» useState çš„ç”¨æ³•ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰ä¸ºä»€ä¹ˆè¦ç”¨-hooks">ä¸‰ã€ä¸ºä»€ä¹ˆè¦ç”¨ Hooks<a class="hash-link" href="#ä¸‰ä¸ºä»€ä¹ˆè¦ç”¨-hooks" title="Direct link to heading">â€‹</a></h2><p>ä½¿ç”¨ Hooks æœ‰ 2 å¤§åŸå› ï¼š</p><ul><li>ç®€åŒ–é€»è¾‘å¤ç”¨ï¼›</li><li>è®©å¤æ‚ç»„ä»¶æ›´æ˜“ç†è§£ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-ç®€åŒ–é€»è¾‘å¤ç”¨">1. ç®€åŒ–é€»è¾‘å¤ç”¨<a class="hash-link" href="#1-ç®€åŒ–é€»è¾‘å¤ç”¨" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Hooks å‡ºç°ä¹‹å‰ï¼ŒReact å¿…é¡»å€Ÿç”¨é«˜é˜¶ç»„ä»¶ã€render props ç­‰å¤æ‚çš„è®¾è®¡æ¨¡å¼æ‰èƒ½å®ç°é€»è¾‘çš„å¤ç”¨ï¼Œä½†æ˜¯é«˜é˜¶ç»„ä»¶ä¼šäº§ç”Ÿå†—ä½™çš„ç»„ä»¶èŠ‚ç‚¹ï¼Œè®©è°ƒè¯•æ›´åŠ å¤æ‚ã€‚</p><p>Hooks è®©æˆ‘ä»¬å¯ä»¥åœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»è‡ªå®šä¹‰ Hooks çš„ç”¨æ³•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-è®©å¤æ‚ç»„ä»¶æ›´æ˜“ç†è§£">2. è®©å¤æ‚ç»„ä»¶æ›´æ˜“ç†è§£<a class="hash-link" href="#2-è®©å¤æ‚ç»„ä»¶æ›´æ˜“ç†è§£" title="Direct link to heading">â€‹</a></h3><p>åœ¨ class ç»„ä»¶ä¸­ï¼ŒåŒä¸€ä¸ªä¸šåŠ¡é€»è¾‘çš„ä»£ç åˆ†æ•£åœ¨ç»„ä»¶çš„ä¸åŒç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ï¼Œè€Œ Hooks èƒ½å¤Ÿè®©é’ˆå¯¹åŒä¸€ä¸ªä¸šåŠ¡é€»è¾‘çš„ä»£ç èšåˆåœ¨ä¸€å—ï¼Œè®©ä¸šåŠ¡é€»è¾‘æ¸…æ™°åœ°éš”ç¦»å¼€ï¼Œè®©ä»£ç æ›´åŠ å®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››å¸¸ç”¨çš„-hooks">å››ã€å¸¸ç”¨çš„ Hooks<a class="hash-link" href="#å››å¸¸ç”¨çš„-hooks" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-usestate">1. useState<a class="hash-link" href="#1-usestate" title="Direct link to heading">â€‹</a></h3><p>useState æ˜¯å…è®¸ä½ åœ¨ React å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  state çš„ Hookã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å£°æ˜ä¸€ä¸ªå« &quot;count&quot; çš„ state å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç å£°æ˜äº†ä¸€ä¸ªåˆå§‹å€¼ä¸º 0 çš„ state å˜é‡ countï¼Œé€šè¿‡è°ƒç”¨ setCount æ¥æ›´æ–°å½“å‰çš„ countã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-useeffect">2. useEffect<a class="hash-link" href="#2-useeffect" title="Direct link to heading">â€‹</a></h3><p>useEffect å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚</p><p>å‰¯ä½œç”¨æ˜¯æŒ‡ä¸€æ®µå’Œå½“å‰æ‰§è¡Œç»“æœæ— å…³çš„ä»£ç ï¼Œå¸¸ç”¨çš„å‰¯ä½œç”¨æ“ä½œå¦‚æ•°æ®è·å–ã€è®¾ç½®è®¢é˜…ã€æ‰‹åŠ¨æ›´æ”¹ React ç»„ä»¶ä¸­çš„ DOMã€‚</p><p>useEffect å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dependencies</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ‰§è¡Œçš„å‡½æ•° callbackï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ä¾èµ–é¡¹æ•°ç»„ dependenciesã€‚</p><p>å…¶ä¸­ä¾èµ–é¡¹æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé‚£ä¹ˆ callback å°±ä¼šåœ¨æ¯æ¬¡å‡½æ•°ç»„ä»¶æ‰§è¡Œå®Œåéƒ½æ‰§è¡Œï¼›å¦‚æœæŒ‡å®šäº†ï¼Œé‚£ä¹ˆåªæœ‰ä¾èµ–é¡¹ä¸­çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå®ƒæ‰ä¼šæ‰§è¡Œã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Similar to componentDidMount and componentDidUpdate:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update the document title using the browser API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">You clicked </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">count</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> times</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å¯ç”¨äºåšæ¸…é™¤ï¼Œç›¸å½“äº class ç»„ä»¶çš„ componentWillUnmount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‡å®šä¾èµ–é¡¹ä¸º countï¼Œåœ¨ count æ›´æ–°æ—¶æ‰§è¡Œè¯¥å‰¯ä½œç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç é€šè¿‡ useEffect å®ç°äº†å½“ä¾èµ–é¡¹ count æ›´æ–°æ—¶ï¼Œæ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¹¶é€šè¿‡è¿”å›å›è°ƒå‡½æ•°æ¸…é™¤ä¸Šä¸€æ¬¡çš„æ‰§è¡Œç»“æœã€‚</p><p>å¦å¤–ï¼ŒuseEffect æä¾›äº†å››ç§æ‰§è¡Œå‰¯ä½œç”¨çš„æ—¶æœºï¼š</p><ul><li><strong>æ¯æ¬¡ render åæ‰§è¡Œ</strong>ï¼šä¸æä¾›ç¬¬äºŒä¸ªä¾èµ–é¡¹å‚æ•°ã€‚æ¯”å¦‚ useEffect(() =&gt; {})ï¼›</li><li><strong>ä»…ç¬¬ä¸€æ¬¡ render åæ‰§è¡Œ</strong>ï¼šæä¾›ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸ºä¾èµ–é¡¹ã€‚æ¯”å¦‚ useEffect(() =&gt; {}, [])ï¼›</li><li><strong>ç¬¬ä¸€æ¬¡ä»¥åŠä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–åæ‰§è¡Œ</strong>ï¼šæä¾›ä¾èµ–é¡¹æ•°ç»„ã€‚æ¯”å¦‚ useEffect(() =&gt; {}, <!-- -->[deps]<!-- -->)ï¼›</li><li><strong>ç»„ä»¶ unmount åæ‰§è¡Œ</strong>ï¼šè¿”å›ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚æ¯”å¦‚ useEffect() =&gt; { return () =&gt; {} }, [])ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-usecallback">3. useCallback<a class="hash-link" href="#3-usecallback" title="Direct link to heading">â€‹</a></h3><p>useCallback å®šä¹‰çš„å›è°ƒå‡½æ•°åªä¼šåœ¨ä¾èµ–é¡¹æ”¹å˜æ—¶é‡æ–°å£°æ˜è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™æ ·å°±ä¿è¯äº†<strong>ç»„ä»¶ä¸ä¼šåˆ›å»ºé‡å¤çš„å›è°ƒå‡½æ•°</strong>ã€‚è€Œæ¥æ”¶è¿™ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå±æ€§çš„ç»„ä»¶ï¼Œä¹Ÿ<strong>ä¸ä¼šé¢‘ç¹åœ°éœ€è¦é‡æ–°æ¸²æŸ“</strong>ã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> memoizedCallback </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">doSomething</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç åœ¨ä¾èµ–é¡¹ aã€b å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°å£°æ˜å›è°ƒå‡½æ•°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-usememo">4. useMemo<a class="hash-link" href="#4-usememo" title="Direct link to heading">â€‹</a></h3><p>useMemo å®šä¹‰çš„åˆ›å»ºå‡½æ•°åªä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®—ï¼Œæœ‰åŠ©äºæ¯æ¬¡æ¸²æŸ“æ—¶<strong>ä¸ä¼šé‡å¤çš„é«˜å¼€é”€çš„è®¡ç®—</strong>ï¼Œè€Œæ¥æ”¶è¿™ä¸ªè®¡ç®—å€¼ä½œä¸ºå±æ€§çš„ç»„ä»¶ï¼Œä¹Ÿ<strong>ä¸ä¼šé¢‘ç¹åœ°éœ€è¦é‡æ–°æ¸²æŸ“</strong>ã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> memoizedValue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useMemo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">computeExpensiveValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç åœ¨ä¾èµ–é¡¹ aã€b å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-useref">5. useRef<a class="hash-link" href="#5-useref" title="Direct link to heading">â€‹</a></h3><p>useRef è¿”å›ä¸€ä¸ª ref å¯¹è±¡ï¼Œè¿™ä¸ª ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æŒç»­å­˜åœ¨ã€‚</p><p>ä»–æœ‰ 2 ä¸ªç”¨å¤„ï¼š</p><ul><li><strong>ä¿å­˜ DOM èŠ‚ç‚¹çš„å¼•ç”¨</strong>ï¼›</li><li><strong>åœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´å…±äº«æ•°æ®</strong>ã€‚</li></ul><p>ä¿å­˜ DOM èŠ‚ç‚¹çš„å¼•å…¥ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">TextInputWithFocusButton</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> inputEl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">onButtonClick</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// `current` æŒ‡å‘å·²æŒ‚è½½åˆ° DOM ä¸Šçš„æ–‡æœ¬è¾“å…¥å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputEl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">focus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">input ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">inputEl</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;text&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">onButtonClick</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Focus</span><span class="token plain"> the input</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç é€šè¿‡ useRef åˆ›å»ºäº† ref å¯¹è±¡ï¼Œä¿å­˜äº† DOM èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå¯ä»¥å¯¹ ref.current åš DOM æ“ä½œã€‚</p><p>åœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´å…±äº«æ•°æ®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useCallback</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useRef </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Timer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å®šä¹‰ time state ç”¨äºä¿å­˜è®¡æ—¶çš„ç´¯ç§¯æ—¶é—´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setTime</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å®šä¹‰ timer è¿™æ ·ä¸€ä¸ªå®¹å™¨ç”¨äºåœ¨è·¨ç»„ä»¶æ¸²æŸ“ä¹‹é—´ä¿å­˜ä¸€ä¸ªå˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> timer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å¼€å§‹è®¡æ—¶çš„äº‹ä»¶å¤„ç†å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> handleStart </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ä½¿ç”¨ current å±æ€§è®¾ç½® ref çš„å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> time </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æš‚åœè®¡æ—¶çš„äº‹ä»¶å¤„ç†å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> handlePause </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ä½¿ç”¨ clearInterval æ¥åœæ­¢è®¡æ—¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">time </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> seconds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">br </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">handleStart</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Start</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">handlePause</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Pause</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç é€šè¿‡ useRef åˆ›å»ºäº†ä¸€ä¸ªå˜é‡åä¸º timer çš„ ref å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥åœ¨è·¨ç»„ä»¶æ¸²æŸ“æ—¶è°ƒç”¨ï¼Œåœ¨å¼€å§‹è®¡æ—¶æ—¶æ–°å»ºè®¡æ—¶å™¨ï¼Œåœ¨æš‚åœè®¡æ—¶æ—¶æ¸…ç©ºè®¡æ—¶å™¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-usecontext">6. useContext<a class="hash-link" href="#6-usecontext" title="Direct link to heading">â€‹</a></h3><p>useContext ç”¨äºæ¥æ”¶ä¸€ä¸ª context å¯¹è±¡å¹¶è¿”å›è¯¥ context çš„å€¼ï¼Œå¯ä»¥å®ç°è·¨å±‚çº§çš„æ•°æ®å…±äº«ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// åˆ›å»ºä¸€ä¸ª context å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MyContext</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialValue</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// é€šè¿‡ Context.Provider ä¼ é€’ context çš„å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MyContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Provider</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Container</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">MyContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Provider</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Container</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Test</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è·å– Context çš„å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> theme </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">MyContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç é€šè¿‡ useContext å–å¾—äº† App ç»„ä»¶ä¸­å®šä¹‰çš„ Contextï¼Œåšåˆ°äº†è·¨å±‚æ¬¡ç»„ä»¶çš„æ•°æ®å…±äº«ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="7-usereducer">7. useReducer<a class="hash-link" href="#7-usereducer" title="Direct link to heading">â€‹</a></h3><p>useReducer ç”¨æ¥å¼•å…¥ Reducer åŠŸèƒ½ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dispatch</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useReducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reducer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> initialState</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å®ƒæ¥å— Reducer å‡½æ•°å’ŒçŠ¶æ€çš„åˆå§‹å€¼ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯çŠ¶æ€çš„å½“å‰å€¼ï¼Œç¬¬äºŒä¸ªæˆå‘˜æ˜¯å‘é€ action çš„ dispatch å‡½æ•°ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”è‡ªå®šä¹‰-hooks">äº”ã€è‡ªå®šä¹‰ Hooks<a class="hash-link" href="#äº”è‡ªå®šä¹‰-hooks" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡è‡ªå®šä¹‰ Hooksï¼Œå¯ä»¥å°†ç»„ä»¶é€»è¾‘æå–åˆ°å¯é‡ç”¨çš„å‡½æ•°ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰-hooks">1. å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ Hooksï¼Ÿ<a class="hash-link" href="#1-å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰-hooks" title="Direct link to heading">â€‹</a></h3><p>è‡ªå®šä¹‰ Hooks å°±æ˜¯å‡½æ•°ï¼Œå®ƒæœ‰ 2 ä¸ªç‰¹å¾åŒºåˆ†äºæ™®é€šå‡½æ•°ï¼š</p><ul><li>åç§°ä»¥ â€œuseâ€ å¼€å¤´ï¼›</li><li>å‡½æ•°å†…éƒ¨è°ƒç”¨å…¶ä»–çš„ Hookã€‚</li></ul><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useCallback </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å®šä¹‰ count è¿™ä¸ª state ç”¨äºä¿å­˜å½“å‰æ•°å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å®ç°åŠ  1 çš„æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> increment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å®ç°å‡ 1 çš„æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> decrement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// é‡ç½®è®¡æ•°å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å°†ä¸šåŠ¡é€»è¾‘çš„æ“ä½œ export å‡ºå»ä¾›è°ƒç”¨è€…ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decrement</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç»„ä»¶1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyComponent1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decrement</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç»„ä»¶2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyComponent2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> increment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> decrement</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reset </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCounter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä»¥ä¸Šä»£ç é€šè¿‡è‡ªå®šä¹‰ Hooks useCounterï¼Œè½»æ¾çš„åœ¨ MyComponent1 ç»„ä»¶å’Œ MyComponent2 ç»„ä»¶ä¹‹é—´å¤ç”¨ä¸šåŠ¡é€»è¾‘ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-è‡ªå®šä¹‰-hooks-åº“---react-use">2. è‡ªå®šä¹‰ Hooks åº“ - react-use<a class="hash-link" href="#2-è‡ªå®šä¹‰-hooks-åº“---react-use" title="Direct link to heading">â€‹</a></h3><p>React å®˜æ–¹æä¾›äº† <a href="https://github.com/streamich/react-use" target="_blank" rel="noopener noreferrer">react-use</a> åº“ï¼Œå…¶ä¸­å°è£…äº†å¤§é‡å¯ç›´æ¥ä½¿ç”¨çš„è‡ªå®šä¹‰ Hooksï¼Œå¸®åŠ©æˆ‘ä»¬ç®€åŒ–ç»„ä»¶å†…éƒ¨é€»è¾‘ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€‚</p><p>å…¶ä¸­æˆ‘ä»¬å¸¸ç”¨çš„è‡ªå®šä¹‰ Hooks æœ‰ï¼š</p><ul><li>useLocation å’Œ useSearchParamï¼šè·Ÿè¸ªé¡µé¢å¯¼èˆªæ ä½ç½®çŠ¶æ€ï¼›</li><li>useScrollï¼šè·Ÿè¸ª HTML å…ƒç´ çš„æ»šåŠ¨ä½ç½®ï¼›</li><li>useScrollingï¼šè·Ÿè¸ª HTML å…ƒç´ æ˜¯å¦æ­£åœ¨æ»šåŠ¨ï¼›</li><li>useAsync, useAsyncFn, and useAsyncRetryï¼šè§£æä¸€ä¸ª async å‡½æ•°ï¼›</li><li>useTitleï¼šè®¾ç½®é¡µé¢çš„æ ‡é¢˜ã€‚</li></ul><blockquote><p>å¯è‡³ <a href="https://github.com/streamich/react-use" target="_blank" rel="noopener noreferrer">react-use å®˜ç½‘</a>å­¦ä¹ ä½¿ç”¨ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å…­å°ç»“">å…­ã€å°ç»“<a class="hash-link" href="#å…­å°ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡ä» Hooks ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Hooksï¼ŒReact æä¾›äº†å“ªäº›å¸¸ç”¨ Hooksï¼Œä»¥åŠå¦‚ä½•è‡ªå®šä¹‰ Hooks 4 ä¸ªæ–¹é¢ä»‹ç»äº† React Hooksï¼Œç›¸ä¿¡å¤§å®¶å¯¹ React Hooks å·²ç»æœ‰äº†æ›´åŠ æ·±å…¥çš„ç†è§£ã€‚</p><p>å¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ„Ÿè°¢é˜…è¯»ï½</p><p>åˆ«å¿˜äº†ç‚¹ä¸ªèµé¼“åŠ±ä¸€ä¸‹æˆ‘å“¦ï¼Œç¬”èŠ¯ â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://zh-hans.reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener noreferrer">React å®˜æ–¹æ–‡æ¡£-Hook</a></li><li><a href="https://time.geekbang.org/column/article/376577" target="_blank" rel="noopener noreferrer">React Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜</a></li><li><a href="https://www.ruanyifeng.com/blog/2019/09/react-hooks.html" target="_blank" rel="noopener noreferrer">React Hooks å…¥é—¨æ•™ç¨‹</a></li><li><a href="https://segmentfault.com/a/1190000038768433" target="_blank" rel="noopener noreferrer">è½»æ¾æŒæ¡ React Hooks åº•å±‚å®ç°åŸç†</a></li><li><a href="https://juejin.cn/post/6844903704437456909" target="_blank" rel="noopener noreferrer">é˜…è¯»æºç åï¼Œæ¥è®²è®² React Hooks æ˜¯æ€ä¹ˆå®ç°çš„</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2022/02/11/up-up-up">ä¸“æ å­¦ä¹ å¿ƒå¾—ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-02-11T19:11:14.000Z" itemprop="datePublished">February 11, 2022</time> Â· <!-- -->14 min read</div></header><div class="markdown" itemprop="articleBody"><p><img src="https://img12.360buyimg.com/ling/jfs/t1/109470/8/23866/494812/6209a784E3a20dad5/22cf45c213a15cc0.jpg" alt="s08502502142022"></p><blockquote><p>æœ¬æ–‡ä»æ™‹å‡ä½“ç³»ã€å­¦ä¹ æ–¹æ³•ã€åšäº‹æ–¹æ³• 4 ä¸ªæ–¹å‘ä»‹ç»äº†å­¦ä¹ å¤§å‚æ™‹å‡æŒ‡å—çš„å¿ƒå¾—ï¼Œå…¶ä¸­æ™‹å‡ä½“ç³»ã€èŒçº§è¯¦è§£æå‡è®¤çŸ¥ï¼Œå­¦ä¹ æ–¹æ³•ã€åšäº‹æ–¹æ³•æé«˜æ•ˆç‡ï¼Œç›¸ä¿¡ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸€å‰è¨€">ä¸€ã€å‰è¨€<a class="hash-link" href="#ä¸€å‰è¨€" title="Direct link to heading">â€‹</a></h2><p>åœ¨æ¯”è¾ƒé•¿çš„ä¸€æ®µæ—¶é—´ï¼Œæˆ‘çš„å­¦ä¹ æ–¹å‘éå¸¸éšå¿ƒæ‰€æ¬²ï¼Œæƒ³å­¦ä»€ä¹ˆå°±å¼€å§‹è¯»å®˜æ–¹æ–‡æ¡£ï¼Œæ‰¾æºç ï¼Œå­¦ä¹ æ•ˆç‡ä¸é«˜ã€‚</p><p>æˆ‘ä¹Ÿå¼€å§‹åæ€ï¼Œæˆ‘è¿™æ ·çš„å­¦ä¹ æ–¹æ³•æ˜¯ä¸æ˜¯å¤ªè¿‡äºæµªè´¹å¥½ä¸å®¹æ˜“åœ¨ä¸‹ç­åæŒ¤å‡ºçš„å®è´µæ—¶é—´ã€‚</p><p>æˆ‘å¼€å§‹æ‰¾æé«˜å­¦ä¹ æ•ˆç‡çš„æ•™ç¨‹ï¼Œäºæ˜¯æ‰¾åˆ°äº†<a href="https://time.geekbang.org/column/intro/100064501?tab=catalog" target="_blank" rel="noopener noreferrer">ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a>ã€‚åœ¨ä¸“æ ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†å¥½çš„å­¦ä¹ æ–¹æ³•å’Œåšäº‹æ–¹æ³•ï¼Œä¸‹æ–‡å°†åˆ†äº«æˆ‘çš„ä¸€äº›å­¦ä¹ å¿ƒå¾—ã€‚</p><p><strong>è–…ç¾Šæ¯› tipsï¼š</strong>
<strong>å¦‚æœä½ æœ‰ç‚¹è¿›å»ä½ ä¼šå‘ç°è¿™ä¸ªä¸“æ æ˜¯æ”¶è´¹çš„ï¼ä¸è¿‡ä¸æ€•ï¼Œå¯ä»¥è–…ç¾Šæ¯›ï¼Œä¸‹è½½ app å¯ä»¥å…è´¹é˜…è¯» 5 å¤©ï¼Œå·®ä¸å¤šä¹Ÿèƒ½å­¦å®Œè¿™ä¸ªä¸“æ ã€‚</strong></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äºŒæ™‹å‡ä½“ç³»">äºŒã€æ™‹å‡ä½“ç³»<a class="hash-link" href="#äºŒæ™‹å‡ä½“ç³»" title="Direct link to heading">â€‹</a></h2><p>åœ¨ç¬¬ä¸€ç« èŠ‚æ™‹å‡ä½“ç³»ä¸­ï¼Œäº†è§£èŒçº§ä½“ç³»ã€æ™‹å‡æµç¨‹ã€æ™‹å‡åŸåˆ™ã€æ™‹å‡é€»è¾‘ã€èŒçº§æ¡£æ¬¡ï¼Œä¸å†æ— çš„æ”¾çŸ¢çš„å¯»æ‰¾æ™‹å‡çš„æ–¹æ³•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-èŒçº§ä½“ç³»">1. èŒçº§ä½“ç³»<a class="hash-link" href="#1-èŒçº§ä½“ç³»" title="Direct link to heading">â€‹</a></h3><p>äº’è”ç½‘å…¬å¸æ™‹å‡ä½“ç³»åŒ…å«ä»‹è·¨è¶Šå¼èŒçº§ä½“ç³»å’Œé˜¶æ¢¯å¼èŒçº§ä½“ç³»ä¸¤ç§ï¼Œè·¨è¶Šå¼ç›¸é‚»çº§åˆ«å·®å¼‚å¤§ã€æ™‹å‡æœºä¼šå°‘ï¼Œé˜¶æ¢¯å¼ç›¸é‚»çº§åˆ«å·®å¼‚å°ã€æ™‹å‡æœºä¼šå¤šã€‚</p><p>äº†è§£äº†èŒçº§ä½“ç³»åï¼Œåˆ¤æ–­è‡ªå·±æ‰€åœ¨å…¬å¸å±äºå“ªä¸ªç±»åˆ«ï¼Œæ¸…æ™°è‡ªå·±çš„ç›®æ ‡ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91d544789786481c902e47c2bc3eca77~tplv-k3u1fbpfcp-zoom-1.image" alt="s11141202112022"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-æ™‹å‡æµç¨‹">2. æ™‹å‡æµç¨‹<a class="hash-link" href="#2-æ™‹å‡æµç¨‹" title="Direct link to heading">â€‹</a></h3><p>æ™‹å‡æµç¨‹åŒ…æ‹¬ä¸»ç®¡æå-&gt;éƒ¨é—¨å†…åˆç­›-&gt;è¯„å§”å›¢è€ƒå¯Ÿ-&gt;éƒ¨é—¨è°ƒæ§-&gt;é«˜å±‚ç¡®è®¤-&gt;ä¸»ç®¡/HR æ²Ÿé€šã€‚</p><ul><li>ä¸»ç®¡æåï¼š<strong>ç»©æ•ˆæ»¡è¶³ã€å¹´é™æ»¡è¶³ã€èƒ½åŠ›æ»¡è¶³</strong>ï¼›</li><li>éƒ¨é—¨å†…åˆç­›ï¼šæ¨ªå‘å¯¹æ¯”å¤šä¸ªå›¢é˜Ÿæåçš„äººæ—¶ï¼Œ<strong>èƒ½åŠ›æ»¡è¶³</strong>ï¼›</li><li>è¯„å§”å›¢è€ƒå¯Ÿï¼š<strong>ç­”è¾©ææ–™è¿‡å…³ã€ç­”è¾©ç°åœºè¡¨ç°è¿‡å…³</strong>ï¼›</li><li>éƒ¨é—¨è°ƒæ§ï¼šæ¨ªå‘å¯¹æ¯”å¤šä¸ªå›¢é˜Ÿç­”è¾©çš„äººæ—¶ï¼Œ<strong>ç­”è¾©è¿‡å…³</strong>ï¼›</li><li>é«˜å±‚ç¡®è®¤ï¼šç­‰å¾…å³å¯ï¼›</li><li>ä¸»ç®¡/HR æ²Ÿé€šï¼šç­‰å¾…å³å¯ã€‚</li></ul><p>å› æ­¤ï¼ŒæŠ€æœ¯èƒ½åŠ›å’Œç­”è¾©çš„æŠ€å·§æ˜¯åŒç­‰é‡è¦ï¼Œä¸ä»…åœ¨æ—¥å¸¸è¦å‚¨å¤‡æŠ€æœ¯èƒ½åŠ›ï¼Œä¹Ÿè¦åŠ å¼ºè¡¨è¾¾æŠ€å·§ï¼Œèƒ½å¤ŸæŠŠè‡ªå·±ä¼˜ç§€çš„ç‚¹éå¸¸å¥½çš„è¡¨ç°å‡ºæ¥ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-æ™‹å‡åŸåˆ™">3. æ™‹å‡åŸåˆ™<a class="hash-link" href="#3-æ™‹å‡åŸåˆ™" title="Direct link to heading">â€‹</a></h3><p>æ™‹å‡æœ‰ 3 å¤§åŸåˆ™ï¼Œæ»¡è¶³ä»¥ä¸‹åŸåˆ™ä¼šæ›´å®¹æ˜“æ™‹å‡ï¼š</p><ul><li>ä¸»åŠ¨åŸåˆ™ï¼š<strong>ä¸»åŠ¨åšäº‹</strong>ï¼ˆä¸»åŠ¨æ‰¾ leader æ²Ÿé€šå·¥ä½œã€ä¸»åŠ¨æ‰¾åˆ«äººæ²Ÿé€šäº†è§£æ›´å¤šä¿¡æ¯ï¼‰ï¼›</li><li>æˆé•¿åŸåˆ™ï¼š<strong>ä¸€è¾¹åšäº‹ä¸€è¾¹æŒ–æ˜æˆé•¿ç‚¹æå‡è‡ªå·±</strong>ï¼ˆè€Œä¸æ˜¯ä¸€ç›´åŸåœ°è¸æ­¥ç”¨ç†Ÿæ‚‰çš„æŠ€æœ¯ï¼‰ï¼›</li><li>ä»·å€¼åŸåˆ™ï¼š<strong>å­¦ä¹ ä¸ºå…¬å¸äº§å‡ºä»·å€¼çš„æŠ€èƒ½</strong>ï¼ˆè€Œä¸æ˜¯åªå­¦ä¹ è‡ªå·±æ„Ÿå…´è¶£çš„æŠ€èƒ½ï¼‰ã€‚</li></ul><p>å› æ­¤ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œåº”è¯¥æ›´åŠ ä¸»åŠ¨çš„æ²Ÿé€šå·¥ä½œï¼Œåœ¨å·¥ä½œä¸­å‘æ˜å¯æˆé•¿çš„ç‚¹ï¼Œå¦‚å¼•ç”¨æ–°æŠ€æœ¯ï¼Œå¹¶ä¸”æŒç»­çš„å­¦ä¹ å¯¹å·¥ä½œæœ‰å¸®åŠ©çš„æŠ€èƒ½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ™‹å‡é€»è¾‘">4. æ™‹å‡é€»è¾‘<a class="hash-link" href="#4-æ™‹å‡é€»è¾‘" title="Direct link to heading">â€‹</a></h3><p>æ€ä¹ˆåˆ¤æ–­æœ‰æ²¡æœ‰è¾¾åˆ°æ™‹å‡è¦æ±‚å‘¢ï¼Ÿåº”è¯¥æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li><strong>èƒ½å¤Ÿåšå¥½å½“å‰çº§åˆ«çš„äº‹</strong>ï¼ˆåšåˆ°ç²¾é€šçš„æ°´å¹³ï¼Œç²¾é€š=ä¼˜åŒ–å’Œåˆ›é€ æ–°çš„ç»éªŒï¼‰ï¼›</li><li><strong>å¯»æ‰¾æœºä¼šæå‰åšä¸‹ä¸€çº§åˆ«çš„äº‹ï¼Œå¹¶å–å¾—å·¥ä½œæˆæœ</strong>ã€‚</li></ul><p>å› æ­¤ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œä¸èƒ½ä»…ä»…åŸ‹å¤´å¹²æ´»ï¼Œè¿˜åº”è¯¥æ€è€ƒä¼˜åŒ–ï¼Œå»åˆ›é€ æ–°çš„ç»éªŒï¼Œåœ¨å®Œå…¨ç²¾é€šå½“å‰å·¥ä½œæ—¶ï¼Œä¸»åŠ¨æ²Ÿé€šï¼Œå¯»æ‰¾æœºä¼šæå‰åšä¸‹ä¸€çº§åˆ«çš„äº‹ã€‚</p><p>å› ä¸ºæ™‹å‡å’Œè¡¨ç™½ä¸€æ ·ï¼Œè¡¨ç™½æ˜¯ä¸¤ä¸ªäººæ—¶æœºåˆ°äº†äº’æœ‰æ„Ÿè§‰å°±èƒ½æˆåŠŸï¼Œè€Œæ™‹å‡æ˜¯ä½ å·²ç»æŒæ¡äº†ä¸‹ä¸€çº§åˆ«çš„èƒ½åŠ›å°±èƒ½æ™‹å‡åˆ°ä¸‹ä¸€çº§åˆ«ã€‚ä¸¤è€…éƒ½æ˜¯å……åˆ†å‡†å¤‡åï¼Œæ°´åˆ°æ¸ æˆçš„äº‹æƒ…ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-comd-èƒ½åŠ›æ¨¡å‹">5. COMD èƒ½åŠ›æ¨¡å‹<a class="hash-link" href="#5-comd-èƒ½åŠ›æ¨¡å‹" title="Direct link to heading">â€‹</a></h3><p>é€šè¿‡ COMD èƒ½åŠ›æ¨¡å‹æŠŠæŠ½è±¡çš„èƒ½åŠ›è¦æ±‚å…·ä½“åŒ–ï¼Œå¸®åŠ©æˆ‘ä»¬æ¸…æ™°æˆé•¿çš„ç›®æ ‡åŒ…å«çš„èƒ½åŠ›èŒƒå›´ã€‚</p><p>COMD èƒ½åŠ›æ¨¡å‹åŒ…å« 4 ç§å¤æ‚åº¦ + 3 ä¸ªç»´åº¦ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡äº‹æƒ…çš„å¤æ‚åº¦æ¥åˆ¤æ–­èƒ½åŠ›çš„é«˜ä½ã€‚</p><p>4 ç§å¤æ‚åº¦ï¼š</p><ul><li>è§„æ¨¡å¤æ‚åº¦ï¼šè§„æ¨¡è¶Šå¤§ï¼Œè§„æ¨¡å¤æ‚åº¦è¶Šé«˜ï¼›</li><li>æ—¶é—´å¤æ‚åº¦ï¼šæ—¶é—´è·¨åº¦è¶Šå¤§ï¼Œæ—¶é—´å¤æ‚åº¦è¶Šé«˜ï¼›</li><li>ç¯å¢ƒå¤æ‚åº¦ï¼šç¯å¢ƒä¸ç¡®å®šæ€§è¶Šé«˜ï¼Œç¯å¢ƒå¤æ‚åº¦è¶Šé«˜ï¼›</li><li>åˆ›æ–°å¤æ‚åº¦ï¼šåˆ›æ–°ç¨‹åº¦è¶Šé«˜ï¼Œåˆ›æ–°å¤æ‚åº¦è¶Šé«˜ã€‚</li></ul><p>3 ä¸ªç»´åº¦ï¼š</p><ul><li>æŠ€æœ¯ï¼›</li><li>ä¸šåŠ¡ï¼›</li><li>ç®¡ç†ã€‚</li></ul><p>COMD æ¨¡å‹åº”ç”¨åœ¨ P6 çš„ä¾‹å­ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a61a1f0af9ff4485949735d8f0af396a~tplv-k3u1fbpfcp-zoom-1.image" alt="s11383702112022"></p><p>æŒæ¡ COMD æ¨¡å‹åï¼Œæ›´åŠ æ¸…æ™°å„ä¸ªçº§åˆ«çš„èƒ½åŠ›è¦æ±‚ï¼Œå¯ä»¥æŒ‰ç…§åˆ—å‡ºçš„èƒ½åŠ›è¦æ±‚è¿›è¡Œé’ˆå¯¹æ€§æå‡ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="6-èŒçº§æ¡£æ¬¡">6. èŒçº§æ¡£æ¬¡<a class="hash-link" href="#6-èŒçº§æ¡£æ¬¡" title="Direct link to heading">â€‹</a></h3><p>ä»¥é˜¿é‡Œä¸ºä¾‹åˆ—ä¸¾äº† P5-P10 çš„èŒçº§æ¡£æ¬¡å¯¹åº”çš„è§’è‰²ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c5cdabce7f194c5f864dc536a5ce9f69~tplv-k3u1fbpfcp-zoom-1.image" alt="s11264202112022"></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œé«˜çº§åˆ«çš„èƒ½åŠ›è¦æ±‚é»˜è®¤åŒ…å«äº†ä½çº§åˆ«çš„è¦æ±‚ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¸‰èŒçº§è¯¦è§£">ä¸‰ã€èŒçº§è¯¦è§£<a class="hash-link" href="#ä¸‰èŒçº§è¯¦è§£" title="Direct link to heading">â€‹</a></h2><p>ä»æŠ€æœ¯ã€ä¸šåŠ¡ã€ç®¡ç† 3 ä¸ªæ–¹å‘å¯¹ P5-P9 è¿›è¡ŒèŒçº§è¯¦è§£ï¼š</p><blockquote><p>å„ä¸ªèŒçº§å…·ä½“çš„æå‡æ”»ç•¥è§<a href="https://time.geekbang.org/column/article/319262" target="_blank" rel="noopener noreferrer">ã€Šå¤§å‚æ™‹å‡æŒ‡å—-èŒçº§è¯¦è§£ã€‹</a>ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-p5">1. P5<a class="hash-link" href="#1-p5" title="Direct link to heading">â€‹</a></h3><ul><li>æŠ€æœ¯ï¼šå·¥ä½œå²—ä½ä¸­å®é™…ç”¨åˆ°çš„åŸºç¡€æŠ€æœ¯çš„ç§¯ç´¯ï¼›</li><li>ä¸šåŠ¡ï¼šç†Ÿæ‚‰å„é¡¹ä¸šåŠ¡çš„å¤„ç†é€»è¾‘ï¼›</li><li>ç®¡ç†ï¼šäº†è§£å…¬å¸çš„ç®¡ç†åˆ¶åº¦å’Œé¡¹ç›®æµç¨‹ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-p6">2. P6<a class="hash-link" href="#2-p6" title="Direct link to heading">â€‹</a></h3><ul><li>æŠ€æœ¯ï¼šæŒæ¡å›¢é˜Ÿç”¨åˆ°çš„æŠ€æœ¯â€œå¥—è·¯â€ï¼›</li><li>ä¸šåŠ¡ï¼šæŒæ¡æ‰€æœ‰åŠŸèƒ½å¹¶æ·±åº¦ç†è§£å¤„ç†é€»è¾‘ï¼›</li><li>ç®¡ç†ï¼šæ¨è¿›é¡¹ç›®ä¸­çš„å­ä»»åŠ¡ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-p7">3. P7<a class="hash-link" href="#3-p7" title="Direct link to heading">â€‹</a></h3><ul><li>æŠ€æœ¯ï¼šç²¾é€šå›¢é˜Ÿç›¸å…³æŠ€æœ¯ï¼›</li><li>ä¸šåŠ¡ï¼šå…³æ³¨ä¸šåŠ¡æ•´ä½“ï¼›</li><li>ç®¡ç†ï¼šæŒ‡æŒ¥ 10 äººä»¥å†…çš„å°å›¢é˜Ÿã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-p8">4. P8<a class="hash-link" href="#4-p8" title="Direct link to heading">â€‹</a></h3><ul><li>æŠ€æœ¯ï¼šç²¾é€šé¢†åŸŸç›¸å…³æŠ€æœ¯ï¼›</li><li>ä¸šåŠ¡ï¼šç†Ÿæ‚‰å¤šä¸ªä¸šåŠ¡æˆ–ç²¾é€šç«¯åˆ°ç«¯ä¸šåŠ¡ï¼›</li><li>ç®¡ç†ï¼šæ ¸å¿ƒæ˜¯æŠ“é‡ç‚¹ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-p9">5. P9<a class="hash-link" href="#5-p9" title="Direct link to heading">â€‹</a></h3><ul><li>æŠ€æœ¯ï¼šè·¨é¢†åŸŸæ•´åˆèƒ½åŠ›ï¼›</li><li>ä¸šåŠ¡ï¼šä»ç†è§£è§„åˆ’åˆ°äº²è‡ªå¯¼æ¼”ï¼›</li><li>ç®¡ç†ï¼šæˆæƒä½†ä¸è¦æ”¾ç¾Šã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/417289a1591241ab8c3ccfbedc6c2ade~tplv-k3u1fbpfcp-zoom-1.image" alt="s11272702112022"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å››å­¦ä¹ æ–¹æ³•">å››ã€å­¦ä¹ æ–¹æ³•<a class="hash-link" href="#å››å­¦ä¹ æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-å­¦ä¹ æ–¹å‘">1. å­¦ä¹ æ–¹å‘<a class="hash-link" href="#1-å­¦ä¹ æ–¹å‘" title="Direct link to heading">â€‹</a></h3><p>æ‰¾åˆ°æ­£ç¡®çš„å­¦ä¹ æ–¹å‘ï¼Œå­¦ä¹ æ–¹å‘åº”è¯¥å›´ç»•ä»¥ä¸‹ 2 ä¸ªæ–¹é¢ï¼š</p><ul><li>å·¥ä½œå¼ºç›¸å…³ï¼ˆä¸å·¥ä½œå¼±ç›¸å…³çš„å­¦ä¹ ä¼˜å…ˆçº§å¯é™ä½ï¼‰ï¼›</li><li>èƒ½äº§å‡ºä»·å€¼ï¼ˆæ²¡æœ‰äº§å‡ºçš„å­¦ä¹ ä¼˜å…ˆçº§å¯é™ä½ï¼‰ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-é“¾å¼å­¦ä¹ æ³•">2. é“¾å¼å­¦ä¹ æ³•<a class="hash-link" href="#2-é“¾å¼å­¦ä¹ æ³•" title="Direct link to heading">â€‹</a></h3><p>é“¾å¼å­¦ä¹ æ³•ï¼Œå¯ä»¥æå‡æŠ€æœ¯æ·±åº¦ï¼Œè®©çŸ¥è¯†å½¢æˆé”é“¾ï¼Œç¯ç¯ç›¸æ‰£ã€‚</p><p>åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>æ˜ç¡®ä¸€é¡¹æŠ€æœ¯çš„æ·±åº¦å¯ä»¥åˆ†ä¸ºå“ªäº›å±‚ï¼›</li><li>æ˜ç¡®è¦å­¦åˆ°å“ªä¸€å±‚ï¼›</li><li>æ˜ç¡®æ¯ä¸€å±‚åº”è¯¥æ€ä¹ˆå­¦ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-æ¯”è¾ƒå­¦ä¹ æ³•">3. æ¯”è¾ƒå­¦ä¹ æ³•<a class="hash-link" href="#3-æ¯”è¾ƒå­¦ä¹ æ³•" title="Direct link to heading">â€‹</a></h3><p>æ¯”è¾ƒå­¦ä¹ æ³•ï¼Œé€šè¿‡æ¨ªå‘å¯¹æ¯”ä¸åŒæŠ€æœ¯ï¼Œè®©æŠ€æœ¯é€‰å‹æ›´åŠ æœ‰ç†æœ‰æ®ã€‚</p><p>åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>æ•´ç†é¢†åŸŸå…³é”®æŠ€æœ¯ç‚¹ï¼›</li><li>æ•´ç†ä¸åŒæŠ€æœ¯çš„å·®å¼‚ç‚¹ï¼›</li><li>æ•´ç†å·®å¼‚ç‚¹èƒŒåçš„åŸç†å’Œå¯¹åº”ç”¨åœºæ™¯çš„å½±å“ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-é—´éš”å­¦ä¹ æ³•">4. é—´éš”å­¦ä¹ æ³•<a class="hash-link" href="#4-é—´éš”å­¦ä¹ æ³•" title="Direct link to heading">â€‹</a></h3><blockquote><p>è¯¥æ–¹æ³•æ¥è‡ª<a href="https://time.geekbang.org/column/article/331463" target="_blank" rel="noopener noreferrer">å¤§å‚æ™‹å‡æŒ‡å— - 19 | é“¾å¼ &amp; æ¯”è¾ƒ &amp; ç¯å¼å­¦ä¹ æ³•ï¼šæ€ä¹ˆå¤šç»´åº¦æå‡æŠ€æœ¯èƒ½åŠ›ï¼Ÿ</a>è¯„è®ºåŒº</p></blockquote><p>é•¿æœŸè®°å¿†çš„å½¢æˆï¼Œéœ€è¦æœ‰ä¸ªå·©å›ºçš„è¿‡ç¨‹ï¼Œå¯èƒ½æ˜¯æ•°å°æ—¶ï¼Œå¯èƒ½æ˜¯æ•°å¤©ï¼Œåœ¨è¿™æœŸé—´ï¼Œè®°å¿†ç—•è¿¹å¾—åˆ°åŠ æ·±ï¼Œæ‰€å­¦çš„æ–°çŸ¥è¯†ä¸æ—§çŸ¥è¯†å»ºç«‹è¿æ¥ï¼Œå¸¦æ¥ç¨³å›ºçš„é•¿æœŸè®°å¿†ï¼Œå› æ­¤ä¸è¦é¢‘ç¹çš„è¿›è¡Œé›†ä¸­å¼å­¦ä¹ ï¼Œè€Œæ˜¯æœ‰é—´éš”çš„è¿›è¡Œã€‚</p><p>æ‹¿å­¦ä¹ ä¸“æ æ¥è¯´ï¼Œä¸è¦åå¤åœ°å»å­¦ä¹ åŒä¸€ç« èŠ‚ï¼Œè€Œæ˜¯æœ‰é—´éš”åœ°è¿›è¡Œï¼Œç­‰é—å¿˜ä¸€äº›åè¿›è¡Œç»ƒä¹ ï¼Œèƒ½å¤Ÿå½¢æˆé•¿ä¹…çš„è®°å¿†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-teach-å­¦ä¹ æ³•">5. Teach å­¦ä¹ æ³•<a class="hash-link" href="#5-teach-å­¦ä¹ æ³•" title="Direct link to heading">â€‹</a></h3><p>é€šè¿‡æ•™åˆ«äººæ¥æå‡è‡ªå·±ï¼Œæˆ‘çš„æ–¹å¼æ˜¯<strong>å†™åšå®¢</strong>ã€‚</p><p>å­¦ä¹ å®ŒæŠ€æœ¯åï¼Œå°†å­¦åˆ°çš„ä¸œè¥¿é€šè¿‡åšå®¢çš„æ–¹å¼ï¼Œä¼ æˆç»™å…¶ä»–äººã€‚</p><p>åœ¨å†™åšå®¢çš„è¿‡ç¨‹ä¸­å¯ä»¥å·©å›ºã€æ¢³ç†çŸ¥è¯†ï¼Œå¹¶ä¸”è¾“å‡ºå­¦ä¹ æˆæœï¼ŒåŠ å¼ºå­¦ä¹ çš„æ·±åº¦ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bde90cba595e452290e5c688e4d4a817~tplv-k3u1fbpfcp-zoom-1.image" alt="s11450402112022"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="äº”åšäº‹æ–¹æ³•">äº”ã€åšäº‹æ–¹æ³•<a class="hash-link" href="#äº”åšäº‹æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-3c-æ–¹æ¡ˆè®¾è®¡æ³•">1. 3C æ–¹æ¡ˆè®¾è®¡æ³•<a class="hash-link" href="#1-3c-æ–¹æ¡ˆè®¾è®¡æ³•" title="Direct link to heading">â€‹</a></h3><p>æ¯æ¬¡åšäº‹çš„æ—¶å€™è‡³å°‘è®¾è®¡ 3 ä¸ªæ–¹æ¡ˆï¼Œæ‹©ä¼˜æ‰§è¡Œã€‚</p><p>èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç³»ç»Ÿçš„æ¢³ç†ä¸€ä¸ªé¢†åŸŸï¼Œæå‡æ•´ä½“æµç¨‹å’Œå·¥ä½œæ•ˆç‡ã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-pdca-æ‰§è¡Œæ³•">2. PDCA æ‰§è¡Œæ³•<a class="hash-link" href="#2-pdca-æ‰§è¡Œæ³•" title="Direct link to heading">â€‹</a></h3><p>PDCA æ‰§è¡Œæ³•æŠŠäº‹æƒ…çš„æ‰§è¡Œè¿‡ç¨‹åˆ†æˆå››ä¸ªç¯èŠ‚ï¼Œä¿è¯å…·ä½“äº‹é¡¹é«˜æ•ˆé«˜è´¨åœ°è½åœ°ï¼š</p><ul><li>è®¡åˆ’ï¼šç¡®å®šå…·ä½“ä»»åŠ¡ã€é˜¶æ®µç›®æ ‡ã€æ—¶é—´èŠ‚ç‚¹å’Œå…·ä½“è´£ä»»äººï¼›</li><li>æ‰§è¡Œï¼šè½åœ°å„é¡¹å…·ä½“æ´»åŠ¨ï¼›</li><li>æ£€æŸ¥ï¼šæ£€æŸ¥å®é™…æ‰§è¡Œç»“æœï¼›</li><li>è¡ŒåŠ¨ï¼šæ˜ç¡®ä¸‹ä¸€æ­¥éœ€è¦é‡‡å–çš„æªæ–½ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3-5why-åˆ†ææ³•">3. 5Why åˆ†ææ³•<a class="hash-link" href="#3-5why-åˆ†ææ³•" title="Direct link to heading">â€‹</a></h3><p>æ‰¾å‡†é—®é¢˜æºå¤´æ‰èƒ½æ²»æ ‡åˆæ²»æœ¬ï¼Œé€šè¿‡è¿½é—® 5 ä¸ªä¸ºä»€ä¹ˆæ¥åˆ†æé—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œä»è€Œå¾—åˆ°å½»åº•çš„è§£å†³æ–¹æ¡ˆã€‚</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="4-é‡‘å­—å¡”æ±‡æŠ¥æ³•">4. é‡‘å­—å¡”æ±‡æŠ¥æ³•<a class="hash-link" href="#4-é‡‘å­—å¡”æ±‡æŠ¥æ³•" title="Direct link to heading">â€‹</a></h3><p>é‡‘å­—å¡”æ±‡æŠ¥æ³•æ¥æºäºé‡‘å­—å¡”åŸç†ï¼Œé‡‘å­—å¡”åŸç†çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»»ä½•äº‹æƒ…éƒ½å¯ä»¥å½’çº³å‡ºä¸€ä¸ªä¸­å¿ƒæ€æƒ³ï¼Œä¸­å¿ƒæ€æƒ³å¯ç”±ä¸‰åˆ°ä¸ƒä¸ªè®ºç‚¹æ”¯æŒï¼Œæ¯ä¸ªè®ºç‚¹å¯ä»¥ç”±ä¸‰åˆ°ä¸ƒä¸ªè®ºæ®æ”¯æ’‘ã€‚</p><p>é‡‘å­—å¡”æ±‡æŠ¥æ³•ï¼š</p><ul><li>æ€»ä½“ç»“è®ºï¼šå…ˆæŠ›å‡ºå…³é”®æ€§ç»“è®ºï¼›</li><li>å…·ä½“åˆ†æï¼šåˆ†æç»“è®ºçš„å› æœï¼›</li><li>å…³é”®äº‹é¡¹ï¼šä»‹ç»åšè¿‡çš„å…³é”®äº‹é¡¹çš„æƒ…å†µï¼›</li><li>æ€»ç»“æ”¹è¿›ï¼šæ€»ç»“ç»éªŒæ•™è®­å’Œåç»­æ”¹è¿›æªæ–½ã€‚</li></ul><p>å…³é”®äº‹é¡¹æ±‡æŠ¥æŠ€å·§ï¼š</p><ul><li>å…¨å±€å¤§å›¾ï¼šå±•ç¤ºæ•´ä½“æƒ…å†µï¼›</li><li>æ¼”è¿›è·¯å¾„ï¼šå±•ç¤ºä¸ªä½“çš„å‘å±•è·¯å¾„å’Œå½“å‰æ‰€å¤„é˜¶æ®µï¼›</li><li>æ—¶é—´è½´ï¼šå±•ç¤ºäº‹æƒ…å‘ç”Ÿè¿‡ç¨‹ï¼›</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5f173682c3e47949c82eda655bf5880~tplv-k3u1fbpfcp-zoom-1.image" alt="s21093702112022"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="5-5w1h1d-åˆ†ææ³•">5. 5W1H1D åˆ†ææ³•<a class="hash-link" href="#5-5w1h1d-åˆ†ææ³•" title="Direct link to heading">â€‹</a></h3><p>5W1H1D åˆ†ææ³•ç”¨äºå¸®åŠ©æˆ‘ä»¬æ·±å…¥ç†è§£ä¸šåŠ¡ï¼Œç†è§£ä¸šåŠ¡åŠŸèƒ½=åˆ†æåŠŸèƒ½éœ€æ±‚+åˆ†æè´¨é‡éœ€æ±‚+æ€»ç»“ä¸Šçº¿æ•ˆæœã€‚</p><p><strong>5Wï¼šéœ€æ±‚äº§ç”Ÿçš„èƒŒæ™¯å’ŒåŠŸèƒ½ä¸Šçº¿åçš„è¿è¡Œç¯å¢ƒ</strong>ã€‚</p><p><strong>1Hï¼šå¦‚ä½•å»å®ç°ï¼Œæ•´ä¸ªæµç¨‹æ˜¯æ€ä¹ˆè¿è¡Œçš„</strong>ã€‚</p><p><strong>1Dï¼šä¸Šçº¿ä¹‹åçš„ä¸šåŠ¡æ•ˆæœ</strong>ã€‚</p><p>5W çš„å…·ä½“æè¿°å¦‚ä¸‹ï¼š</p><ul><li>ä½•æ—¶ï¼šéœ€è¦ç”¨åˆ°è¯¥åŠŸèƒ½çš„æ—¶é—´ï¼›</li><li>ä½•åœ°ï¼šéœ€è¦ç”¨åˆ°è¯¥åŠŸèƒ½çš„åœ°ç‚¹ï¼Œä¹Ÿå¯ä»¥æŒ‡åœºæ‰€ï¼Œå¦‚åœ°é“ã€å¼€è½¦ç­‰ï¼›</li><li>ä½•äººï¼šè¯¥åŠŸèƒ½é¢å‘çš„äººç¾¤ï¼›</li><li>ä½•äº‹ï¼šè¿™ä¸ªåŠŸèƒ½å…·ä½“æ˜¯ä»€ä¹ˆï¼Œä¸€èˆ¬æè¿°åœ¨éœ€æ±‚æ–‡æ¡£ä¸­ï¼›</li><li>ä½•å› ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œåªæœ‰çœŸæ­£äº†è§£å®¢æˆ·æå‡ºéœ€æ±‚çš„é©±åŠ¨åŠ›ï¼Œæ‰èƒ½çœŸæ­£è§£å†³å®¢æˆ·çš„é—®é¢˜ã€‚</li></ul><p>é€šè¿‡ 5W1H8C1D åˆ†ææ³•å¿«é€Ÿå…¥é—¨ï¼Œä¸Šçº¿å‰åˆ†æå’Œç†è§£ä¸šåŠ¡åŠŸèƒ½ï¼Œä¸Šçº¿åç†Ÿæ‚‰è¿è¡Œæ•°æ®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å…­å°ç»“">å…­ã€å°ç»“<a class="hash-link" href="#å…­å°ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡ä»æ™‹å‡ä½“ç³»ã€èŒçº§è¯¦è§£ã€å­¦ä¹ æ–¹æ³•ã€åšäº‹æ–¹æ³• 4 ä¸ªæ–¹å‘ä»‹ç»äº†å­¦ä¹ <a href="https://time.geekbang.org/column/intro/100064501?tab=catalog" target="_blank" rel="noopener noreferrer">ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a>çš„å¿ƒå¾—ï¼Œå…¶ä¸­æ™‹å‡ä½“ç³»ã€èŒçº§è¯¦è§£æå‡è®¤çŸ¥ï¼Œå­¦ä¹ æ–¹æ³•ã€åšäº‹æ–¹æ³•æé«˜æ•ˆç‡ï¼Œæƒ³äº†è§£æ›´å¤šå¯ä»¥è‡³åŸæ–‡-<a href="https://time.geekbang.org/column/intro/100064501?tab=catalog" target="_blank" rel="noopener noreferrer">ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a>è¿›è¡Œå­¦ä¹ ã€‚</p><p>å¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ„Ÿè°¢é˜…è¯»ï½</p><p>åˆ«å¿˜äº†ç‚¹ä¸ªèµé¼“åŠ±ä¸€ä¸‹æˆ‘å“¦ï¼Œç¬”èŠ¯ â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://time.geekbang.org/column/intro/100064501?tab=catalog" target="_blank" rel="noopener noreferrer">ã€Šå¤§å‚æ™‹å‡æŒ‡å—ã€‹</a></li></ul></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/2"><div class="pagination-nav__label">Older Entries<!-- --> <!-- -->Â»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.55023f49.js"></script>
<script src="/assets/js/main.2bcd511e.js"></script>
</body>
</html>